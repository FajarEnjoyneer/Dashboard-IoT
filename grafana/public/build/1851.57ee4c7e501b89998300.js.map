{"version":3,"file":"1851.57ee4c7e501b89998300.js","mappings":"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","sources":["webpack://grafana/./packages/grafana-alerting/src/grafana/contactPoints/hooks/v0alpha1/useContactPoints.tsx","webpack://grafana/./packages/grafana-alerting/src/grafana/contactPoints/utils.ts","webpack://grafana/./packages/grafana-alerting/src/grafana/contactPoints/components/ContactPointSelector/ContactPointSelector.tsx","webpack://grafana/./public/app/features/alerting/unified/components/rules/RuleListErrors.tsx","webpack://grafana/./public/app/features/alerting/unified/components/rules/RulesGroup.tsx","webpack://grafana/./public/app/features/alerting/unified/components/rules/useCombinedGroupNamespace.tsx","webpack://grafana/./public/app/features/alerting/unified/components/rules/CloudRules.tsx","webpack://grafana/./public/app/features/alerting/unified/components/export/GrafanaRulesExporter.tsx","webpack://grafana/./public/app/features/alerting/unified/components/rules/GrafanaRules.tsx","webpack://grafana/./public/app/features/alerting/unified/components/rules/RuleListGroupView.tsx","webpack://grafana/./public/app/features/alerting/unified/components/rules/RuleListStateView.tsx","webpack://grafana/./public/app/features/alerting/unified/rule-list/RuleList.v1.tsx","webpack://grafana/./public/app/features/alerting/unified/RuleList.tsx","webpack://grafana/./public/app/features/alerting/unified/components/CollapseToggle.tsx","webpack://grafana/./public/app/features/alerting/unified/components/export/GrafanaRuleFolderExporter.tsx","webpack://grafana/./public/app/features/alerting/unified/api/alertingFolderActionsApi.ts","webpack://grafana/./public/app/features/alerting/unified/components/folder-actions/DeleteModal.tsx","webpack://grafana/./public/app/features/alerting/unified/components/folder-actions/PauseUnpauseActionMenuItem.tsx","webpack://grafana/./public/app/features/alerting/unified/components/folder-actions/FolderActionsButton.tsx","webpack://grafana/./public/app/features/alerting/unified/components/rules/ActionIcon.tsx","webpack://grafana/./public/app/features/alerting/unified/components/rules/MultipleDataSourcePicker.tsx","webpack://grafana/./public/app/features/alerting/unified/components/rules/Filter/RulesFilter.v1.tsx","webpack://grafana/./public/app/features/alerting/unified/components/rules/Filter/RulesViewModeSelector.tsx","webpack://grafana/./public/app/features/alerting/unified/components/rules/NoRulesCTA.tsx","webpack://grafana/./public/app/features/alerting/unified/plugins/useAlertingHomePageExtensions.ts","webpack://grafana/./public/app/features/alerting/unified/rule-list/RuleListPageTitle.tsx","webpack://grafana/./public/app/features/alerting/unified/rule-list/components/AlertRuleListItem.tsx","webpack://grafana/./public/app/features/alerting/unified/rule-list/components/ListItem.tsx","webpack://grafana/./public/app/features/alerting/unified/rule-list/components/ListSection.tsx","webpack://grafana/./public/app/features/alerting/unified/rule-list/components/Namespace.tsx","webpack://grafana/./public/app/features/alerting/unified/rule-list/components/RuleListIcon.tsx","webpack://grafana/./public/app/features/alerting/unified/utils/accessControlHooks.ts","webpack://grafana/./node_modules/react-use/esm/useInterval.js"],"sourcesContent":["import {\n  type TypedUseMutationResult,\n  type TypedUseQueryHookResult,\n  fetchBaseQuery,\n} from '@reduxjs/toolkit/query/react';\nimport { OverrideProperties } from 'type-fest';\n\nimport { CreateReceiverApiArg, type ListReceiverApiArg, alertingAPI } from '../../../api/v0alpha1/api.gen';\nimport type { ContactPoint, EnhancedListReceiverApiResponse } from '../../../api/v0alpha1/types';\n\n// this is a workaround for the fact that the generated types are not narrow enough\ntype ListContactPointsHookResult = TypedUseQueryHookResult<\n  EnhancedListReceiverApiResponse,\n  ListReceiverApiArg,\n  ReturnType<typeof fetchBaseQuery>\n>;\n\n/**\n * useListContactPoints is a hook that fetches a list of contact points\n *\n * This function wraps the alertingAPI.useListReceiverQuery with proper typing\n * to ensure that the returned ContactPoints are correctly typed in the data.items array.\n *\n * It automatically uses the configured namespace for the query.\n */\nexport function useListContactPoints() {\n  return alertingAPI.useListReceiverQuery<ListContactPointsHookResult>({});\n}\n\n// type narrowing mutations requires us to define a few helper types\ntype CreateContactPointArgs = OverrideProperties<\n  CreateReceiverApiArg,\n  { receiver: Omit<ContactPoint, 'status' | 'metadata'> }\n>;\n\ntype CreateContactPointMutation = TypedUseMutationResult<\n  ContactPoint,\n  CreateContactPointArgs,\n  ReturnType<typeof fetchBaseQuery>\n>;\n\ntype UseCreateContactPointOptions = Parameters<\n  typeof alertingAPI.endpoints.createReceiver.useMutation<CreateContactPointMutation>\n>[0];\n\n/**\n * useCreateContactPoint is a hook that creates a new contact point with one or more integrations\n *\n * This function wraps the alertingAPI.useCreateReceiverMutation with proper typing\n * to ensure that the payload supports type narrowing.\n */\nexport function useCreateContactPoint(options?: UseCreateContactPointOptions) {\n  const [updateFn, result] = alertingAPI.endpoints.createReceiver.useMutation<CreateContactPointMutation>(options);\n\n  const typedUpdateFn = (args: CreateContactPointArgs) => {\n    // @ts-expect-error this one is just impossible for me to figure out\n    const response = updateFn(args);\n    return response;\n  };\n\n  return [typedUpdateFn, result] as const;\n}\n","import { countBy, isEmpty } from 'lodash';\n\nimport { ContactPoint } from '../api/v0alpha1/types';\n\n/**\n * Generates a human-readable description of a ContactPoint by summarizing its integrations.\n * If the ContactPoint has no integrations, it returns an empty placeholder text.\n *\n * For integrations, it counts the occurrences of each type and formats them as a comma-separated list.\n * Multiple integrations of the same type are indicated with a count in parentheses.\n *\n * @param contactPoint - The ContactPoint object to describe\n * @returns A string description of the ContactPoint's integrations\n */\nexport function getContactPointDescription(contactPoint: ContactPoint): string {\n  if (isEmpty(contactPoint.spec.integrations)) {\n    return '<empty contact point>';\n  }\n\n  // Count the occurrences of each integration type\n  const integrationCounts = countBy(contactPoint.spec.integrations, (integration) => integration.type);\n\n  const description = Object.entries(integrationCounts)\n    .map(([type, count]) => {\n      // either \"email\" or \"email (2)\" but not \"email (1)\"\n      return count > 1 ? `${type} (${count})` : type;\n    })\n    .join(', ');\n\n  return description;\n}\n","import { chain } from 'lodash';\n\nimport { Combobox, ComboboxOption } from '@grafana/ui';\n\nimport type { ContactPoint } from '../../../api/v0alpha1/types';\nimport { useListContactPoints } from '../../hooks/v0alpha1/useContactPoints';\nimport { getContactPointDescription } from '../../utils';\n\nimport { CustomComboBoxProps } from './ComboBox.types';\n\nconst collator = new Intl.Collator('en', { sensitivity: 'accent' });\n\nexport type ContactPointSelectorProps = CustomComboBoxProps<ContactPoint>;\n\n/**\n * Contact Point Combobox which lists all available contact points\n * @TODO make ComboBox accept a ReactNode so we can use icons and such\n */\nfunction ContactPointSelector(props: ContactPointSelectorProps) {\n  const { currentData: contactPoints, isLoading } = useListContactPoints();\n\n  // Create a mapping of options with their corresponding contact points\n  const contactPointOptions = chain(contactPoints?.items)\n    .toArray()\n    .map((contactPoint) => ({\n      option: {\n        label: contactPoint.spec.title,\n        value: contactPoint.metadata.uid ?? contactPoint.spec.title,\n        description: getContactPointDescription(contactPoint),\n      } satisfies ComboboxOption<string>,\n      contactPoint,\n    }))\n    .value()\n    .sort((a, b) => collator.compare(a.option.label, b.option.label));\n\n  const options = contactPointOptions.map<ComboboxOption>((item) => item.option);\n\n  const handleChange = (selectedOption: ComboboxOption<string> | null) => {\n    if (selectedOption == null && props.isClearable) {\n      props.onChange(null);\n      return;\n    }\n\n    if (selectedOption) {\n      const matchedOption = contactPointOptions.find(({ option }) => option.value === selectedOption.value);\n      if (!matchedOption) {\n        return;\n      }\n\n      props.onChange(matchedOption.contactPoint);\n    }\n  };\n\n  return <Combobox {...props} loading={isLoading} options={options} onChange={handleChange} />;\n}\n\nexport { ContactPointSelector };\n","import { css } from '@emotion/css';\nimport { SerializedError } from '@reduxjs/toolkit';\nimport { FC, ReactElement, useMemo, useState } from 'react';\nimport { useLocalStorage } from 'react-use';\n\nimport { DataSourceInstanceSettings, GrafanaTheme2 } from '@grafana/data';\nimport { Trans, t } from '@grafana/i18n';\nimport { Alert, Button, Tooltip, useStyles2 } from '@grafana/ui';\n\nimport { useUnifiedAlertingSelector } from '../../hooks/useUnifiedAlertingSelector';\nimport { GRAFANA_RULES_SOURCE_NAME, getRulesDataSources } from '../../utils/datasource';\nimport { makeDataSourceLink } from '../../utils/misc';\nimport { isRulerNotSupportedResponse } from '../../utils/rules';\n\nexport function RuleListErrors(): ReactElement {\n  const [expanded, setExpanded] = useState(false);\n  const [closed, setClosed] = useLocalStorage('grafana.unifiedalerting.hideErrors', false);\n  const promRuleRequests = useUnifiedAlertingSelector((state) => state.promRules);\n  const rulerRuleRequests = useUnifiedAlertingSelector((state) => state.rulerRules);\n  const styles = useStyles2(getStyles);\n\n  const errors = useMemo((): JSX.Element[] => {\n    const [promRequestErrors, rulerRequestErrors] = [promRuleRequests, rulerRuleRequests].map((requests) =>\n      getRulesDataSources().reduce<Array<{ error: SerializedError; dataSource: DataSourceInstanceSettings }>>(\n        (result, dataSource) => {\n          const error = requests[dataSource.name]?.error;\n          if (requests[dataSource.name] && error && !isRulerNotSupportedResponse(requests[dataSource.name])) {\n            return [...result, { dataSource, error }];\n          }\n          return result;\n        },\n        []\n      )\n    );\n    const grafanaPromError = promRuleRequests[GRAFANA_RULES_SOURCE_NAME]?.error;\n    const grafanaRulerError = rulerRuleRequests[GRAFANA_RULES_SOURCE_NAME]?.error;\n\n    const result: JSX.Element[] = [];\n\n    const unknownError = t('alerting.rule-list-errors.unknown-error', 'Unknown error.');\n\n    if (grafanaPromError) {\n      result.push(\n        <>\n          <Trans i18nKey=\"alerting.rule-list-errors.failed-to-load-grafana-rules-state\">\n            Failed to load Grafana rules state:\n          </Trans>{' '}\n          {grafanaPromError.message || unknownError}\n        </>\n      );\n    }\n    if (grafanaRulerError) {\n      result.push(\n        <>\n          <Trans i18nKey=\"alerting.rule-list-errors.failed-to-load-grafana-rules-config\">\n            Failed to load Grafana rules config:\n          </Trans>{' '}\n          {grafanaRulerError?.message || unknownError}\n        </>\n      );\n    }\n\n    promRequestErrors.forEach(({ dataSource, error }) =>\n      result.push(\n        <>\n          <Trans\n            i18nKey=\"alerting.rule-list-errors.failed-to-load-rules-state\"\n            values={{ dataSource: dataSource.name }}\n          >\n            Failed to load rules state from{' '}\n            <a href={makeDataSourceLink(dataSource.uid)} className={styles.dsLink}>\n              {'{{dataSource}}'}\n            </a>\n          </Trans>\n          : {error.message || unknownError}\n        </>\n      )\n    );\n\n    rulerRequestErrors.forEach(({ dataSource, error }) =>\n      result.push(\n        <>\n          <Trans\n            i18nKey=\"alerting.rule-list-errors.failed-to-load-rules-config\"\n            values={{ dataSource: dataSource.name }}\n          >\n            Failed to load rules config from{' '}\n            <a href={makeDataSourceLink(dataSource.uid)} className={styles.dsLink}>\n              {'{{dataSource}}'}\n            </a>\n          </Trans>\n          : {error.message || unknownError}\n        </>\n      )\n    );\n\n    return result;\n  }, [promRuleRequests, rulerRuleRequests, styles.dsLink]);\n\n  return (\n    <>\n      {!!errors.length && closed && (\n        <ErrorSummaryButton count={errors.length} onClick={() => setClosed((closed) => !closed)} />\n      )}\n      {!!errors.length && !closed && (\n        <Alert\n          data-testid=\"cloud-rulessource-errors\"\n          title={t(\n            'alerting.rule-list-errors.cloud-rulessource-errors-title-errors-loading-rules',\n            'Errors loading rules'\n          )}\n          severity=\"error\"\n          onRemove={() => setClosed(true)}\n        >\n          {expanded && errors.map((item, idx) => <div key={idx}>{item}</div>)}\n          {!expanded && (\n            <>\n              <div>{errors[0]}</div>\n              {errors.length >= 2 && (\n                <Button\n                  className={styles.moreButton}\n                  fill=\"text\"\n                  icon=\"angle-right\"\n                  size=\"sm\"\n                  onClick={() => setExpanded(true)}\n                >\n                  <Trans i18nKey=\"alerting.rule-list-errors.more-errors\" count={errors.length - 1}>\n                    {'{{count}}'} more errors\n                  </Trans>\n                </Button>\n              )}\n            </>\n          )}\n        </Alert>\n      )}\n    </>\n  );\n}\n\ninterface ErrorSummaryProps {\n  count: number;\n  onClick: () => void;\n}\n\nconst ErrorSummaryButton: FC<ErrorSummaryProps> = ({ count, onClick }) => {\n  const styles = useStyles2(getStyles);\n\n  return (\n    <div className={styles.floatRight}>\n      <Tooltip\n        content={t('alerting.error-summary-button.content-show-all-errors', 'Show all errors')}\n        placement=\"bottom\"\n      >\n        <Button fill=\"text\" variant=\"destructive\" icon=\"exclamation-triangle\" onClick={onClick}>\n          <Trans i18nKey=\"alerting.rule-list-errors.button-errors\" count={count}>\n            {'{{count}}'} errors\n          </Trans>\n        </Button>\n      </Tooltip>\n    </div>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  moreButton: css({\n    padding: 0,\n  }),\n  floatRight: css({\n    display: 'flex',\n    justifyContent: 'flex-end',\n  }),\n  dsLink: css({\n    fontWeight: theme.typography.fontWeightBold,\n    color: theme.colors.text.link,\n  }),\n});\n","import { css } from '@emotion/css';\nimport React, { useEffect, useState } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { Trans, t } from '@grafana/i18n';\nimport { Badge, Icon, Spinner, Stack, Tooltip, useStyles2 } from '@grafana/ui';\nimport { CombinedRuleGroup, CombinedRuleNamespace, RulesSource } from 'app/types/unified-alerting';\n\nimport { useFolder } from '../../hooks/useFolder';\nimport { useHasRuler } from '../../hooks/useHasRuler';\nimport { useRulesAccess } from '../../utils/accessControlHooks';\nimport { GRAFANA_RULES_SOURCE_NAME, getRulesSourceName, isCloudRulesSource } from '../../utils/datasource';\nimport { makeFolderLink } from '../../utils/misc';\nimport { groups } from '../../utils/navigation';\nimport { isFederatedRuleGroup, isPluginProvidedRule, rulerRuleType } from '../../utils/rules';\nimport { CollapseToggle } from '../CollapseToggle';\nimport { RuleLocation } from '../RuleLocation';\nimport { GrafanaRuleFolderExporter } from '../export/GrafanaRuleFolderExporter';\nimport { decodeGrafanaNamespace } from '../expressions/util';\nimport { FolderActionsButton } from '../folder-actions/FolderActionsButton';\n\nimport { ActionIcon } from './ActionIcon';\nimport { RuleGroupStats } from './RuleStats';\nimport { RulesTable, useIsRulesLoading } from './RulesTable';\n\ntype ViewMode = 'grouped' | 'list';\n\ninterface Props {\n  namespace: CombinedRuleNamespace;\n  group: CombinedRuleGroup;\n  expandAll: boolean;\n  viewMode: ViewMode;\n}\n\nexport const RulesGroup = React.memo(({ group, namespace, expandAll, viewMode }: Props) => {\n  const { rulesSource } = namespace;\n  const rulesSourceName = getRulesSourceName(rulesSource);\n  const rulerRulesLoaded = useIsRulesLoading(rulesSource);\n\n  const styles = useStyles2(getStyles);\n\n  const [isExporting, setIsExporting] = useState<'folder' | undefined>(undefined);\n  const [isCollapsed, setIsCollapsed] = useState(!expandAll);\n\n  useEffect(() => {\n    setIsCollapsed(!expandAll);\n  }, [expandAll]);\n\n  const { hasRuler } = useHasRuler(namespace.rulesSource);\n\n  const rulerRule = group.rules[0]?.rulerRule;\n  const folderUID =\n    (rulerRule && rulerRuleType.grafana.rule(rulerRule) && rulerRule.grafana_alert.namespace_uid) || undefined;\n  const { folder } = useFolder(folderUID);\n\n  const { canEditRules } = useRulesAccess();\n\n  // group \"is deleting\" if rules source has ruler, but this group has no rules that are in ruler\n  const isDeleting = hasRuler && rulerRulesLoaded && !group.rules.find((rule) => !!rule.rulerRule);\n  const isFederated = isFederatedRuleGroup(group);\n\n  // check if group has provisioned items\n  const isProvisioned = group.rules.some((rule) => {\n    return rulerRuleType.grafana.rule(rule.rulerRule) && rule.rulerRule.grafana_alert.provenance;\n  });\n  const isPluginProvided = group.rules.some((rule) => isPluginProvidedRule(rule.rulerRule ?? rule.promRule));\n\n  const canEditGroup = hasRuler && !isProvisioned && !isFederated && !isPluginProvided && canEditRules(rulesSourceName);\n\n  // check what view mode we are in\n  const isListView = viewMode === 'list';\n  const isGroupView = viewMode === 'grouped';\n\n  const actionIcons: React.ReactNode[] = [];\n\n  // for grafana, link to folder views\n  if (isDeleting) {\n    actionIcons.push(\n      <Stack key=\"is-deleting\">\n        <Spinner />\n        <Trans i18nKey=\"alerting.rules-group.deleting\">Deleting</Trans>\n      </Stack>\n    );\n  } else if (rulesSource === GRAFANA_RULES_SOURCE_NAME) {\n    if (folderUID) {\n      const baseUrl = makeFolderLink(folderUID);\n      if (isGroupView) {\n        actionIcons.push(\n          <ActionIcon\n            aria-label={t('alerting.rule-group-action.details', 'rule group details')}\n            key=\"rule-group-details\"\n            icon=\"info-circle\"\n            tooltip={t('alerting.rule-group-action.details', 'rule group details')}\n            to={groups.detailsPageLink('grafana', folderUID, group.name, { includeReturnTo: true })}\n          />\n        );\n        if (folder?.canSave && canEditGroup) {\n          actionIcons.push(\n            <ActionIcon\n              aria-label={t('alerting.rule-group-action.edit', 'edit rule group')}\n              key=\"rule-group-edit\"\n              icon=\"pen\"\n              tooltip={t('alerting.rule-group-action.edit', 'edit rule group')}\n              to={groups.editPageLink('grafana', folderUID, group.name, { includeReturnTo: true })}\n            />\n          );\n        }\n      }\n      if (folder?.canSave) {\n        if (isListView) {\n          actionIcons.push(\n            <ActionIcon\n              aria-label={t('alerting.rule-group-action.go-to-folder', 'go to folder')}\n              key=\"goto\"\n              icon=\"folder-open\"\n              tooltip={t('alerting.rule-group-action.go-to-folder', 'go to folder')}\n              to={baseUrl}\n              target=\"__blank\"\n            />\n          );\n\n          if (folder?.canAdmin) {\n            actionIcons.push(\n              <ActionIcon\n                aria-label={t('alerting.rule-group-action.manage-permissions', 'manage permissions')}\n                key=\"manage-perms\"\n                icon=\"lock\"\n                tooltip={t('alerting.rule-group-action.manage-permissions', 'manage permissions')}\n                to={baseUrl + '/permissions'}\n                target=\"__blank\"\n              />\n            );\n          }\n        }\n      }\n      if (folder) {\n        if (isListView) {\n          actionIcons.push(<FolderActionsButton folderUID={folderUID} key=\"folder-bulk-actions\" />);\n        }\n      }\n    }\n  } else {\n    actionIcons.push(\n      <ActionIcon\n        aria-label={t('alerting.rule-group-action.details', 'rule group details')}\n        key=\"rule-group-details\"\n        icon=\"info-circle\"\n        tooltip={t('alerting.rule-group-action.details', 'rule group details')}\n        to={groups.detailsPageLink(rulesSource.uid, namespace.name, group.name, { includeReturnTo: true })}\n      />\n    );\n    if (canEditGroup) {\n      actionIcons.push(\n        <ActionIcon\n          aria-label={t('alerting.rule-group-action.edit', 'edit rule group')}\n          key=\"rule-group-edit\"\n          icon=\"pen\"\n          tooltip={t('alerting.rule-group-action.edit', 'edit rule group')}\n          to={groups.editPageLink(rulesSource.uid, namespace.name, group.name, { includeReturnTo: true })}\n        />\n      );\n    }\n  }\n\n  // ungrouped rules are rules that are in the \"default\" group name\n  const groupName = isListView ? (\n    <RuleLocation namespace={decodeGrafanaNamespace(namespace).name} />\n  ) : (\n    <RuleLocation namespace={decodeGrafanaNamespace(namespace).name} group={group.name} />\n  );\n\n  return (\n    <div className={styles.wrapper} data-testid=\"rule-group\">\n      <div className={styles.header} data-testid=\"rule-group-header\">\n        <CollapseToggle\n          size=\"sm\"\n          className={styles.collapseToggle}\n          isCollapsed={isCollapsed}\n          onToggle={setIsCollapsed}\n          data-testid={selectors.components.AlertRules.groupToggle}\n        />\n        <FolderIcon isCollapsed={isCollapsed} />\n        <CloudSourceLogo rulesSource={rulesSource} />\n        {\n          // eslint-disable-next-line\n          <div className={styles.groupName} onClick={() => setIsCollapsed(!isCollapsed)}>\n            {isFederated && <Badge color=\"purple\" text={t('alerting.rules-group.text-federated', 'Federated')} />}{' '}\n            {groupName}\n          </div>\n        }\n        <div className={styles.spacer} />\n        <div className={styles.headerStats}>\n          <RuleGroupStats group={group} />\n        </div>\n        {isProvisioned && (\n          <>\n            <div className={styles.actionsSeparator}>|</div>\n            <div className={styles.actionIcons}>\n              <Badge color=\"purple\" text={t('alerting.rules-group.text-provisioned', 'Provisioned')} />\n            </div>\n          </>\n        )}\n        {!!actionIcons.length && (\n          <>\n            <div className={styles.actionsSeparator}>|</div>\n            <div className={styles.actionIcons}>\n              <Stack gap={0.5}>{actionIcons}</Stack>\n            </div>\n          </>\n        )}\n      </div>\n      {!isCollapsed && (\n        <RulesTable\n          showSummaryColumn={true}\n          className={styles.rulesTable}\n          showGuidelines={true}\n          showNextEvaluationColumn={Boolean(group.interval)}\n          rules={group.rules}\n        />\n      )}\n      {folder && isExporting === 'folder' && (\n        <GrafanaRuleFolderExporter folder={folder} onClose={() => setIsExporting(undefined)} />\n      )}\n    </div>\n  );\n});\n\nRulesGroup.displayName = 'RulesGroup';\n\n// It's a simple component but we render 80 of them on the list page it needs to be fast\n// The Tooltip component is expensive to render and the rulesSource doesn't change often\n// so memoization seems to bring a lot of benefit here\nconst CloudSourceLogo = React.memo(({ rulesSource }: { rulesSource: RulesSource | string }) => {\n  const styles = useStyles2(getStyles);\n\n  if (isCloudRulesSource(rulesSource)) {\n    return (\n      <Tooltip content={rulesSource.name} placement=\"top\">\n        <img alt={rulesSource.meta.name} className={styles.dataSourceIcon} src={rulesSource.meta.info.logos.small} />\n      </Tooltip>\n    );\n  }\n\n  return null;\n});\n\nCloudSourceLogo.displayName = 'CloudSourceLogo';\n\n// We render a lot of these on the list page, and the Icon component does quite a bit of work\n// to render its contents\nconst FolderIcon = React.memo(({ isCollapsed }: { isCollapsed: boolean }) => {\n  return <Icon name={isCollapsed ? 'folder' : 'folder-open'} />;\n});\n\nFolderIcon.displayName = 'FolderIcon';\n\nexport const getStyles = (theme: GrafanaTheme2) => {\n  return {\n    wrapper: css({}),\n    header: css({\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center',\n      padding: `${theme.spacing(1)} ${theme.spacing(1)} ${theme.spacing(1)} 0`,\n      flexWrap: 'nowrap',\n      borderBottom: `1px solid ${theme.colors.border.weak}`,\n\n      '&:hover': {\n        backgroundColor: theme.components.table.rowHoverBackground,\n      },\n    }),\n    headerStats: css({\n      flexShrink: 0,\n\n      span: {\n        verticalAlign: 'middle',\n      },\n\n      [theme.breakpoints.down('sm')]: {\n        order: 2,\n        width: '100%',\n        paddingLeft: theme.spacing(1),\n      },\n    }),\n    groupName: css({\n      marginLeft: theme.spacing(1),\n      marginBottom: 0,\n      cursor: 'pointer',\n\n      whiteSpace: 'nowrap',\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n    }),\n    spacer: css({\n      flex: 1,\n    }),\n    collapseToggle: css({\n      background: 'none',\n      border: 'none',\n      marginTop: `-${theme.spacing(1)}`,\n      marginBottom: `-${theme.spacing(1)}`,\n\n      svg: {\n        marginBottom: 0,\n      },\n    }),\n    dataSourceIcon: css({\n      width: theme.spacing(2),\n      height: theme.spacing(2),\n      marginLeft: theme.spacing(2),\n    }),\n    dataSourceOrigin: css({\n      marginRight: '1em',\n      color: theme.colors.text.disabled,\n    }),\n    actionsSeparator: css({\n      margin: `0 ${theme.spacing(2)}`,\n    }),\n    actionIcons: css({\n      width: '120px',\n      alignItems: 'center',\n\n      flexShrink: 0,\n    }),\n    rulesTable: css({\n      margin: theme.spacing(2, 0),\n    }),\n    rotate90: css({\n      transform: 'rotate(90deg)',\n    }),\n  };\n};\n","import { useMemo } from 'react';\n\nimport { CombinedRuleNamespace } from '../../../../../types/unified-alerting';\n\nexport function useCombinedGroupNamespace(namespaces: CombinedRuleNamespace[]) {\n  return useMemo(\n    () =>\n      namespaces.flatMap((ns) =>\n        ns.groups.map((g) => ({\n          namespace: ns,\n          group: g,\n        }))\n      ),\n    [namespaces]\n  );\n}\n","import { css } from '@emotion/css';\nimport { useMemo } from 'react';\nimport { useLocation } from 'react-router-dom-v5-compat';\n\nimport { GrafanaTheme2, urlUtil } from '@grafana/data';\nimport { Trans, t } from '@grafana/i18n';\nimport { config } from '@grafana/runtime';\nimport { Badge, LinkButton, LoadingPlaceholder, Pagination, Spinner, Stack, Text, useStyles2 } from '@grafana/ui';\nimport { CombinedRuleNamespace } from 'app/types/unified-alerting';\n\nimport { DEFAULT_PER_PAGE_PAGINATION } from '../../../../../core/constants';\nimport { AlertingAction, useAlertingAbility } from '../../hooks/useAbilities';\nimport { usePagination } from '../../hooks/usePagination';\nimport { useUnifiedAlertingSelector } from '../../hooks/useUnifiedAlertingSelector';\nimport { getPaginationStyles } from '../../styles/pagination';\nimport { getRulesDataSources, getRulesSourceUid } from '../../utils/datasource';\nimport { isAdmin } from '../../utils/misc';\nimport { isAsyncRequestStatePending } from '../../utils/redux';\nimport { createRelativeUrl } from '../../utils/url';\n\nimport { RulesGroup } from './RulesGroup';\nimport { useCombinedGroupNamespace } from './useCombinedGroupNamespace';\n\ninterface Props {\n  namespaces: CombinedRuleNamespace[];\n  expandAll: boolean;\n}\n\nexport const CloudRules = ({ namespaces, expandAll }: Props) => {\n  const styles = useStyles2(getStyles);\n\n  const promRules = useUnifiedAlertingSelector((state) => state.promRules);\n  const rulesDataSources = useMemo(getRulesDataSources, []);\n  const groupsWithNamespaces = useCombinedGroupNamespace(namespaces);\n\n  const dataSourcesLoading = useMemo(\n    () => rulesDataSources.filter((ds) => isAsyncRequestStatePending(promRules[ds.name])),\n    [promRules, rulesDataSources]\n  );\n\n  const hasSomeResults = rulesDataSources.some((ds) => Boolean(promRules[ds.name]?.result?.length));\n  const hasDataSourcesConfigured = rulesDataSources.length > 0;\n  const hasDataSourcesLoading = dataSourcesLoading.length > 0;\n  const hasNamespaces = namespaces.length > 0;\n\n  const { numberOfPages, onPageChange, page, pageItems } = usePagination(\n    groupsWithNamespaces,\n    1,\n    DEFAULT_PER_PAGE_PAGINATION\n  );\n\n  const canMigrateToGMA = hasDataSourcesConfigured && isAdmin() && config.featureToggles.alertingMigrationUI;\n\n  return (\n    <section className={styles.wrapper}>\n      <Stack gap={2} direction=\"column\">\n        <div className={styles.sectionHeader}>\n          <div className={styles.headerRow}>\n            <Text element=\"h2\" variant=\"h5\">\n              <Trans i18nKey=\"alerting.list-view.section.dataSourceManaged.title\">Data source-managed</Trans>\n            </Text>\n            {dataSourcesLoading.length ? (\n              <LoadingPlaceholder\n                className={styles.loader}\n                text={t('alerting.list-view.section.loading-rules', 'Loading rules from {{count}} sources', {\n                  count: dataSourcesLoading.length,\n                })}\n              />\n            ) : (\n              <div />\n            )}\n            <Stack gap={1}>\n              {canMigrateToGMA && hasSomeResults && <MigrateToGMAButton />}\n              <CreateRecordingRuleButton />\n            </Stack>\n          </div>\n        </div>\n      </Stack>\n\n      {pageItems.map(({ group, namespace }) => (\n        <RulesGroup\n          group={group}\n          key={`${getRulesSourceUid(namespace.rulesSource)}-${namespace.name}-${group.name}`}\n          namespace={namespace}\n          expandAll={expandAll}\n          viewMode={'grouped'}\n        />\n      ))}\n\n      {!hasDataSourcesConfigured && (\n        <p>\n          <Trans i18nKey=\"alerting.list-view.no-prom-or-loki-rules\">\n            There are no Prometheus or Loki data sources configured\n          </Trans>\n        </p>\n      )}\n      {hasDataSourcesConfigured && !hasDataSourcesLoading && !hasNamespaces && (\n        <p>\n          <Trans i18nKey=\"alerting.list-view.no-rules\">No rules found.</Trans>\n        </p>\n      )}\n      {!hasSomeResults && hasDataSourcesLoading && <Spinner size=\"xl\" className={styles.spinner} />}\n\n      <Pagination\n        className={styles.pagination}\n        currentPage={page}\n        numberOfPages={numberOfPages}\n        onNavigate={onPageChange}\n        hideWhenSinglePage\n      />\n    </section>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  loader: css({\n    marginBottom: 0,\n  }),\n  sectionHeader: css({\n    display: 'flex',\n    justifyContent: 'space-between',\n  }),\n  wrapper: css({\n    marginBottom: theme.spacing(4),\n  }),\n  spinner: css({\n    textAlign: 'center',\n    padding: theme.spacing(2),\n  }),\n  pagination: getPaginationStyles(theme),\n  headerRow: css({\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '100%',\n    marginBottom: theme.spacing(1),\n  }),\n});\n\nexport function CreateRecordingRuleButton() {\n  const [createCloudRuleSupported, createCloudRuleAllowed] = useAlertingAbility(AlertingAction.CreateExternalAlertRule);\n  const location = useLocation();\n\n  const canCreateCloudRules = createCloudRuleSupported && createCloudRuleAllowed;\n\n  if (canCreateCloudRules) {\n    return (\n      <LinkButton\n        key=\"new-recording-rule\"\n        href={urlUtil.renderUrl(`alerting/new/recording`, {\n          returnTo: location.pathname + location.search,\n        })}\n        icon=\"plus\"\n        variant=\"secondary\"\n      >\n        <Trans i18nKey=\"alerting.list-view.empty.new-ds-managed-recording-rule\">\n          New data source-managed recording rule\n        </Trans>\n      </LinkButton>\n    );\n  }\n  return null;\n}\n\nfunction MigrateToGMAButton() {\n  const importUrl = createRelativeUrl('/alerting/import-datasource-managed-rules');\n\n  return (\n    <LinkButton variant=\"secondary\" href={importUrl} icon=\"arrow-up\">\n      <Stack direction=\"row\" gap={1} alignItems=\"center\">\n        <Trans i18nKey=\"alerting.rule-list.import-to-gma.text\">Import to Grafana-managed rules</Trans>\n        <Badge\n          text={t('alerting.rule-list.import-to-gma.new-badge', 'New!')}\n          aria-label={t('alerting.migrate-to-gmabutton.aria-label-new', 'new')}\n          color=\"blue\"\n          icon=\"rocket\"\n        />\n      </Stack>\n    </LinkButton>\n  );\n}\n","import { useState } from 'react';\n\nimport { t } from '@grafana/i18n';\nimport { LoadingPlaceholder } from '@grafana/ui';\n\nimport { alertRuleApi } from '../../api/alertRuleApi';\n\nimport { FileExportPreview } from './FileExportPreview';\nimport { GrafanaExportDrawer } from './GrafanaExportDrawer';\nimport { ExportFormats, allGrafanaExportProviders } from './providers';\n\ninterface GrafanaRulesExporterProps {\n  onClose: () => void;\n}\n\nexport function GrafanaRulesExporter({ onClose }: GrafanaRulesExporterProps) {\n  const [activeTab, setActiveTab] = useState<ExportFormats>('yaml');\n\n  return (\n    <GrafanaExportDrawer\n      activeTab={activeTab}\n      onTabChange={setActiveTab}\n      onClose={onClose}\n      formatProviders={Object.values(allGrafanaExportProviders)}\n    >\n      <GrafanaRulesExportPreview exportFormat={activeTab} onClose={onClose} />\n    </GrafanaExportDrawer>\n  );\n}\n\ninterface GrafanaRulesExportPreviewProps {\n  exportFormat: ExportFormats;\n  onClose: () => void;\n}\n\nfunction GrafanaRulesExportPreview({ exportFormat, onClose }: GrafanaRulesExportPreviewProps) {\n  const { currentData: rulesDefinition = '', isFetching } = alertRuleApi.endpoints.exportRules.useQuery({\n    format: exportFormat,\n  });\n\n  const downloadFileName = `alert-rules-${new Date().getTime()}`;\n\n  if (isFetching) {\n    return <LoadingPlaceholder text={t('alerting.grafana-rules-export-preview.text-loading', 'Loading....')} />;\n  }\n\n  return (\n    <FileExportPreview\n      format={exportFormat}\n      textDefinition={rulesDefinition}\n      downloadFileName={downloadFileName}\n      onClose={onClose}\n    />\n  );\n}\n","import { css } from '@emotion/css';\nimport { useToggle } from 'react-use';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Trans, t } from '@grafana/i18n';\nimport { config } from '@grafana/runtime';\nimport { Button, LinkButton, LoadingPlaceholder, Pagination, Spinner, Stack, Text, useStyles2 } from '@grafana/ui';\nimport { useQueryParams } from 'app/core/hooks/useQueryParams';\nimport { CombinedRuleNamespace } from 'app/types/unified-alerting';\n\nimport { DEFAULT_PER_PAGE_PAGINATION } from '../../../../../core/constants';\nimport { LogMessages, logInfo } from '../../Analytics';\nimport { AlertingAction, useAlertingAbility } from '../../hooks/useAbilities';\nimport { flattenGrafanaManagedRules } from '../../hooks/useCombinedRuleNamespaces';\nimport { usePagination } from '../../hooks/usePagination';\nimport { useUnifiedAlertingSelector } from '../../hooks/useUnifiedAlertingSelector';\nimport { getPaginationStyles } from '../../styles/pagination';\nimport { useRulesAccess } from '../../utils/accessControlHooks';\nimport { GRAFANA_RULES_SOURCE_NAME } from '../../utils/datasource';\nimport { initialAsyncRequestState } from '../../utils/redux';\nimport { createRelativeUrl } from '../../utils/url';\nimport { GrafanaRulesExporter } from '../export/GrafanaRulesExporter';\n\nimport { RulesGroup } from './RulesGroup';\nimport { useCombinedGroupNamespace } from './useCombinedGroupNamespace';\n\ninterface Props {\n  namespaces: CombinedRuleNamespace[];\n  expandAll: boolean;\n}\n\nexport const GrafanaRules = ({ namespaces, expandAll }: Props) => {\n  const styles = useStyles2(getStyles);\n  const [queryParams] = useQueryParams();\n\n  const { prom, ruler } = useUnifiedAlertingSelector((state) => ({\n    prom: state.promRules[GRAFANA_RULES_SOURCE_NAME] || initialAsyncRequestState,\n    ruler: state.rulerRules[GRAFANA_RULES_SOURCE_NAME] || initialAsyncRequestState,\n  }));\n\n  const loading = prom.loading || ruler.loading;\n  const hasResult = !!prom.result || !!ruler.result;\n\n  const wantsListView = queryParams.view === 'list';\n  const namespacesFormat = wantsListView ? flattenGrafanaManagedRules(namespaces) : namespaces;\n\n  const groupsWithNamespaces = useCombinedGroupNamespace(namespacesFormat);\n\n  const { numberOfPages, onPageChange, page, pageItems } = usePagination(\n    groupsWithNamespaces,\n    1,\n    DEFAULT_PER_PAGE_PAGINATION\n  );\n\n  const [exportRulesSupported, exportRulesAllowed] = useAlertingAbility(AlertingAction.ExportGrafanaManagedRules);\n  const canExportRules = exportRulesSupported && exportRulesAllowed;\n\n  const [showExportDrawer, toggleShowExportDrawer] = useToggle(false);\n  const hasGrafanaAlerts = namespaces.length > 0;\n  const { canCreateGrafanaRules } = useRulesAccess();\n  const grafanaRecordingRulesEnabled = config.unifiedAlerting.recordingRulesEnabled && canCreateGrafanaRules;\n\n  return (\n    <section className={styles.wrapper}>\n      <div className={styles.sectionHeader}>\n        <div className={styles.headerRow}>\n          <Text element=\"h2\" variant=\"h5\">\n            <Trans i18nKey=\"alerting.list-view.section.grafanaManaged.title\">Grafana-managed</Trans>\n          </Text>\n          {loading ? (\n            <LoadingPlaceholder\n              className={styles.loader}\n              text={t('alerting.list-view.section.grafanaManaged.loading', 'Loading...')}\n            />\n          ) : (\n            <div />\n          )}\n          <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"flex-end\">\n            {hasGrafanaAlerts && canExportRules && (\n              <Button\n                aria-label={t(\n                  'alerting.grafana-rules.export-all-grafana-rules-aria-label-export-all-grafana-rules',\n                  'export all grafana rules'\n                )}\n                data-testid=\"export-all-grafana-rules\"\n                icon=\"download-alt\"\n                tooltip={t(\n                  'alerting.grafana-rules.export-all-grafana-rules-tooltip-export-all-grafanamanaged-rules',\n                  'Export all Grafana-managed rules'\n                )}\n                onClick={toggleShowExportDrawer}\n                variant=\"secondary\"\n              >\n                <Trans i18nKey=\"alerting.list-view.section.grafanaManaged.export-rules\">Export rules</Trans>\n              </Button>\n            )}\n            {grafanaRecordingRulesEnabled && (\n              <LinkButton\n                href={createRelativeUrl('/alerting/new/grafana-recording', {\n                  returnTo: '/alerting/list' + window.location.search,\n                })}\n                icon=\"plus\"\n                variant=\"secondary\"\n                tooltip={t(\n                  'alerting.grafana-rules.tooltip-create-new-grafanamanaged-recording-rule',\n                  'Create new Grafana-managed recording rule'\n                )}\n                onClick={() => logInfo(LogMessages.grafanaRecording)}\n              >\n                <Trans i18nKey=\"alerting.list-view.section.grafanaManaged.new-recording-rule\">New recording rule</Trans>\n              </LinkButton>\n            )}\n          </Stack>\n        </div>\n      </div>\n\n      {pageItems.map(({ group, namespace }) => (\n        <RulesGroup\n          group={group}\n          key={`${namespace.name}-${group.name}`}\n          namespace={namespace}\n          expandAll={expandAll}\n          viewMode={wantsListView ? 'list' : 'grouped'}\n        />\n      ))}\n      {hasResult && namespacesFormat?.length === 0 && (\n        <p>\n          <Trans i18nKey=\"alerting.grafana-rules.no-rules-found\">No rules found.</Trans>\n        </p>\n      )}\n      {!hasResult && loading && <Spinner size=\"xl\" className={styles.spinner} />}\n      <Pagination\n        className={styles.pagination}\n        currentPage={page}\n        numberOfPages={numberOfPages}\n        onNavigate={onPageChange}\n        hideWhenSinglePage\n      />\n      {canExportRules && showExportDrawer && <GrafanaRulesExporter onClose={toggleShowExportDrawer} />}\n    </section>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  loader: css({\n    marginBottom: 0,\n  }),\n  sectionHeader: css({\n    display: 'flex',\n    justifyContent: 'space-between',\n    marginBottom: theme.spacing(1),\n  }),\n  wrapper: css({\n    marginBottom: theme.spacing(4),\n  }),\n  spinner: css({\n    textAlign: 'center',\n    padding: theme.spacing(2),\n  }),\n  pagination: getPaginationStyles(theme),\n  headerRow: css({\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '100%',\n    flexDirection: 'row',\n  }),\n});\n","import { useEffect, useMemo } from 'react';\n\nimport { CombinedRuleNamespace } from 'app/types/unified-alerting';\n\nimport { LogMessages, logInfo } from '../../Analytics';\nimport { AlertingAction } from '../../hooks/useAbilities';\nimport { isCloudRulesSource, isGrafanaRulesSource } from '../../utils/datasource';\nimport { Authorize } from '../Authorize';\n\nimport { CloudRules } from './CloudRules';\nimport { GrafanaRules } from './GrafanaRules';\n\ninterface Props {\n  namespaces: CombinedRuleNamespace[];\n  expandAll: boolean;\n}\n\nexport const RuleListGroupView = ({ namespaces, expandAll }: Props) => {\n  const [grafanaNamespaces, cloudNamespaces] = useMemo(() => {\n    const sorted = namespaces\n      .map((namespace) => ({\n        ...namespace,\n        groups: namespace.groups.sort((a, b) => a.name.localeCompare(b.name)),\n      }))\n      .sort((a, b) => a.name.localeCompare(b.name));\n    return [\n      sorted.filter((ns) => isGrafanaRulesSource(ns.rulesSource)),\n      sorted.filter((ns) => isCloudRulesSource(ns.rulesSource)),\n    ];\n  }, [namespaces]);\n\n  useEffect(() => {\n    logInfo(LogMessages.loadedList);\n  }, []);\n\n  return (\n    <>\n      <Authorize actions={[AlertingAction.ViewAlertRule]}>\n        <GrafanaRules namespaces={grafanaNamespaces} expandAll={expandAll} />\n      </Authorize>\n      <Authorize actions={[AlertingAction.ViewExternalAlertRule]}>\n        <CloudRules namespaces={cloudNamespaces} expandAll={expandAll} />\n      </Authorize>\n    </>\n  );\n};\n","import { useMemo } from 'react';\nimport { useMeasure } from 'react-use';\n\nimport { Counter, LoadingBar, Pagination, Stack } from '@grafana/ui';\nimport { DEFAULT_PER_PAGE_PAGINATION } from 'app/core/constants';\nimport { CombinedRule, CombinedRuleNamespace } from 'app/types/unified-alerting';\nimport { PromAlertingRuleState } from 'app/types/unified-alerting-dto';\n\nimport { usePagination } from '../../hooks/usePagination';\nimport { useUnifiedAlertingSelector } from '../../hooks/useUnifiedAlertingSelector';\nimport { AlertRuleListItem } from '../../rule-list/components/AlertRuleListItem';\nimport { ListSection } from '../../rule-list/components/ListSection';\nimport { GRAFANA_RULES_SOURCE_NAME, getRulesDataSources } from '../../utils/datasource';\nimport { createViewLink } from '../../utils/misc';\nimport { isAsyncRequestStatePending } from '../../utils/redux';\nimport { hashRule } from '../../utils/rule-id';\nimport { getRulePluginOrigin, isProvisionedRule, prometheusRuleType } from '../../utils/rules';\nimport { calculateTotalInstances } from '../rule-viewer/RuleViewer';\n\nimport { RuleActionsButtons } from './RuleActionsButtons';\n\ninterface Props {\n  namespaces: CombinedRuleNamespace[];\n}\n\ntype GroupedRules = Map<PromAlertingRuleState, CombinedRule[]>;\n\nexport const RuleListStateView = ({ namespaces }: Props) => {\n  const [ref, { width }] = useMeasure<HTMLUListElement>();\n\n  const isLoading = useDataSourcesLoadingState();\n\n  const groupedRules = useMemo(() => {\n    const result: GroupedRules = new Map([\n      [PromAlertingRuleState.Firing, []],\n      [PromAlertingRuleState.Pending, []],\n      [PromAlertingRuleState.Recovering, []],\n      [PromAlertingRuleState.Inactive, []],\n      [PromAlertingRuleState.Unknown, []],\n    ]);\n\n    namespaces.forEach((namespace) =>\n      namespace.groups.forEach((group) =>\n        group.rules.forEach((rule) => {\n          // We might hit edge cases where there type = alerting, but there is no state.\n          // In this case, we shouldn't try to group these alerts in the state view\n          // Even though we handle this at the API layer, this is a last catch point for any edge cases\n          if (prometheusRuleType.alertingRule(rule.promRule) && rule.promRule.state) {\n            result.get(rule.promRule.state)?.push(rule);\n          }\n        })\n      )\n    );\n\n    result.forEach((rules) => rules.sort((a, b) => a.name.localeCompare(b.name)));\n\n    return result;\n  }, [namespaces]);\n\n  const entries = groupedRules.entries();\n\n  return (\n    <ul role=\"tree\" ref={ref}>\n      {isLoading && <LoadingBar width={width} />}\n      <Stack direction=\"column\">\n        {Array.from(entries).map(([state, rules]) => (\n          <RulesByState key={state} state={state} rules={rules} />\n        ))}\n      </Stack>\n    </ul>\n  );\n};\n\nconst STATE_TITLES: Record<PromAlertingRuleState, string> = {\n  [PromAlertingRuleState.Firing]: 'Firing',\n  [PromAlertingRuleState.Pending]: 'Pending',\n  [PromAlertingRuleState.Inactive]: 'Normal',\n  [PromAlertingRuleState.Recovering]: 'Recovering',\n  [PromAlertingRuleState.Unknown]: 'Unknown',\n};\n\nconst RulesByState = ({ state, rules }: { state: PromAlertingRuleState; rules: CombinedRule[] }) => {\n  const { page, pageItems, numberOfPages, onPageChange } = usePagination(rules, 1, DEFAULT_PER_PAGE_PAGINATION);\n\n  const isFiringState = state !== PromAlertingRuleState.Firing;\n  const hasRulesMatchingState = rules.length > 0;\n\n  return (\n    <ListSection\n      title={\n        <Stack alignItems=\"center\" gap={0}>\n          {STATE_TITLES[state] ?? 'Unknown'}\n          <Counter value={rules.length} />\n        </Stack>\n      }\n      collapsed={isFiringState || hasRulesMatchingState}\n      pagination={\n        <Pagination\n          currentPage={page}\n          numberOfPages={numberOfPages}\n          onNavigate={onPageChange}\n          hideWhenSinglePage={true}\n        />\n      }\n    >\n      {pageItems.map((rule) => {\n        const { rulerRule, promRule } = rule;\n\n        const isProvisioned = rulerRule ? isProvisionedRule(rulerRule) : false;\n        const instancesCount = prometheusRuleType.alertingRule(rule.promRule)\n          ? calculateTotalInstances(rule.instanceTotals)\n          : undefined;\n\n        if (!promRule) {\n          return null;\n        }\n\n        const originMeta = getRulePluginOrigin(rule.promRule);\n\n        return (\n          <AlertRuleListItem\n            key={hashRule(promRule)}\n            name={rule.name}\n            href={createViewLink(rule.namespace.rulesSource, rule)}\n            summary={rule.annotations.summary}\n            state={state}\n            health={rule.promRule?.health}\n            error={rule.promRule?.lastError}\n            labels={rule.promRule?.labels}\n            isProvisioned={isProvisioned}\n            instancesCount={instancesCount}\n            namespace={rule.namespace.name}\n            group={rule.group.name}\n            actions={<RuleActionsButtons compact rule={rule} rulesSource={rule.namespace.rulesSource} />}\n            origin={originMeta}\n          />\n        );\n      })}\n    </ListSection>\n  );\n};\n\nfunction useDataSourcesLoadingState() {\n  const promRules = useUnifiedAlertingSelector((state) => state.promRules);\n  const rulesDataSources = useMemo(getRulesDataSources, []);\n\n  const grafanaLoading = useUnifiedAlertingSelector((state) => {\n    const promLoading = isAsyncRequestStatePending(state.promRules[GRAFANA_RULES_SOURCE_NAME]);\n    const rulerLoading = isAsyncRequestStatePending(state.rulerRules[GRAFANA_RULES_SOURCE_NAME]);\n\n    return promLoading || rulerLoading;\n  });\n\n  const externalDataSourcesLoading = rulesDataSources.some((ds) => isAsyncRequestStatePending(promRules[ds.name]));\n\n  const loading = grafanaLoading || externalDataSourcesLoading;\n\n  return loading;\n}\n","import { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useLocation } from 'react-router-dom-v5-compat';\nimport { useAsyncFn, useInterval } from 'react-use';\n\nimport { urlUtil } from '@grafana/data';\nimport { Trans, t } from '@grafana/i18n';\nimport { logInfo } from '@grafana/runtime';\nimport { Button, LinkButton, Stack } from '@grafana/ui';\nimport { useQueryParams } from 'app/core/hooks/useQueryParams';\nimport { useDispatch } from 'app/types/store';\nimport { CombinedRuleNamespace } from 'app/types/unified-alerting';\n\nimport { LogMessages, trackRuleListNavigation } from '../Analytics';\nimport { AlertingPageWrapper } from '../components/AlertingPageWrapper';\nimport RulesFilter from '../components/rules/Filter/RulesFilter.v1';\nimport { NoRulesSplash } from '../components/rules/NoRulesCTA';\nimport { INSTANCES_DISPLAY_LIMIT } from '../components/rules/RuleDetails';\nimport { RuleListErrors } from '../components/rules/RuleListErrors';\nimport { RuleListGroupView } from '../components/rules/RuleListGroupView';\nimport { RuleListStateView } from '../components/rules/RuleListStateView';\nimport { RuleStats } from '../components/rules/RuleStats';\nimport { shouldUsePrometheusRulesPrimary } from '../featureToggles';\nimport { AlertingAction, useAlertingAbility } from '../hooks/useAbilities';\nimport { useCombinedRuleNamespaces } from '../hooks/useCombinedRuleNamespaces';\nimport { useFilteredRules, useRulesFilter } from '../hooks/useFilteredRules';\nimport { useUnifiedAlertingSelector } from '../hooks/useUnifiedAlertingSelector';\nimport { fetchAllPromAndRulerRulesAction, fetchAllPromRulesAction, fetchRulerRulesAction } from '../state/actions';\nimport { RULE_LIST_POLL_INTERVAL_MS } from '../utils/constants';\nimport { GRAFANA_RULES_SOURCE_NAME, getAllRulesSourceNames } from '../utils/datasource';\nimport { createRelativeUrl } from '../utils/url';\n\nimport { RuleListPageTitle } from './RuleListPageTitle';\n\nconst VIEWS = {\n  groups: RuleListGroupView,\n  state: RuleListStateView,\n};\n\n// make sure we ask for 1 more so we show the \"show x more\" button\nconst LIMIT_ALERTS = INSTANCES_DISPLAY_LIMIT + 1;\n\nconst prometheusRulesPrimary = shouldUsePrometheusRulesPrimary();\n\nconst RuleListV1 = () => {\n  const dispatch = useDispatch();\n  const rulesDataSourceNames = useMemo(getAllRulesSourceNames, []);\n  const [expandAll, setExpandAll] = useState(false);\n\n  const onFilterCleared = useCallback(() => setExpandAll(false), []);\n\n  const [queryParams] = useQueryParams();\n  const { filterState, hasActiveFilters } = useRulesFilter();\n\n  const hasActiveLabelsFilter = filterState.labels.length > 0;\n\n  const queryParamView = queryParams.view;\n  const viewType = queryParamView === 'state' || queryParamView === 'groups' ? queryParamView : 'groups';\n  const view = VIEWS[viewType] ? viewType : 'groups';\n\n  const ViewComponent = VIEWS[view];\n\n  const promRuleRequests = useUnifiedAlertingSelector((state) => state.promRules);\n  const rulerRuleRequests = useUnifiedAlertingSelector((state) => state.rulerRules);\n\n  const loading = rulesDataSourceNames.some(\n    (name) => promRuleRequests[name]?.loading || rulerRuleRequests[name]?.loading\n  );\n\n  const promRequests = Object.entries(promRuleRequests);\n  const rulerRequests = Object.entries(rulerRuleRequests);\n\n  const allPromLoaded = promRequests.every(\n    ([_, state]) => state.dispatched && (state?.result !== undefined || state?.error !== undefined)\n  );\n  const allRulerLoaded = rulerRequests.every(\n    ([_, state]) => state.dispatched && (state?.result !== undefined || state?.error !== undefined)\n  );\n\n  const allPromEmpty = promRequests.every(([_, state]) => state.dispatched && state?.result?.length === 0);\n\n  const allRulerEmpty = rulerRequests.every(([_, state]) => {\n    const rulerRules = Object.entries(state?.result ?? {});\n    const noRules = rulerRules.every(([_, result]) => result?.length === 0);\n    return noRules && state.dispatched;\n  });\n\n  const limitAlerts = hasActiveLabelsFilter ? undefined : LIMIT_ALERTS;\n  // Trigger data refresh only when the RULE_LIST_POLL_INTERVAL_MS elapsed since the previous load FINISHED\n  const [_, fetchRules] = useAsyncFn(async () => {\n    if (!loading) {\n      if (prometheusRulesPrimary) {\n        await dispatch(fetchRulerRulesAction({ rulesSourceName: GRAFANA_RULES_SOURCE_NAME }));\n        await dispatch(fetchAllPromRulesAction(false, { limitAlerts }));\n      } else {\n        await dispatch(fetchAllPromAndRulerRulesAction(false, { limitAlerts }));\n      }\n    }\n  }, [loading, limitAlerts, dispatch]);\n\n  useEffect(() => {\n    trackRuleListNavigation().catch(() => {});\n  }, []);\n\n  // fetch rules, then poll every RULE_LIST_POLL_INTERVAL_MS\n  useEffect(() => {\n    if (prometheusRulesPrimary) {\n      dispatch(fetchRulerRulesAction({ rulesSourceName: GRAFANA_RULES_SOURCE_NAME }));\n      dispatch(fetchAllPromRulesAction(false, { limitAlerts }));\n    } else {\n      dispatch(fetchAllPromAndRulerRulesAction(false, { limitAlerts }));\n    }\n  }, [dispatch, limitAlerts]);\n  useInterval(fetchRules, RULE_LIST_POLL_INTERVAL_MS);\n\n  // Show splash only when we loaded all of the data sources and none of them has alerts\n  const hasNoAlertRulesCreatedYet =\n    allPromLoaded && allPromEmpty && promRequests.length > 0 && allRulerEmpty && allRulerLoaded;\n  const hasAlertRulesCreated = !hasNoAlertRulesCreatedYet;\n\n  const combinedNamespaces: CombinedRuleNamespace[] = useCombinedRuleNamespaces();\n  const filteredNamespaces = useFilteredRules(combinedNamespaces, filterState);\n  return (\n    // We don't want to show the Loading... indicator for the whole page.\n    // We show separate indicators for Grafana-managed and Cloud rules\n    <AlertingPageWrapper\n      navId=\"alert-list\"\n      isLoading={false}\n      renderTitle={(title) => <RuleListPageTitle title={title} />}\n      actions={\n        hasAlertRulesCreated && (\n          <Stack gap={1}>\n            <CreateAlertButton /> <ExportNewRuleButton />\n          </Stack>\n        )\n      }\n    >\n      <Stack direction=\"column\">\n        <RuleListErrors />\n        <RulesFilter onClear={onFilterCleared} />\n        {hasAlertRulesCreated && (\n          <Stack direction=\"row\" alignItems=\"center\">\n            {view === 'groups' && hasActiveFilters && (\n              <Button\n                icon={expandAll ? 'angle-double-up' : 'angle-double-down'}\n                variant=\"secondary\"\n                onClick={() => setExpandAll(!expandAll)}\n              >\n                {expandAll\n                  ? t('alerting.rule-list-v1.collapse-all', 'Collapse all')\n                  : t('alerting.rule-list-v1.expand-all', 'Expand all')}\n              </Button>\n            )}\n          </Stack>\n        )}\n        <RuleStats namespaces={filteredNamespaces} />\n        {hasNoAlertRulesCreatedYet && <NoRulesSplash />}\n        {hasAlertRulesCreated && <ViewComponent expandAll={expandAll} namespaces={filteredNamespaces} />}\n      </Stack>\n    </AlertingPageWrapper>\n  );\n};\n\nexport default RuleListV1;\n\nexport function CreateAlertButton() {\n  const [createRuleSupported, createRuleAllowed] = useAlertingAbility(AlertingAction.CreateAlertRule);\n  const [createCloudRuleSupported, createCloudRuleAllowed] = useAlertingAbility(AlertingAction.CreateExternalAlertRule);\n\n  const location = useLocation();\n\n  const canCreateCloudRules = createCloudRuleSupported && createCloudRuleAllowed;\n\n  const canCreateGrafanaRules = createRuleSupported && createRuleAllowed;\n\n  if (canCreateGrafanaRules || canCreateCloudRules) {\n    return (\n      <LinkButton\n        href={urlUtil.renderUrl('alerting/new/alerting', { returnTo: location.pathname + location.search })}\n        icon=\"plus\"\n        onClick={() => logInfo(LogMessages.alertRuleFromScratch)}\n      >\n        <Trans i18nKey=\"alerting.rule-list.new-alert-rule\">New alert rule</Trans>\n      </LinkButton>\n    );\n  }\n  return null;\n}\n\nfunction ExportNewRuleButton() {\n  const returnTo = window.location.pathname + window.location.search;\n  const url = createRelativeUrl(`/alerting/export-new-rule`, {\n    returnTo,\n  });\n  return (\n    <LinkButton\n      href={url}\n      icon=\"download-alt\"\n      variant=\"secondary\"\n      tooltip={t('alerting.export-new-rule-button.tooltip-export-new-grafana-rule', 'Export new grafana rule')}\n      onClick={() => logInfo(LogMessages.exportNewGrafanaRule)}\n    >\n      <Trans i18nKey=\"alerting.list-view.section.grafanaManaged.export-new-rule\">Export rule definition</Trans>\n    </LinkButton>\n  );\n}\n","import { Suspense, lazy } from 'react';\n\nimport { shouldUseAlertingListViewV2 } from './featureToggles';\nimport RuleListV1 from './rule-list/RuleList.v1';\nimport { withPageErrorBoundary } from './withPageErrorBoundary';\n\nconst RuleListV2 = lazy(() => import('./rule-list/RuleList.v2'));\n\nconst RuleList = () => {\n  const newView = shouldUseAlertingListViewV2();\n\n  return <Suspense>{newView ? <RuleListV2 /> : <RuleListV1 />}</Suspense>;\n};\n\nexport default withPageErrorBoundary(RuleList);\n","import { HTMLAttributes } from 'react';\n\nimport { Button, IconSize } from '@grafana/ui';\n\ninterface Props extends HTMLAttributes<HTMLButtonElement> {\n  isCollapsed: boolean;\n  onToggle: (isCollapsed: boolean) => void;\n  // Todo: this should be made compulsory for a11y purposes\n  idControlled?: string;\n  size?: IconSize;\n  className?: string;\n  text?: string;\n}\n\nexport const CollapseToggle = ({\n  isCollapsed,\n  onToggle,\n  idControlled,\n  className,\n  text,\n  size = 'xl',\n  ...restOfProps\n}: Props) => {\n  return (\n    <Button\n      type=\"button\"\n      fill=\"text\"\n      variant=\"secondary\"\n      aria-expanded={!isCollapsed}\n      aria-controls={idControlled}\n      className={className}\n      icon={isCollapsed ? 'angle-right' : 'angle-down'}\n      onClick={() => onToggle(!isCollapsed)}\n      {...restOfProps}\n    >\n      {text}\n    </Button>\n  );\n};\n","import { useState } from 'react';\n\nimport { t } from '@grafana/i18n';\nimport { LoadingPlaceholder } from '@grafana/ui';\nimport { FolderDTO } from 'app/types/folders';\n\nimport { alertRuleApi } from '../../api/alertRuleApi';\n\nimport { FileExportPreview } from './FileExportPreview';\nimport { GrafanaExportDrawer } from './GrafanaExportDrawer';\nimport { ExportFormats, allGrafanaExportProviders } from './providers';\n\ninterface GrafanaRuleFolderExporterProps {\n  folder: FolderDTO;\n  onClose: () => void;\n}\n\nexport function GrafanaRuleFolderExporter({ folder, onClose }: GrafanaRuleFolderExporterProps) {\n  const [activeTab, setActiveTab] = useState<ExportFormats>('yaml');\n\n  return (\n    <GrafanaExportDrawer\n      title={t('alerting.grafana-rule-folder-exporter.title-drawer', 'Export {{folderName}} rules', {\n        folderName: folder.title,\n      })}\n      activeTab={activeTab}\n      onTabChange={setActiveTab}\n      onClose={onClose}\n      formatProviders={Object.values(allGrafanaExportProviders)}\n    >\n      <GrafanaRuleFolderExportPreview folder={folder} exportFormat={activeTab} onClose={onClose} />\n    </GrafanaExportDrawer>\n  );\n}\n\ninterface GrafanaRuleFolderExportPreviewProps {\n  folder: FolderDTO;\n  exportFormat: ExportFormats;\n  onClose: () => void;\n}\n\nfunction GrafanaRuleFolderExportPreview({ folder, exportFormat, onClose }: GrafanaRuleFolderExportPreviewProps) {\n  const { currentData: exportFolderDefinition = '', isFetching } = alertRuleApi.endpoints.exportRules.useQuery({\n    folderUid: folder.uid,\n    format: exportFormat,\n  });\n\n  if (isFetching) {\n    return <LoadingPlaceholder text={t('alerting.grafana-rule-folder-export-preview.text-loading', 'Loading....')} />;\n  }\n\n  const downloadFileName = `${folder.title}-${folder.uid}`;\n\n  return (\n    <FileExportPreview\n      format={exportFormat}\n      textDefinition={exportFolderDefinition}\n      downloadFileName={downloadFileName}\n      onClose={onClose}\n    />\n  );\n}\n","import { t } from '@grafana/i18n';\n\nimport { WithNotificationOptions, alertingApi } from './alertingApi';\nimport { GRAFANA_RULER_CONFIG } from './featureDiscoveryApi';\nimport { rulerUrlBuilder } from './ruler';\n\nexport const alertingFolderActionsApi = alertingApi.injectEndpoints({\n  endpoints: (build) => ({\n    pauseFolder: build.mutation<void, WithNotificationOptions<{ namespace: string }>>({\n      query: ({ namespace, notificationOptions }) => {\n        const successMessage = t(\n          'alerting.bulk-actions.pause.success',\n          'Rules evaluation successfully paused for folder'\n        );\n        const { path, params } = rulerUrlBuilder(GRAFANA_RULER_CONFIG).namespace(namespace);\n\n        return {\n          url: path,\n          params,\n          body: {\n            is_paused: true,\n          },\n          method: 'PATCH',\n          notificationOptions: {\n            successMessage,\n            ...notificationOptions,\n          },\n        };\n      },\n    }),\n    unpauseFolder: build.mutation<void, WithNotificationOptions<{ namespace: string }>>({\n      query: ({ namespace, notificationOptions }) => {\n        const successMessage = t(\n          'alerting.bulk-actions.unpause.success',\n          'Rules successfully unpaused for this folder'\n        );\n        const { path, params } = rulerUrlBuilder(GRAFANA_RULER_CONFIG).namespace(namespace);\n\n        return {\n          url: path,\n          params,\n          body: {\n            is_paused: false,\n          },\n          method: 'PATCH',\n          notificationOptions: {\n            successMessage,\n            ...notificationOptions,\n          },\n        };\n      },\n    }),\n    deleteGrafanaRulesFromFolder: build.mutation<void, WithNotificationOptions<{ namespace: string }>>({\n      query: ({ namespace, notificationOptions }) => {\n        const successMessage = t('alerting.bulk-actions.delete.success', 'Rules successfully deleted from folder');\n        const { path, params } = rulerUrlBuilder(GRAFANA_RULER_CONFIG).namespace(namespace);\n\n        return {\n          url: path,\n          params,\n          method: 'DELETE',\n          notificationOptions: {\n            successMessage,\n            ...notificationOptions,\n          },\n        };\n      },\n    }),\n  }),\n});\n","import React, { useState } from 'react';\n\nimport { Trans, t } from '@grafana/i18n';\nimport { ConfirmModal, Space, Text } from '@grafana/ui';\n\nimport { trackFolderBulkActionsDeleteFail, trackFolderBulkActionsDeleteSuccess } from '../../Analytics';\n\nexport interface Props {\n  isOpen: boolean;\n  onConfirm: () => Promise<void>;\n  onDismiss: () => void;\n  folderName: string;\n}\n\nexport const DeleteModal = React.memo(({ onConfirm, onDismiss, isOpen, folderName }: Props) => {\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  const onDeleteConfirm = async () => {\n    setIsDeleting(true);\n    try {\n      await onConfirm();\n      trackFolderBulkActionsDeleteSuccess();\n      onDismiss();\n    } catch {\n      trackFolderBulkActionsDeleteFail();\n    } finally {\n      setIsDeleting(false);\n    }\n  };\n\n  return (\n    <ConfirmModal\n      body={\n        <>\n          <Text element=\"p\">\n            <Trans i18nKey=\"alerting.folder-bulk-actions.delete-modal-text\" values={{ folderName: folderName }}>\n              This action will delete all alert rules in the <code>{'{{folderName}}'}</code> folder. Nested folders will\n              not be affected.\n            </Trans>\n          </Text>\n          <Space v={2} />\n        </>\n      }\n      confirmationText={t('alerting.folder-bulk-actions.delete-modal-confirmation-text', 'Delete')}\n      confirmText={\n        isDeleting\n          ? t('alerting.folder-bulk-actions.delete-modal-deleting', 'Deleting...')\n          : t('alerting.folder-bulk-actions.delete-modal-delete-button', 'Delete')\n      }\n      onDismiss={onDismiss}\n      onConfirm={onDeleteConfirm}\n      title={t('alerting.folder-bulk-actions.delete-modal-title', 'Delete')}\n      isOpen={isOpen}\n    />\n  );\n});\n","import { t } from '@grafana/i18n';\nimport { Menu } from '@grafana/ui';\nimport { useAppNotification } from 'app/core/copy/appNotification';\n\nimport {\n  trackFolderBulkActionsPauseFail,\n  trackFolderBulkActionsPauseSuccess,\n  trackFolderBulkActionsUnpauseFail,\n  trackFolderBulkActionsUnpauseSuccess,\n} from '../../Analytics';\nimport { stringifyErrorLike } from '../../utils/misc';\ninterface Props {\n  folderUID: string;\n  action: 'pause' | 'unpause';\n  executeAction: (folderUID: string) => Promise<void>;\n  isLoading: boolean;\n}\nexport function PauseUnpauseActionMenuItem({ folderUID, executeAction, isLoading, action }: Props) {\n  const notifyApp = useAppNotification();\n\n  const label =\n    action === 'pause'\n      ? t('alerting.folder-bulk-actions.pause.button.label', 'Pause all rules')\n      : t('alerting.folder-bulk-actions.unpause.button.label', 'Resume all rules');\n  const icon = action === 'pause' ? 'pause' : 'play';\n  const trackActionSuccess =\n    action === 'pause' ? trackFolderBulkActionsPauseSuccess : trackFolderBulkActionsUnpauseSuccess;\n  const trackActionFail = action === 'pause' ? trackFolderBulkActionsPauseFail : trackFolderBulkActionsUnpauseFail;\n  const onActionClick = async () => {\n    try {\n      await executeAction(folderUID);\n      trackActionSuccess();\n    } catch (error) {\n      trackActionFail();\n      notifyApp.error(\n        t('alerting.folder-bulk-actions.error', 'Failed to execute action for folder: {{error}}', {\n          error: stringifyErrorLike(error),\n        })\n      );\n    }\n  };\n\n  return <Menu.Item label={label} icon={icon} disabled={isLoading} onClick={onActionClick} />;\n}\n","import { useState } from 'react';\n\nimport { t } from '@grafana/i18n';\nimport { config, locationService } from '@grafana/runtime';\nimport { Dropdown, Menu } from '@grafana/ui';\nimport { useDispatch } from 'app/types/store';\n\nimport { alertingFolderActionsApi } from '../../api/alertingFolderActionsApi';\nimport { shouldUseAlertingListViewV2, shouldUsePrometheusRulesPrimary } from '../../featureToggles';\nimport {\n  AlertingAction,\n  FolderBulkAction,\n  useAlertingAbility,\n  useFolderBulkActionAbility,\n} from '../../hooks/useAbilities';\nimport { useFolder } from '../../hooks/useFolder';\nimport { fetchAllPromAndRulerRulesAction, fetchAllPromRulesAction, fetchRulerRulesAction } from '../../state/actions';\nimport { GRAFANA_RULES_SOURCE_NAME } from '../../utils/datasource';\nimport { makeFolderLink } from '../../utils/misc';\nimport { createRelativeUrl } from '../../utils/url';\nimport MoreButton from '../MoreButton';\nimport { GrafanaRuleFolderExporter } from '../export/GrafanaRuleFolderExporter';\n\nimport { DeleteModal } from './DeleteModal';\nimport { PauseUnpauseActionMenuItem } from './PauseUnpauseActionMenuItem';\ninterface Props {\n  folderUID: string;\n}\n\nexport const FolderActionsButton = ({ folderUID }: Props) => {\n  // state\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n  const [isExporting, setIsExporting] = useState<boolean>(false);\n\n  // feature toggles\n  const bulkActionsEnabled = config.featureToggles.alertingBulkActionsInUI;\n  const listView2Enabled = shouldUseAlertingListViewV2();\n\n  const [exportRulesSupported, exportRulesAllowed] = useAlertingAbility(AlertingAction.ExportGrafanaManagedRules);\n\n  const canExportRules = exportRulesSupported && exportRulesAllowed;\n\n  const [deleteGrafanaRulesFromFolder, deleteState] =\n    alertingFolderActionsApi.endpoints.deleteGrafanaRulesFromFolder.useMutation();\n\n  const { folder } = useFolder(folderUID);\n  const folderName = folder?.title || 'unknown folder';\n  const folderUrl = makeFolderLink(folderUID);\n  const viewComponent = listView2Enabled ? 'list' : 'grouped';\n\n  // URLs\n  const redirectToListView = useRedirectToListView(viewComponent);\n\n  if (!folder) {\n    return null;\n  }\n\n  const onConfirmDelete = async () => {\n    await deleteGrafanaRulesFromFolder({ namespace: folderUID }).unwrap();\n    await redirectToListView();\n  };\n\n  const menuItems = (\n    <>\n      <Menu.Item\n        url={folderUrl}\n        icon=\"eye\"\n        aria-label={t('alerting.list-view.folder-actions.view.aria-label', 'View folder')}\n        label={t('alerting.list-view.folder-actions.view.label', 'View folder')}\n      />\n      <BulkActions folderUID={folderUID} onClickDelete={setIsDeleteModalOpen} isLoading={deleteState.isLoading} />\n      {canExportRules && (\n        <>\n          {bulkActionsEnabled && <Menu.Divider />}\n          <ExportFolderButton onClickExport={() => setIsExporting(true)} />\n        </>\n      )}\n    </>\n  );\n\n  return (\n    <>\n      <Dropdown placement=\"bottom\" overlay={<Menu>{menuItems}</Menu>}>\n        <MoreButton\n          fill=\"text\"\n          size=\"sm\"\n          aria-label={t('alerting.list-view.folder-actions.button.aria-label', 'Folder actions')}\n          title={t('alerting.list-view.folder-actions.button.title', 'Actions')}\n        />\n      </Dropdown>\n      {isExporting && <GrafanaRuleFolderExporter folder={folder} onClose={() => setIsExporting(false)} />}\n      <DeleteModal\n        isOpen={isDeleteModalOpen}\n        onConfirm={onConfirmDelete}\n        onDismiss={() => setIsDeleteModalOpen(false)}\n        folderName={folderName}\n      />\n    </>\n  );\n};\n\nfunction useRedirectToListView(view: string) {\n  const dispatch = useDispatch();\n  const prometheusRulesPrimary = shouldUsePrometheusRulesPrimary();\n  const redirectToListView = async () => {\n    if (prometheusRulesPrimary) {\n      await dispatch(fetchRulerRulesAction({ rulesSourceName: GRAFANA_RULES_SOURCE_NAME }));\n      await dispatch(fetchAllPromRulesAction(false));\n    } else {\n      await dispatch(fetchAllPromAndRulerRulesAction(false));\n    }\n    locationService.push(createRelativeUrl('/alerting/list', { view }, { skipSubPath: true }));\n  };\n\n  return redirectToListView;\n}\n\nfunction ExportFolderButton({ onClickExport }: { onClickExport: () => void }) {\n  return (\n    <Menu.Item\n      aria-label={t('alerting.list-view.folder-actions.export.aria-label', 'Export rules folder')}\n      data-testid=\"export-folder\"\n      key=\"export-folder\"\n      label={t('alerting.list-view.folder-actions.export.label', 'Export rules folder')}\n      icon=\"download-alt\"\n      onClick={onClickExport}\n    />\n  );\n}\n\nfunction BulkActions({\n  folderUID,\n  onClickDelete,\n  isLoading,\n}: {\n  folderUID: string;\n  onClickDelete: (showModal: boolean) => void;\n  isLoading: boolean;\n}) {\n  // feature toggles\n  const listView2Enabled = shouldUseAlertingListViewV2();\n  const bulkActionsEnabled = config.featureToggles.alertingBulkActionsInUI;\n\n  // abilities\n  const [pauseSupported, pauseAllowed] = useFolderBulkActionAbility(FolderBulkAction.Pause);\n  const [deleteSupported, deleteAllowed] = useFolderBulkActionAbility(FolderBulkAction.Delete);\n\n  const canPause = pauseSupported && pauseAllowed;\n  const canDelete = deleteSupported && deleteAllowed;\n\n  // mutations\n  const [pauseFolder, updateState] = alertingFolderActionsApi.endpoints.pauseFolder.useMutation();\n  const [unpauseFolder, unpauseState] = alertingFolderActionsApi.endpoints.unpauseFolder.useMutation();\n\n  // URLs\n  const viewComponent = listView2Enabled ? 'list' : 'grouped';\n  const redirectToListView = useRedirectToListView(viewComponent);\n\n  if (!bulkActionsEnabled) {\n    return null;\n  }\n\n  if (!canPause && !canDelete) {\n    return null;\n  }\n\n  return (\n    <>\n      <Menu.Divider />\n      {canPause && (\n        <>\n          <PauseUnpauseActionMenuItem\n            folderUID={folderUID}\n            action=\"pause\"\n            executeAction={async (folderUID) => {\n              await pauseFolder({ namespace: folderUID }).unwrap();\n              await redirectToListView();\n            }}\n            isLoading={updateState.isLoading}\n          />\n          <PauseUnpauseActionMenuItem\n            folderUID={folderUID}\n            action=\"unpause\"\n            executeAction={async (folderUID) => {\n              await unpauseFolder({ namespace: folderUID }).unwrap();\n              await redirectToListView();\n            }}\n            isLoading={unpauseState.isLoading}\n          />\n        </>\n      )}\n      {canDelete && (\n        <Menu.Item\n          label={t('alerting.folder-bulk-actions.delete.button.label', 'Delete all rules')}\n          icon=\"trash-alt\"\n          onClick={() => onClickDelete(true)}\n          disabled={isLoading}\n        />\n      )}\n    </>\n  );\n}\n","import { ComponentProps } from 'react';\n\nimport { Button, IconName, LinkButton, Tooltip } from '@grafana/ui';\n\ntype TooltipProps = ComponentProps<typeof Tooltip>;\n\ninterface Props {\n  tooltip: TooltipProps['content'];\n  icon: IconName;\n  className?: string;\n  tooltipPlacement?: TooltipProps['placement'];\n  to?: string;\n  target?: string;\n  onClick?: () => void;\n  'data-testid'?: string;\n}\n\nexport const ActionIcon = ({\n  tooltip,\n  icon,\n  to,\n  target,\n  onClick,\n  className,\n  tooltipPlacement = 'top',\n  ...rest\n}: Props) => {\n  const ariaLabel = typeof tooltip === 'string' ? tooltip : undefined;\n\n  return (\n    <Tooltip content={tooltip} placement={tooltipPlacement}>\n      {to ? (\n        <LinkButton\n          variant=\"secondary\"\n          fill=\"text\"\n          icon={icon}\n          href={to}\n          size=\"sm\"\n          target={target}\n          {...rest}\n          aria-label={ariaLabel}\n        />\n      ) : (\n        <Button\n          className={className}\n          variant=\"secondary\"\n          fill=\"text\"\n          size=\"sm\"\n          icon={icon}\n          type=\"button\"\n          onClick={onClick}\n          {...rest}\n          aria-label={ariaLabel}\n        />\n      )}\n    </Tooltip>\n  );\n};\n","import { useState } from 'react';\nimport { PopValueActionMeta, RemoveValueActionMeta } from 'react-select';\n\nimport {\n  DataSourceInstanceSettings,\n  SelectableValue,\n  getDataSourceUID,\n  isUnsignedPluginSignature,\n} from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { t } from '@grafana/i18n';\nimport { DataSourcePickerProps, DataSourcePickerState, getDataSourceSrv } from '@grafana/runtime';\nimport { ExpressionDatasourceRef } from '@grafana/runtime/internal';\nimport { ActionMeta, MultiSelect, PluginSignatureBadge, Stack } from '@grafana/ui';\n\nimport { isDataSourceManagingAlerts } from '../../utils/datasource';\n\nexport interface MultipleDataSourcePickerProps extends Omit<DataSourcePickerProps, 'onChange' | 'current'> {\n  onChange: (ds: DataSourceInstanceSettings, action: 'add' | 'remove') => void;\n  current: string[] | undefined;\n}\n\nexport const MultipleDataSourcePicker = (props: MultipleDataSourcePickerProps) => {\n  const dataSourceSrv = getDataSourceSrv();\n\n  const [state, setState] = useState<DataSourcePickerState>();\n\n  const onChange = (items: Array<SelectableValue<string>>, actionMeta: ActionMeta) => {\n    if (actionMeta.action === 'clear' && props.onClear) {\n      props.onClear();\n      return;\n    }\n\n    const selectedItem = items[items.length - 1];\n\n    let dataSourceName, action: 'add' | 'remove';\n\n    if (actionMeta.action === 'pop-value' || actionMeta.action === 'remove-value') {\n      const castedActionMeta:\n        | RemoveValueActionMeta<SelectableValue<string>>\n        | PopValueActionMeta<SelectableValue<string>> = actionMeta;\n      dataSourceName = castedActionMeta.removedValue?.value;\n      action = 'remove';\n    } else {\n      dataSourceName = selectedItem.value;\n      action = 'add';\n    }\n\n    const dsSettings = dataSourceSrv.getInstanceSettings(dataSourceName);\n\n    if (dsSettings) {\n      props.onChange(dsSettings, action);\n      setState({ error: undefined });\n    }\n  };\n\n  const getCurrentValue = (): Array<SelectableValue<string>> | undefined => {\n    const { current, hideTextValue, noDefault } = props;\n    if (!current && noDefault) {\n      return;\n    }\n\n    return current?.map((dataSourceName: string) => {\n      const ds = dataSourceSrv.getInstanceSettings(dataSourceName);\n      if (ds) {\n        return {\n          label: ds.name.slice(0, 37),\n          value: ds.name,\n          imgUrl: ds.meta.info.logos.small,\n          hideText: hideTextValue,\n          meta: ds.meta,\n        };\n      }\n\n      const uid = getDataSourceUID(dataSourceName);\n\n      if (uid === ExpressionDatasourceRef.uid || uid === ExpressionDatasourceRef.name) {\n        return { label: uid, value: uid, hideText: hideTextValue };\n      }\n\n      return {\n        label: (uid ?? 'no name') + ' - not found',\n        value: uid ?? undefined,\n        imgUrl: '',\n        hideText: hideTextValue,\n      };\n    });\n  };\n\n  const getDataSourceOptions = () => {\n    const { alerting, tracing, metrics, mixed, dashboard, variables, annotations, pluginId, type, filter, logs } =\n      props;\n\n    const dataSources = dataSourceSrv.getList({\n      alerting,\n      tracing,\n      metrics,\n      logs,\n      dashboard,\n      mixed,\n      variables,\n      annotations,\n      pluginId,\n      filter,\n      type,\n    });\n\n    const alertManagingDs = dataSources.filter(isDataSourceManagingAlerts).map((ds) => ({\n      value: ds.name,\n      label: `${ds.name}${ds.isDefault ? ' (default)' : ''}`,\n      imgUrl: ds.meta.info.logos.small,\n      meta: ds.meta,\n    }));\n\n    const nonAlertManagingDs = dataSources\n      .filter((ds) => !isDataSourceManagingAlerts(ds))\n      .map((ds) => ({\n        value: ds.name,\n        label: `${ds.name}${ds.isDefault ? ' (default)' : ''}`,\n        imgUrl: ds.meta.info.logos.small,\n        meta: ds.meta,\n      }));\n\n    const groupedOptions = [\n      {\n        label: t(\n          'alerting.multiple-data-source-picker.get-data-source-options.grouped-options.label.data-sources-with-configured-alert-rules',\n          'Data sources with configured alert rules'\n        ),\n        options: alertManagingDs,\n        expanded: true,\n      },\n      {\n        label: t(\n          'alerting.multiple-data-source-picker.get-data-source-options.grouped-options.label.other-data-sources',\n          'Other data sources'\n        ),\n        options: nonAlertManagingDs,\n        expanded: true,\n      },\n    ];\n\n    return groupedOptions;\n  };\n\n  const {\n    autoFocus,\n    onBlur,\n    onClear,\n    openMenuOnFocus,\n    placeholder,\n    width,\n    inputId,\n    disabled = false,\n    isLoading = false,\n  } = props;\n\n  const options = getDataSourceOptions();\n  const value = getCurrentValue();\n  const isClearable = typeof onClear === 'function';\n\n  return (\n    <div data-testid={selectors.components.DataSourcePicker.container}>\n      <MultiSelect\n        isLoading={isLoading}\n        disabled={disabled}\n        data-testid={selectors.components.DataSourcePicker.inputV2}\n        inputId={inputId || 'data-source-picker'}\n        className=\"ds-picker select-container\"\n        isClearable={isClearable}\n        backspaceRemovesValue={true}\n        onChange={onChange}\n        options={options}\n        autoFocus={autoFocus}\n        onBlur={onBlur}\n        width={width}\n        openMenuOnFocus={openMenuOnFocus}\n        maxMenuHeight={500}\n        placeholder={placeholder}\n        noOptionsMessage={t(\n          'alerting.multiple-data-source-picker.noOptionsMessage-no-datasources-found',\n          'No datasources found'\n        )}\n        value={value ?? []}\n        invalid={Boolean(state?.error) || Boolean(props.invalid)}\n        getOptionLabel={(o) => {\n          if (o.meta && isUnsignedPluginSignature(o.meta.signature) && o !== value) {\n            return (\n              <Stack alignItems=\"center\" justifyContent=\"space-between\">\n                <span>{o.label}</span> <PluginSignatureBadge status={o.meta.signature} />\n              </Stack>\n            );\n          }\n          return o.label || '';\n        }}\n      />\n    </div>\n  );\n};\n","import { css } from '@emotion/css';\nimport { useEffect, useRef, useState } from 'react';\nimport { useForm } from 'react-hook-form';\n\nimport { ContactPointSelector } from '@grafana/alerting/unstable';\nimport { DataSourceInstanceSettings, GrafanaTheme2, SelectableValue } from '@grafana/data';\nimport { Trans, t } from '@grafana/i18n';\nimport { Button, Field, Icon, Input, Label, RadioButtonGroup, Stack, Tooltip, useStyles2 } from '@grafana/ui';\nimport { DashboardPicker } from 'app/core/components/Select/DashboardPicker';\nimport { contextSrv } from 'app/core/core';\nimport { AccessControlAction } from 'app/types/accessControl';\nimport { PromAlertingRuleState, PromRuleType } from 'app/types/unified-alerting-dto';\n\nimport {\n  LogMessages,\n  logInfo,\n  trackRulesSearchComponentInteraction,\n  trackRulesSearchInputInteraction,\n} from '../../../Analytics';\nimport { useRulesFilter } from '../../../hooks/useFilteredRules';\nimport { useAlertingHomePageExtensions } from '../../../plugins/useAlertingHomePageExtensions';\nimport { RuleHealth } from '../../../search/rulesSearchParser';\nimport { alertStateToReadable } from '../../../utils/rules';\nimport { PopupCard } from '../../HoverCard';\nimport { MultipleDataSourcePicker } from '../MultipleDataSourcePicker';\n\nimport { RulesViewModeSelector, SupportedView } from './RulesViewModeSelector';\n\nconst RuleTypeOptions: SelectableValue[] = [\n  { label: 'Alert ', value: PromRuleType.Alerting },\n  { label: 'Recording ', value: PromRuleType.Recording },\n];\n\nconst RuleHealthOptions: SelectableValue[] = [\n  { label: 'Ok', value: RuleHealth.Ok },\n  { label: 'No Data', value: RuleHealth.NoData },\n  { label: 'Error', value: RuleHealth.Error },\n];\n\n// Contact point selector is not supported in Alerting ListView V2 yet\nconst canRenderContactPointSelector = contextSrv.hasPermission(AccessControlAction.AlertingReceiversRead);\n\ninterface RulesFilerProps {\n  onClear?: () => void;\n  viewMode?: SupportedView;\n  onViewModeChange?: (viewMode: SupportedView) => void;\n}\n\nconst RuleStateOptions = Object.entries(PromAlertingRuleState)\n  .filter(([key, value]) => value !== PromAlertingRuleState.Unknown) // Exclude Unknown state from filter options\n  .map(([key, value]) => ({\n    label: alertStateToReadable(value),\n    value,\n  }));\n\nconst RulesFilter = ({ onClear = () => undefined, viewMode, onViewModeChange }: RulesFilerProps) => {\n  const styles = useStyles2(getStyles);\n  const { pluginsFilterEnabled } = usePluginsFilterStatus();\n  const { filterState, hasActiveFilters, searchQuery, setSearchQuery, updateFilters } = useRulesFilter();\n\n  // This key is used to force a rerender on the inputs when the filters are cleared\n  const [filterKey, setFilterKey] = useState<number>(Math.floor(Math.random() * 100));\n  const dataSourceKey = `dataSource-${filterKey}`;\n  const queryStringKey = `queryString-${filterKey}`;\n\n  const searchQueryRef = useRef<HTMLInputElement | null>(null);\n  const { handleSubmit, register, setValue } = useForm<{ searchQuery: string }>({\n    defaultValues: { searchQuery },\n  });\n  const { ref, ...rest } = register('searchQuery');\n\n  useEffect(() => {\n    setValue('searchQuery', searchQuery);\n  }, [searchQuery, setValue]);\n\n  const handleDataSourceChange = (dataSourceValue: DataSourceInstanceSettings, action: 'add' | 'remove') => {\n    const dataSourceNames =\n      action === 'add'\n        ? [...filterState.dataSourceNames].concat([dataSourceValue.name])\n        : filterState.dataSourceNames.filter((name) => name !== dataSourceValue.name);\n\n    updateFilters({\n      ...filterState,\n      dataSourceNames,\n    });\n\n    setFilterKey((key) => key + 1);\n    trackRulesSearchComponentInteraction('dataSourceNames');\n  };\n\n  const handleDashboardChange = (dashboardUid: string | undefined) => {\n    updateFilters({ ...filterState, dashboardUid });\n    trackRulesSearchComponentInteraction('dashboardUid');\n  };\n\n  const clearDataSource = () => {\n    updateFilters({ ...filterState, dataSourceNames: [] });\n    setFilterKey((key) => key + 1);\n  };\n\n  const handleAlertStateChange = (value: PromAlertingRuleState) => {\n    logInfo(LogMessages.clickingAlertStateFilters);\n    updateFilters({ ...filterState, ruleState: value });\n    trackRulesSearchComponentInteraction('ruleState');\n  };\n\n  const handleRuleTypeChange = (ruleType: PromRuleType) => {\n    updateFilters({ ...filterState, ruleType });\n    trackRulesSearchComponentInteraction('ruleType');\n  };\n\n  const handleRuleHealthChange = (ruleHealth: RuleHealth) => {\n    updateFilters({ ...filterState, ruleHealth });\n    trackRulesSearchComponentInteraction('ruleHealth');\n  };\n\n  const handleClearFiltersClick = () => {\n    setSearchQuery(undefined);\n    onClear();\n\n    setTimeout(() => setFilterKey(filterKey + 1), 100);\n  };\n\n  const handleContactPointChange = (contactPoint: string) => {\n    updateFilters({ ...filterState, contactPoint });\n    trackRulesSearchComponentInteraction('contactPoint');\n  };\n\n  const searchIcon = <Icon name={'search'} />;\n\n  return (\n    <Stack direction=\"column\" gap={0}>\n      <Stack direction=\"row\" gap={1} wrap=\"wrap\">\n        <Field\n          className={styles.dsPickerContainer}\n          label={\n            <Label htmlFor=\"data-source-picker\">\n              <Stack gap={0.5} alignItems=\"center\">\n                <span>\n                  <Trans i18nKey=\"alerting.rules-filter.search-by-data-sources\">Search by data sources</Trans>\n                </span>\n                <Tooltip\n                  content={\n                    <div>\n                      <p>\n                        <Trans i18nKey=\"alerting.rules-filter.configured-alert-rules\">\n                          Data sources containing configured alert rules are Mimir or Loki data sources where alert\n                          rules are stored and evaluated in the data source itself.\n                        </Trans>\n                      </p>\n                      <p>\n                        <Trans i18nKey=\"alerting.rules-filter.manage-alerts\">\n                          In these data sources, you can select Manage alerts via Alerting UI to be able to manage these\n                          alert rules in the Grafana UI as well as in the data source where they were configured.\n                        </Trans>\n                      </p>\n                    </div>\n                  }\n                >\n                  <Icon\n                    id=\"data-source-picker-inline-help\"\n                    name=\"info-circle\"\n                    size=\"sm\"\n                    title={t(\n                      'alerting.rules-filter.data-source-picker-inline-help-title-search-by-data-sources-help',\n                      'Search by data sources help'\n                    )}\n                  />\n                </Tooltip>\n              </Stack>\n            </Label>\n          }\n        >\n          <MultipleDataSourcePicker\n            key={dataSourceKey}\n            alerting\n            noDefault\n            placeholder={t('alerting.rules-filter.placeholder-all-data-sources', 'All data sources')}\n            current={filterState.dataSourceNames}\n            onChange={handleDataSourceChange}\n            onClear={clearDataSource}\n          />\n        </Field>\n\n        <Field\n          className={styles.dashboardPickerContainer}\n          label={\n            <Label htmlFor=\"filters-dashboard-picker\">\n              <Trans i18nKey=\"alerting.rules-filter.dashboard\">Dashboard</Trans>\n            </Label>\n          }\n        >\n          {/* The key prop is to clear the picker value */}\n          {/* DashboardPicker doesn't do that itself when value is undefined */}\n          <DashboardPicker\n            inputId=\"filters-dashboard-picker\"\n            key={filterState.dashboardUid ? 'dashboard-defined' : 'dashboard-not-defined'}\n            value={filterState.dashboardUid}\n            onChange={(value) => handleDashboardChange(value?.uid)}\n            isClearable\n            cacheOptions\n          />\n        </Field>\n\n        <div>\n          <Label>\n            <Trans i18nKey=\"alerting.rules-filter.state\">State</Trans>\n          </Label>\n          <RadioButtonGroup\n            options={RuleStateOptions}\n            value={filterState.ruleState}\n            onChange={handleAlertStateChange}\n          />\n        </div>\n        <div>\n          <Label>\n            <Trans i18nKey=\"alerting.rules-filter.rule-type\">Rule type</Trans>\n          </Label>\n          <RadioButtonGroup options={RuleTypeOptions} value={filterState.ruleType} onChange={handleRuleTypeChange} />\n        </div>\n        <div>\n          <Label>\n            <Trans i18nKey=\"alerting.rules-filter.health\">Health</Trans>\n          </Label>\n          <RadioButtonGroup\n            options={RuleHealthOptions}\n            value={filterState.ruleHealth}\n            onChange={handleRuleHealthChange}\n          />\n        </div>\n        {canRenderContactPointSelector && (\n          <Stack direction=\"column\" gap={0}>\n            <Field\n              label={\n                <Label htmlFor=\"contactPointFilter\">\n                  <Trans i18nKey=\"alerting.contactPointFilter.label\">Contact point</Trans>\n                </Label>\n              }\n            >\n              <ContactPointSelector\n                id=\"contactPointFilter\"\n                value={filterState.contactPoint ?? null}\n                width={40}\n                placeholder={t(\n                  'alerting.notification-policies-filter.placeholder-search-by-contact-point',\n                  'Choose a contact point'\n                )}\n                isClearable\n                onChange={(contactPoint) => {\n                  handleContactPointChange(contactPoint?.spec.title ?? '');\n                }}\n              />\n            </Field>\n          </Stack>\n        )}\n        {pluginsFilterEnabled && (\n          <div>\n            <Label>\n              <Trans i18nKey=\"alerting.rules-filter.plugin-rules\">Plugin rules</Trans>\n            </Label>\n            <RadioButtonGroup<'hide'>\n              options={[\n                { label: t('alerting.rules-filter.label.show', 'Show'), value: undefined },\n                { label: t('alerting.rules-filter.label.hide', 'Hide'), value: 'hide' },\n              ]}\n              value={filterState.plugins}\n              onChange={(value) => updateFilters({ ...filterState, plugins: value })}\n            />\n          </div>\n        )}\n      </Stack>\n\n      <Stack direction=\"column\" gap={0}>\n        <Stack direction=\"row\" gap={1}>\n          <form\n            className={styles.searchInput}\n            onSubmit={handleSubmit((data) => {\n              setSearchQuery(data.searchQuery);\n              searchQueryRef.current?.blur();\n              trackRulesSearchInputInteraction({ oldQuery: searchQuery, newQuery: data.searchQuery });\n            })}\n          >\n            <Field\n              label={\n                <Label htmlFor=\"rulesSearchInput\">\n                  <Stack gap={0.5} alignItems=\"center\">\n                    <span>\n                      <Trans i18nKey=\"alerting.rules-filter.search\">Search</Trans>\n                    </span>\n                    <PopupCard content={<SearchQueryHelp />}>\n                      <Icon\n                        name=\"info-circle\"\n                        size=\"sm\"\n                        tabIndex={0}\n                        title={t('alerting.rules-filter.title-search-help', 'Search help')}\n                      />\n                    </PopupCard>\n                  </Stack>\n                </Label>\n              }\n            >\n              <Input\n                id=\"rulesSearchInput\"\n                key={queryStringKey}\n                prefix={searchIcon}\n                ref={(e) => {\n                  ref(e);\n                  searchQueryRef.current = e;\n                }}\n                {...rest}\n                placeholder={t('alerting.rules-filter.rulesSearchInput-placeholder-search', 'Search')}\n                data-testid=\"search-query-input\"\n              />\n            </Field>\n            <input type=\"submit\" hidden />\n          </form>\n          <div>\n            <Label>\n              <Trans i18nKey=\"alerting.rules-filter.view-as\">View as</Trans>\n            </Label>\n            <RulesViewModeSelector viewMode={viewMode} onViewModeChange={onViewModeChange} />\n          </div>\n        </Stack>\n        {hasActiveFilters && (\n          <div>\n            <Button fullWidth={false} icon=\"times\" variant=\"secondary\" onClick={handleClearFiltersClick}>\n              <Trans i18nKey=\"alerting.rules-filter.clear-filters\">Clear filters</Trans>\n            </Button>\n          </div>\n        )}\n      </Stack>\n    </Stack>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    dsPickerContainer: css({\n      width: theme.spacing(60),\n      flexGrow: 0,\n      margin: 0,\n    }),\n    dashboardPickerContainer: css({\n      minWidth: theme.spacing(50),\n    }),\n    searchInput: css({\n      flex: 1,\n      margin: 0,\n    }),\n  };\n};\n\nfunction SearchQueryHelp() {\n  const styles = useStyles2(helpStyles);\n\n  return (\n    <div>\n      <div>\n        <Trans i18nKey=\"alerting.search-query-help.search-syntax\">\n          Search syntax allows to query alert rules by the parameters defined below.\n        </Trans>\n      </div>\n      <hr />\n      <div className={styles.grid}>\n        <div>\n          <Trans i18nKey=\"alerting.search-query-help.filter-type\">Filter type</Trans>\n        </div>\n        <div>\n          <Trans i18nKey=\"alerting.search-query-help.expression\">Expression</Trans>\n        </div>\n        <HelpRow\n          title={t('alerting.search-query-help.title-datasources', 'Datasources')}\n          expr=\"datasource:mimir datasource:prometheus\"\n        />\n        <HelpRow\n          title={t('alerting.search-query-help.title-folder-namespace', 'Folder/Namespace')}\n          expr=\"namespace:global\"\n        />\n        <HelpRow title={t('alerting.search-query-help.title-group', 'Group')} expr=\"group:cpu-usage\" />\n        <HelpRow title={t('alerting.search-query-help.title-rule', 'Rule')} expr='rule:\"cpu 80%\"' />\n        <HelpRow title={t('alerting.search-query-help.title-labels', 'Labels')} expr=\"label:team=A label:cluster=a1\" />\n        <HelpRow title={t('alerting.search-query-help.title-state', 'State')} expr=\"state:firing|normal|pending\" />\n        <HelpRow title={t('alerting.search-query-help.title-type', 'Type')} expr=\"type:alerting|recording\" />\n        <HelpRow title={t('alerting.search-query-help.title-health', 'Health')} expr=\"health:ok|nodata|error\" />\n        <HelpRow\n          title={t('alerting.search-query-help.title-dashboard-uid', 'Dashboard UID')}\n          expr=\"dashboard:eadde4c7-54e6-4964-85c0-484ab852fd04\"\n        />\n        <HelpRow\n          title={t('alerting.search-query-help.title-contact-point', 'Contact point')}\n          expr=\"contactPoint:slack\"\n        />\n      </div>\n    </div>\n  );\n}\n\nfunction HelpRow({ title, expr }: { title: string; expr: string }) {\n  const styles = useStyles2(helpStyles);\n\n  return (\n    <>\n      <div>{title}</div>\n      <code className={styles.code}>{expr}</code>\n    </>\n  );\n}\n\nconst helpStyles = (theme: GrafanaTheme2) => ({\n  grid: css({\n    display: 'grid',\n    gridTemplateColumns: 'max-content auto',\n    gap: theme.spacing(1),\n    alignItems: 'center',\n  }),\n  code: css({\n    display: 'block',\n    textAlign: 'center',\n  }),\n});\n\nfunction usePluginsFilterStatus() {\n  const { components } = useAlertingHomePageExtensions();\n  return { pluginsFilterEnabled: components.length > 0 };\n}\n\nexport default RulesFilter;\n","import { useCallback } from 'react';\n\nimport { SelectableValue } from '@grafana/data';\nimport { RadioButtonGroup } from '@grafana/ui';\n\nimport { trackRulesListViewChange } from '../../../Analytics';\nimport { shouldUseAlertingListViewV2 } from '../../../featureToggles';\nimport { useRulesFilter } from '../../../hooks/useFilteredRules';\nimport { useURLSearchParams } from '../../../hooks/useURLSearchParams';\n\nexport type SupportedView = 'list' | 'grouped';\n\ntype LegacySupportedView = 'list' | 'grouped' | 'state';\n\nconst ViewOptions: Array<SelectableValue<SupportedView>> = [\n  { icon: 'folder', label: 'Grouped', value: 'grouped' },\n  { icon: 'list-ul', label: 'List', value: 'list' },\n];\n\ninterface RulesViewModeSelectorV2Props {\n  viewMode?: SupportedView;\n  onViewModeChange?: (viewMode: SupportedView) => void;\n}\n\n/**\n * Selecting a view mode is no longer a simple toggle relying on the URL query params.\n * We now need to check if the current filters are compatible with the grouped view.\n * If they are, we show the grouped view by default.\n * If they are not, we show the list view.\n * Use the complementary {@link useListViewMode} hook to get the current view mode and a handler for changing it.\n */\nfunction RulesViewModeSelectorV2({ viewMode, onViewModeChange }: RulesViewModeSelectorV2Props) {\n  return <RadioButtonGroup options={ViewOptions} value={viewMode} onChange={onViewModeChange} />;\n}\n\nexport function useListViewMode() {\n  const [queryParams, updateQueryParams] = useURLSearchParams();\n  const { activeFilters } = useRulesFilter();\n\n  const queryStringView: SupportedView = queryParams.get('view') === 'list' ? 'list' : 'grouped';\n\n  const areFiltersGroupedViewCompatible = activeFilters.every(\n    (filter) => filter === 'groupName' || filter === 'namespace'\n  );\n  const showListView = areFiltersGroupedViewCompatible === false || queryStringView === 'list';\n\n  const handleViewChange = useCallback(\n    (view: SupportedView) => {\n      if (view === 'grouped') {\n        // When switching to grouped view, preserve filters only if they are grouped-view compatible\n        if (areFiltersGroupedViewCompatible) {\n          // Only remove view parameter, keep search (preserve group/namespace filters)\n          updateQueryParams({ view: undefined });\n        } else {\n          // Clear both view and search (clear all filters)\n          updateQueryParams({ view: undefined, search: undefined });\n        }\n      } else {\n        updateQueryParams({ view });\n      }\n      trackRulesListViewChange({ view });\n    },\n    [updateQueryParams, areFiltersGroupedViewCompatible]\n  );\n\n  const viewMode: SupportedView = showListView ? 'list' : 'grouped';\n\n  return {\n    viewMode,\n    handleViewChange,\n  };\n}\n\nconst LegacyViewOptions: Array<SelectableValue<LegacySupportedView>> = [\n  { label: 'Grouped', value: 'grouped' },\n  { label: 'List', value: 'list' },\n  { label: 'State', value: 'state' },\n];\n\nfunction RulesViewModeSelectorV1() {\n  const [queryParams, updateQueryParams] = useURLSearchParams();\n  const viewParam = queryParams.get('view');\n\n  const currentView = viewParamToLegacyView(viewParam);\n\n  const handleViewChange = (view: LegacySupportedView) => {\n    updateQueryParams({ view });\n  };\n\n  return <RadioButtonGroup options={LegacyViewOptions} value={currentView} onChange={handleViewChange} />;\n}\n\nfunction viewParamToLegacyView(viewParam: string | null): LegacySupportedView {\n  if (viewParam === 'list') {\n    return 'list';\n  }\n\n  if (viewParam === 'state') {\n    return 'state';\n  }\n\n  return 'grouped';\n}\n\ninterface RulesViewModeSelectorProps {\n  viewMode?: SupportedView;\n  onViewModeChange?: (viewMode: SupportedView) => void;\n}\n\nexport function RulesViewModeSelector({ viewMode, onViewModeChange }: RulesViewModeSelectorProps) {\n  if (shouldUseAlertingListViewV2()) {\n    return <RulesViewModeSelectorV2 viewMode={viewMode} onViewModeChange={onViewModeChange} />;\n  }\n\n  return <RulesViewModeSelectorV1 />;\n}\n","import { css } from '@emotion/css';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Trans, t } from '@grafana/i18n';\nimport { config } from '@grafana/runtime';\nimport { Dropdown, EmptyState, LinkButton, Menu, MenuItem, Stack, Text, TextLink, useStyles2 } from '@grafana/ui';\n\nimport { RuleFormType, RuleFormValues } from '../../types/rule-form';\nimport { useRulesAccess } from '../../utils/accessControlHooks';\nimport { createRelativeUrl } from '../../utils/url';\n\nconst RecordingRulesButtons = () => {\n  const { canCreateGrafanaRules, canCreateCloudRules } = useRulesAccess();\n\n  const grafanaRecordingRulesEnabled = config.unifiedAlerting.recordingRulesEnabled && canCreateGrafanaRules;\n\n  const canCreateAll = canCreateGrafanaRules && canCreateCloudRules && grafanaRecordingRulesEnabled;\n\n  // User can create Grafana and DS-managed recording rules, show a dropdown\n  if (canCreateAll) {\n    return (\n      <Dropdown\n        overlay={\n          <Menu>\n            <MenuItem\n              url=\"alerting/new/grafana-recording\"\n              icon=\"plus\"\n              label={t('alerting.list-view.empty.new-grafana-recording-rule', 'New recording rule')}\n            />\n            <MenuItem\n              url=\"alerting/new/recording\"\n              icon=\"plus\"\n              label={t(\n                'alerting.list-view.empty.new-ds-managed-recording-rule',\n                'New data source-managed recording rule'\n              )}\n            />\n          </Menu>\n        }\n      >\n        <LinkButton variant=\"primary\" icon=\"plus\" size=\"lg\">\n          <Trans i18nKey=\"alerting.list-view.empty.new-recording-rule\">New recording rule</Trans>\n        </LinkButton>\n      </Dropdown>\n    );\n  }\n\n  // ...Otherwise, just show the buttons for each type of recording rule\n  // (this will just be one or the other)\n  return (\n    <>\n      {canCreateGrafanaRules && grafanaRecordingRulesEnabled && (\n        <LinkButton variant=\"primary\" icon=\"plus\" size=\"lg\" href=\"alerting/new/grafana-recording\">\n          <Trans i18nKey=\"alerting.list-view.empty.new-grafana-recording-rule\">New recording rule</Trans>\n        </LinkButton>\n      )}\n      {canCreateCloudRules && (\n        <LinkButton variant=\"primary\" icon=\"plus\" size=\"lg\" href=\"alerting/new/recording\">\n          <Trans i18nKey=\"alerting.list-view.empty.new-ds-managed-recording-rule\">\n            New data source-managed recording rule\n          </Trans>\n        </LinkButton>\n      )}\n    </>\n  );\n};\n\nexport const NoRulesSplash = () => {\n  const { canCreateGrafanaRules, canCreateCloudRules } = useRulesAccess();\n  const canCreateAnything = canCreateGrafanaRules || canCreateCloudRules;\n\n  return (\n    <div>\n      <EmptyState\n        message={t('alerting.list-view.empty.no-rules-created', \"You haven't created any rules yet\")}\n        variant=\"call-to-action\"\n        button={\n          canCreateAnything ? (\n            <Stack direction=\"column\" alignItems=\"center\" justifyContent=\"center\">\n              {canCreateAnything && (\n                <LinkButton variant=\"primary\" icon=\"plus\" size=\"lg\" href=\"alerting/new/alerting\">\n                  <Trans i18nKey=\"alerting.list-view.empty.new-alert-rule\">New alert rule</Trans>\n                </LinkButton>\n              )}\n              <RecordingRulesButtons />\n            </Stack>\n          ) : null\n        }\n      >\n        <Trans i18nKey=\"alerting.list-view.empty.provisioning\">\n          You can also define rules through file provisioning or Terraform\n        </Trans>\n        <TextLink href=\"https://grafana.com/docs/grafana/latest/alerting/set-up/provision-alerting-resources/\" external>\n          <Trans i18nKey=\"alerting.common.learn-more\">Learn more</Trans>\n        </TextLink>\n      </EmptyState>\n    </div>\n  );\n};\n\nexport function GrafanaNoRulesCTA() {\n  const { canCreateGrafanaRules } = useRulesAccess();\n\n  const grafanaRecordingRulesEnabled = config.unifiedAlerting.recordingRulesEnabled && canCreateGrafanaRules;\n\n  return (\n    <EmptyState\n      message={t('alerting.list-view.empty.no-rules-created', \"You haven't created any rules yet\")}\n      variant=\"call-to-action\"\n    >\n      <Stack direction=\"column\" alignItems=\"center\" justifyContent=\"center\" gap={2}>\n        <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"center\">\n          <Trans i18nKey=\"alerting.list-view.empty.provisioning\">\n            You can also define rules through file provisioning or Terraform\n          </Trans>\n          <TextLink\n            href=\"https://grafana.com/docs/grafana/latest/alerting/set-up/provision-alerting-resources/\"\n            external\n          >\n            <Trans i18nKey=\"alerting.common.learn-more\">Learn more</Trans>\n          </TextLink>\n        </Stack>\n        <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"center\">\n          {canCreateGrafanaRules && (\n            <LinkButton variant=\"primary\" icon=\"plus\" href=\"alerting/new/alerting\">\n              <Trans i18nKey=\"alerting.list-view.empty.new-grafana-alerting-rule\">New alert rule</Trans>\n            </LinkButton>\n          )}\n          {canCreateGrafanaRules && grafanaRecordingRulesEnabled && (\n            <LinkButton variant=\"primary\" icon=\"plus\" href=\"alerting/new/grafana-recording\">\n              <Trans i18nKey=\"alerting.list-view.empty.new-grafana-recording-rule\">New recording rule</Trans>\n            </LinkButton>\n          )}\n        </Stack>\n      </Stack>\n    </EmptyState>\n  );\n}\n\nexport function CloudNoRulesCTA({ dataSourceName }: { dataSourceName: string }) {\n  const styles = useStyles2(getCloudNoRulesStyles);\n  const { canCreateCloudRules } = useRulesAccess();\n\n  const newAlertingRuleUrl = getNewDataSourceRuleUrl(dataSourceName, RuleFormType.cloudAlerting);\n  const newRecordingRuleUrl = getNewDataSourceRuleUrl(dataSourceName, RuleFormType.cloudRecording);\n\n  return (\n    <div className={styles.container}>\n      <Text variant=\"h5\">\n        <Trans i18nKey=\"alerting.list-view.empty.ds-no-rules\">This data source has no rules configured</Trans>\n      </Text>\n      {canCreateCloudRules && (\n        <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"center\">\n          <LinkButton variant=\"secondary\" size=\"sm\" icon=\"plus\" href={newAlertingRuleUrl}>\n            <Trans i18nKey=\"alerting.list-view.empty.new-ds-managed-alerting-rule\">\n              New data source-managed alerting rule\n            </Trans>\n          </LinkButton>\n          <LinkButton variant=\"secondary\" size=\"sm\" icon=\"plus\" href={newRecordingRuleUrl}>\n            <Trans i18nKey=\"alerting.list-view.empty.new-ds-managed-recording-rule\">\n              New data source-managed recording rule\n            </Trans>\n          </LinkButton>\n        </Stack>\n      )}\n    </div>\n  );\n}\n\nfunction getNewDataSourceRuleUrl(\n  dataSourceName: string,\n  type: RuleFormType.cloudAlerting | RuleFormType.cloudRecording\n) {\n  const urlRuleType = type === RuleFormType.cloudAlerting ? 'alerting' : 'recording';\n  const formDefaults: Partial<RuleFormValues> = {\n    dataSourceName,\n    editorSettings: {\n      simplifiedQueryEditor: false,\n      simplifiedNotificationEditor: false,\n    },\n    type,\n  };\n\n  return createRelativeUrl(`/alerting/new/${urlRuleType}`, { defaults: JSON.stringify(formDefaults) });\n}\n\nconst getCloudNoRulesStyles = (theme: GrafanaTheme2) => ({\n  container: css({\n    display: 'flex',\n    gap: theme.spacing(1),\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: theme.spacing(2, 1),\n  }),\n});\n","import { PluginExtensionPoints } from '@grafana/data';\nimport { usePluginComponents } from '@grafana/runtime';\n\nexport function useAlertingHomePageExtensions() {\n  return usePluginComponents({\n    extensionPointId: PluginExtensionPoints.AlertingHomePage,\n    limitPerPlugin: 1,\n  });\n}\n","import { t } from '@grafana/i18n';\nimport { config, reportInteraction } from '@grafana/runtime';\nimport { Button, ButtonProps, Stack } from '@grafana/ui';\n\nimport { shouldUseAlertingListViewV2 } from '../featureToggles';\nimport { setPreviewToggle } from '../previewToggles';\n\nexport function RuleListPageTitle({ title }: { title: string }) {\n  const shouldShowV2Toggle = config.featureToggles.alertingListViewV2PreviewToggle ?? false;\n\n  const listViewV2Enabled = shouldUseAlertingListViewV2();\n\n  const toggleListView = () => {\n    if (listViewV2Enabled) {\n      setPreviewToggle('alertingListViewV2', false);\n      reportInteraction('alerting.list_view.v2.disabled');\n    } else {\n      setPreviewToggle('alertingListViewV2', true);\n      reportInteraction('alerting.list_view.v2.enabled');\n    }\n    window.location.reload();\n  };\n\n  const { text, ...configToUse }: ButtonProps & { text: string; 'data-testid': string } = listViewV2Enabled\n    ? {\n        variant: 'secondary',\n        icon: undefined,\n        text: t('alerting.rule-list.toggle.go-back-to-old-look', 'Go back to the old look'),\n        'data-testid': 'alerting-list-view-toggle-v1',\n      }\n    : {\n        variant: 'primary',\n        icon: 'rocket',\n        text: t('alerting.rule-list.toggle.try-out-the-new-look', 'Try out the new look!'),\n        'data-testid': 'alerting-list-view-toggle-v2',\n      };\n\n  return (\n    <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" gap={2}>\n      <h1>{title}</h1>\n      {shouldShowV2Toggle && (\n        <div>\n          <Button size=\"sm\" fill=\"outline\" {...configToUse} onClick={toggleListView} className=\"fs-unmask\">\n            {text}\n          </Button>\n        </div>\n      )}\n    </Stack>\n  );\n}\n","import { css } from '@emotion/css';\nimport pluralize from 'pluralize';\nimport { ReactNode, useEffect, useId } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Trans, t } from '@grafana/i18n';\nimport { Alert, Icon, Stack, Text, TextLink, Tooltip, useStyles2 } from '@grafana/ui';\nimport { Rule, RuleGroupIdentifierV2, RuleHealth, RulesSourceIdentifier } from 'app/types/unified-alerting';\nimport { Labels, PromAlertingRuleState, RulerRuleDTO, RulesSourceApplication } from 'app/types/unified-alerting-dto';\n\nimport { logError } from '../../Analytics';\nimport { AlertLabels } from '../../components/AlertLabels';\nimport { MetaText } from '../../components/MetaText';\nimport { ProvisioningBadge } from '../../components/Provisioning';\nimport { PluginOriginBadge } from '../../plugins/PluginOriginBadge';\nimport { GRAFANA_RULES_SOURCE_NAME } from '../../utils/datasource';\nimport { getGroupOriginName } from '../../utils/groupIdentifier';\nimport { labelsSize } from '../../utils/labels';\nimport { createContactPointSearchLink } from '../../utils/misc';\nimport { RulePluginOrigin } from '../../utils/rules';\n\nimport { ListItem } from './ListItem';\nimport { DataSourceIcon } from './Namespace';\nimport { RuleListIcon, RuleOperation } from './RuleListIcon';\nimport { calculateNextEvaluationEstimate } from './util';\n\nexport interface AlertRuleListItemProps {\n  name: string;\n  href: string;\n  summary?: string;\n  error?: string;\n  state?: PromAlertingRuleState;\n  isPaused?: boolean;\n  health?: RuleHealth;\n  isProvisioned?: boolean;\n  lastEvaluation?: string;\n  evaluationInterval?: string;\n  labels?: Labels;\n  instancesCount?: number;\n  namespace?: string;\n  group?: string;\n  rulesSource?: RulesSourceIdentifier;\n  application?: RulesSourceApplication;\n  // used for alert rules that use simplified routing\n  contactPoint?: string;\n  actions?: ReactNode;\n  origin?: RulePluginOrigin;\n  operation?: RuleOperation;\n  // the grouped view doesn't need to show the location again  it's redundant\n  showLocation?: boolean;\n}\n\nexport const AlertRuleListItem = (props: AlertRuleListItemProps) => {\n  const {\n    name,\n    summary,\n    state,\n    health,\n    error,\n    href,\n    isProvisioned,\n    lastEvaluation,\n    evaluationInterval,\n    isPaused = false,\n    instancesCount = 0,\n    namespace,\n    group,\n    rulesSource,\n    application,\n    contactPoint,\n    labels,\n    origin,\n    actions = null,\n    operation,\n    showLocation = true,\n  } = props;\n\n  const listItemAriaId = useId();\n\n  const metadata: ReactNode[] = [];\n  if (namespace && group && showLocation) {\n    metadata.push(\n      <Text color=\"secondary\" variant=\"bodySmall\">\n        <RuleLocation namespace={namespace} group={group} rulesSource={rulesSource} application={application} />\n      </Text>\n    );\n  }\n\n  if (!isPaused) {\n    if (lastEvaluation && evaluationInterval) {\n      metadata.push(\n        <EvaluationMetadata lastEvaluation={lastEvaluation} evaluationInterval={evaluationInterval} state={state} />\n      );\n    }\n\n    if (instancesCount) {\n      metadata.push(\n        <MetaText icon=\"layers-alt\">\n          <TextLink href={href + '?tab=instances'} variant=\"bodySmall\" color=\"primary\" inline={false}>\n            {pluralize('instance', instancesCount, true)}\n          </TextLink>\n        </MetaText>\n      );\n    }\n  }\n\n  if (labels && labelsSize(labels) > 0) {\n    metadata.push(\n      <MetaText icon=\"tag-alt\">\n        <RuleLabels labels={labels} />\n      </MetaText>\n    );\n  }\n\n  if (!isPaused && contactPoint) {\n    metadata.push(\n      <MetaText icon=\"at\">\n        <Trans i18nKey=\"alerting.contact-points.delivered-to\">Delivered to</Trans>{' '}\n        <TextLink\n          href={createContactPointSearchLink(contactPoint, GRAFANA_RULES_SOURCE_NAME)}\n          variant=\"bodySmall\"\n          color=\"primary\"\n          inline={false}\n        >\n          {contactPoint}\n        </TextLink>\n      </MetaText>\n    );\n  }\n\n  return (\n    <ListItem\n      aria-labelledby={listItemAriaId}\n      title={\n        <Stack direction=\"row\" alignItems=\"center\">\n          <TextLink href={href} color=\"primary\" inline={false} id={listItemAriaId}>\n            {name}\n          </TextLink>\n          {origin && <PluginOriginBadge pluginId={origin.pluginId} size=\"sm\" />}\n          {/* show provisioned badge only when it also doesn't have plugin origin */}\n          {isProvisioned && !origin && <ProvisioningBadge />}\n          {/* let's not show labels for now, but maybe users would be interested later? Or maybe show them only in the list view? */}\n          {/* {labels && <AlertLabels labels={labels} size=\"xs\" />} */}\n        </Stack>\n      }\n      description={<Summary content={summary} error={error} />}\n      icon={<RuleListIcon state={state} health={health} isPaused={isPaused} operation={operation} />}\n      actions={actions}\n      meta={metadata}\n    />\n  );\n};\n\nexport type RecordingRuleListItemProps = Omit<\n  AlertRuleListItemProps,\n  'summary' | 'state' | 'instancesCount' | 'contactPoint'\n>;\n\nexport function RecordingRuleListItem({\n  name,\n  namespace,\n  group,\n  rulesSource,\n  application,\n  href,\n  health,\n  isProvisioned,\n  error,\n  isPaused,\n  origin,\n  actions,\n  showLocation = true,\n}: RecordingRuleListItemProps) {\n  const metadata: ReactNode[] = [];\n  if (namespace && group && showLocation) {\n    metadata.push(\n      <Text color=\"secondary\" variant=\"bodySmall\">\n        <RuleLocation namespace={namespace} group={group} rulesSource={rulesSource} application={application} />\n      </Text>\n    );\n  }\n\n  return (\n    <ListItem\n      title={\n        <Stack direction=\"row\" alignItems=\"center\">\n          <TextLink color=\"primary\" href={href} inline={false}>\n            {name}\n          </TextLink>\n          {origin && <PluginOriginBadge pluginId={origin.pluginId} size=\"sm\" />}\n          {/* show provisioned badge only when it also doesn't have plugin origin */}\n          {isProvisioned && !origin && <ProvisioningBadge />}\n          {/* let's not show labels for now, but maybe users would be interested later? Or maybe show them only in the list view? */}\n          {/* {labels && <AlertLabels labels={labels} size=\"xs\" />} */}\n        </Stack>\n      }\n      description={<Summary error={error} />}\n      icon={<RuleListIcon recording={true} health={health} isPaused={isPaused} />}\n      actions={actions}\n      meta={metadata}\n    />\n  );\n}\n\ninterface RuleOperationListItemProps {\n  name: string;\n  namespace: string;\n  group: string;\n  rulesSource?: RulesSourceIdentifier;\n  application?: RulesSourceApplication;\n  operation: RuleOperation;\n  showLocation?: boolean;\n}\n\nexport function RuleOperationListItem({\n  name,\n  namespace,\n  group,\n  rulesSource,\n  application,\n  operation,\n  showLocation = true,\n}: RuleOperationListItemProps) {\n  const listItemAriaId = useId();\n\n  const metadata: ReactNode[] = [];\n  if (namespace && group && showLocation) {\n    metadata.push(\n      <Text color=\"secondary\" variant=\"bodySmall\">\n        <RuleLocation namespace={namespace} group={group} rulesSource={rulesSource} application={application} />\n      </Text>\n    );\n  }\n\n  return (\n    <ListItem\n      aria-labelledby={listItemAriaId}\n      title={\n        <Stack direction=\"row\" alignItems=\"center\">\n          <Text id={listItemAriaId}>{name}</Text>\n        </Stack>\n      }\n      icon={<RuleListIcon operation={operation} />}\n      meta={metadata}\n    />\n  );\n}\n\ninterface SummaryProps {\n  content?: string;\n  error?: string;\n}\n\nfunction Summary({ content, error }: SummaryProps) {\n  if (error) {\n    return (\n      <Text variant=\"bodySmall\" color=\"error\" weight=\"light\" truncate element=\"p\">\n        {error}\n      </Text>\n    );\n  }\n  if (content) {\n    return (\n      <Text variant=\"bodySmall\" color=\"secondary\" truncate>\n        {content}\n      </Text>\n    );\n  }\n\n  return null;\n}\n\nfunction RuleLabels({ labels }: { labels: Labels }) {\n  const styles = useStyles2(getStyles);\n\n  return (\n    <Tooltip\n      content={\n        <div className={styles.ruleLabels.tooltip}>\n          <AlertLabels labels={labels} size=\"sm\" />\n        </div>\n      }\n      placement=\"right\"\n      interactive\n    >\n      <div>\n        <Text variant=\"bodySmall\" color=\"primary\">\n          {pluralize('label', labelsSize(labels), true)}\n        </Text>\n      </div>\n    </Tooltip>\n  );\n}\n\ninterface EvaluationMetadataProps {\n  lastEvaluation?: string;\n  evaluationInterval?: string;\n  state?: PromAlertingRuleState;\n}\n\nfunction EvaluationMetadata({ lastEvaluation, evaluationInterval, state }: EvaluationMetadataProps) {\n  const nextEvaluation = calculateNextEvaluationEstimate(lastEvaluation, evaluationInterval);\n\n  // @TODO support firing for calculation\n  if (state === PromAlertingRuleState.Firing && nextEvaluation) {\n    const firingFor = '2m 34s';\n\n    return (\n      <MetaText icon=\"clock-nine\">\n        <Trans i18nKey=\"alerting.alert-rules.firing-for\">Firing for</Trans> <Text color=\"primary\">{firingFor}</Text>\n        {nextEvaluation && (\n          <>\n            {' '}\n            <Trans i18nKey=\"alerting.alert-rules.next-evaluation-in\">next evaluation in</Trans>{' '}\n            {nextEvaluation.humanized}\n          </>\n        )}\n      </MetaText>\n    );\n  }\n\n  // for recording rules and normal or pending state alert rules we just show when we evaluated last and how long that took\n  if (nextEvaluation) {\n    return (\n      <MetaText icon=\"clock-nine\">\n        <Trans i18nKey=\"alerting.alert-rules.next-evaluation\">Next evaluation</Trans> {nextEvaluation.humanized}\n      </MetaText>\n    );\n  }\n\n  return null;\n}\n\ninterface UnknownRuleListItemProps {\n  ruleName: string;\n  groupIdentifier: RuleGroupIdentifierV2;\n  ruleDefinition: Rule | RulerRuleDTO;\n}\n\nexport const UnknownRuleListItem = ({ ruleName, groupIdentifier, ruleDefinition }: UnknownRuleListItemProps) => {\n  const styles = useStyles2(getStyles);\n\n  useEffect(() => {\n    const { namespace, groupName } = groupIdentifier;\n    const ruleContext = {\n      name: ruleName,\n      groupName,\n      namespace: JSON.stringify(namespace),\n      rulesSource: getGroupOriginName(groupIdentifier),\n    };\n    logError(new Error('unknown rule type'), ruleContext);\n  }, [ruleName, groupIdentifier]);\n\n  return (\n    <Alert\n      title={t('alerting.unknown-rule-list-item.title-unknown-rule-type', 'Unknown rule type')}\n      className={styles.resetMargin}\n    >\n      <details>\n        <summary>\n          <Trans i18nKey=\"alerting.alert-rules.rule-definition\">Rule definition</Trans>\n        </summary>\n        <pre>\n          <code>{JSON.stringify(ruleDefinition, null, 2)}</code>\n        </pre>\n      </details>\n    </Alert>\n  );\n};\n\ninterface RuleLocationProps {\n  namespace: string;\n  group: string;\n  rulesSource?: RulesSourceIdentifier;\n  application?: RulesSourceApplication;\n}\n\n// @TODO make the datasource / namespace / group click-able to allow further filtering of the list\nexport const RuleLocation = ({ namespace, group, rulesSource, application }: RuleLocationProps) => {\n  const isGrafanaApp = application === 'grafana';\n  const isDataSourceApp = !!rulesSource && !!application && !isGrafanaApp;\n\n  return (\n    <Stack direction=\"row\" alignItems=\"center\" gap={0.5}>\n      {isGrafanaApp && <Icon size=\"xs\" name=\"folder\" />}\n      {isDataSourceApp && (\n        <Tooltip content={rulesSource.name}>\n          <span>\n            <DataSourceIcon application={application} size={14} />\n          </span>\n        </Tooltip>\n      )}\n\n      <Stack direction=\"row\" alignItems=\"center\" gap={0}>\n        {namespace}\n        <Icon size=\"sm\" name=\"angle-right\" />\n        {group}\n      </Stack>\n    </Stack>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  alertListItemContainer: css({\n    position: 'relative',\n    listStyle: 'none',\n    background: theme.colors.background.primary,\n\n    borderBottom: `solid 1px ${theme.colors.border.weak}`,\n    padding: theme.spacing(1, 1, 1, 1.5),\n  }),\n  resetMargin: css({\n    margin: 0,\n  }),\n  ruleLabels: {\n    tooltip: css({\n      padding: theme.spacing(1),\n    }),\n    text: css({\n      cursor: 'pointer',\n    }),\n  },\n});\n\nexport type RuleListItemCommonProps = Pick<\n  AlertRuleListItemProps,\n  Extract<keyof AlertRuleListItemProps, keyof RecordingRuleListItemProps>\n>;\n","import { css } from '@emotion/css';\nimport React, { AriaAttributes, ReactNode } from 'react';\nimport Skeleton from 'react-loading-skeleton';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Stack, Text, useStyles2 } from '@grafana/ui';\n\ninterface ListItemProps extends AriaAttributes {\n  icon?: ReactNode;\n  title: ReactNode;\n  description?: ReactNode;\n  meta?: ReactNode[];\n  metaRight?: ReactNode[];\n  actions?: ReactNode;\n  'data-testid'?: string;\n}\n\nexport const ListItem = (props: ListItemProps) => {\n  const styles = useStyles2(getStyles);\n  const { icon = null, title, description, meta, metaRight, actions, 'data-testid': testId, ...ariaAttributes } = props;\n\n  return (\n    <li\n      className={styles.alertListItemContainer}\n      role=\"treeitem\"\n      aria-selected=\"false\"\n      data-testid={testId}\n      {...ariaAttributes}\n    >\n      <Stack direction=\"row\" alignItems=\"start\" gap={1} wrap={false}>\n        {/* icon */}\n        <span className={styles.statusIcon}>{icon}</span>\n\n        <Stack direction=\"column\" gap={0} flex=\"1\" minWidth={0}>\n          {/* title */}\n          <Stack direction=\"column\" gap={0}>\n            <div className={styles.textOverflow}>{title}</div>\n            <div className={styles.textOverflow}>{description}</div>\n          </Stack>\n\n          {/* metadata */}\n          <Stack direction=\"row\" gap={0.5} alignItems=\"center\">\n            {meta?.map((item, index) => (\n              <React.Fragment key={index}>\n                {index > 0 && <Separator />}\n                {item}\n              </React.Fragment>\n            ))}\n          </Stack>\n        </Stack>\n\n        {/* actions & meta right */}\n        <Stack direction=\"row\" alignItems=\"center\" gap={1} wrap={false}>\n          {/* @TODO move this so the metadata row can extend beyond the width of this column */}\n          {metaRight}\n          {actions}\n        </Stack>\n      </Stack>\n    </li>\n  );\n};\n\nexport const SkeletonListItem = () => {\n  return (\n    <ListItem\n      icon={<Skeleton width={16} height={16} circle />}\n      title={<Skeleton height={16} width={350} />}\n      actions={<Skeleton height={10} width={200} />}\n    />\n  );\n};\n\nconst Separator = () => (\n  <Text color=\"secondary\" variant=\"bodySmall\">\n    {''}\n  </Text>\n);\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  alertListItemContainer: css({\n    position: 'relative',\n    listStyle: 'none',\n\n    padding: theme.spacing(1),\n\n    '&:hover': {\n      background: theme.colors.action.hover,\n    },\n  }),\n  textOverflow: css({\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    color: 'inherit',\n  }),\n  // this will line up the icon with the title of the rule\n  statusIcon: css({\n    marginTop: theme.spacing(0.5),\n  }),\n});\n","import { css } from '@emotion/css';\nimport { isEmpty } from 'lodash';\nimport { PropsWithChildren, ReactNode } from 'react';\nimport { useToggle } from 'react-use';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { t } from '@grafana/i18n';\nimport { IconButton, Stack, useStyles2 } from '@grafana/ui';\n\nimport { Spacer } from '../../components/Spacer';\n\ninterface ListSectionProps extends PropsWithChildren {\n  title: ReactNode;\n  collapsed?: boolean;\n  actions?: ReactNode;\n  pagination?: ReactNode;\n}\n\nexport const ListSection = ({\n  children,\n  title,\n  collapsed = false,\n  actions = null,\n  pagination = null,\n}: ListSectionProps) => {\n  const styles = useStyles2(getStyles);\n  const [isCollapsed, toggleCollapsed] = useToggle(collapsed);\n\n  return (\n    <li className={styles.wrapper} role=\"treeitem\" aria-selected=\"false\">\n      <div className={styles.sectionTitle}>\n        <Stack alignItems=\"center\">\n          <Stack alignItems=\"center\" gap={0.5}>\n            <IconButton\n              name={isCollapsed ? 'angle-right' : 'angle-down'}\n              onClick={toggleCollapsed}\n              aria-label={t('common.collapse', 'Collapse')}\n            />\n            {title}\n          </Stack>\n          {actions && (\n            <>\n              <Spacer />\n              {actions}\n            </>\n          )}\n        </Stack>\n      </div>\n      {!isEmpty(children) && !isCollapsed && (\n        <>\n          <ul role=\"group\" className={styles.groupItemsWrapper}>\n            {children}\n          </ul>\n          {pagination}\n        </>\n      )}\n    </li>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  groupItemsWrapper: css({\n    position: 'relative',\n\n    // unfortunately we have to resort to this since we can't overwrite the styles of the list items individually\n    // unless we clone the React Elements and modify className\n    'li[role=treeitem]': {\n      paddingLeft: theme.spacing(6.5),\n\n      '&:before': {\n        content: \"''\",\n        position: 'absolute',\n        height: '100%',\n\n        marginLeft: theme.spacing(-1.5),\n        marginTop: theme.spacing(-1),\n        borderLeft: `solid 1px ${theme.colors.border.weak}`,\n      },\n    },\n  }),\n  wrapper: css({\n    display: 'flex',\n    flexDirection: 'column',\n  }),\n  sectionTitle: css({\n    padding: theme.spacing(1, 1.5),\n\n    '&:hover': {\n      background: theme.colors.action.hover,\n    },\n  }),\n});\n","import { css } from '@emotion/css';\nimport { PropsWithChildren } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { t } from '@grafana/i18n';\nimport { Icon, Stack, TextLink, useStyles2 } from '@grafana/ui';\nimport lokiIconSvg from 'app/plugins/datasource/loki/img/loki_icon.svg';\nimport mimirLogoSvg from 'app/plugins/datasource/prometheus/img/mimir_logo.svg';\nimport prometheusLogoSvg from 'app/plugins/datasource/prometheus/img/prometheus_logo.svg';\nimport { PromApplication, RulesSourceApplication } from 'app/types/unified-alerting-dto';\n\nimport { WithReturnButton } from '../../components/WithReturnButton';\n\ninterface NamespaceProps extends PropsWithChildren {\n  name: string;\n  href?: string;\n  application?: RulesSourceApplication;\n}\n\n// @TODO add export rules for namespace back in\nconst Namespace = ({ children, name, href, application }: NamespaceProps) => {\n  const styles = useStyles2(getStyles);\n\n  return (\n    <li className={styles.namespaceWrapper} role=\"treeitem\" aria-selected=\"false\">\n      <div className={styles.namespaceTitle}>\n        <Stack alignItems={'center'} gap={1}>\n          <DataSourceIcon application={application} />\n          {href ? (\n            <WithReturnButton\n              title={t('alerting.namespace.title-alert-rules', 'Alert rules')}\n              component={\n                <TextLink href={href} inline={false}>\n                  {name}\n                </TextLink>\n              }\n            />\n          ) : (\n            name\n          )}\n        </Stack>\n      </div>\n      {children && (\n        <ul role=\"group\" className={styles.groupItemsWrapper}>\n          {children}\n        </ul>\n      )}\n    </li>\n  );\n};\n\ninterface NamespaceIconProps {\n  application?: RulesSourceApplication;\n  size?: number;\n}\n\nexport const DataSourceIcon = ({ application, size = 16 }: NamespaceIconProps) => {\n  switch (application) {\n    case PromApplication.Prometheus:\n      return <img width={size} height={size} src={prometheusLogoSvg} alt=\"Prometheus\" />;\n    case PromApplication.Mimir:\n      return <img width={size} height={size} src={mimirLogoSvg} alt=\"Mimir\" />;\n    case 'Loki':\n      return <img width={size} height={size} src={lokiIconSvg} alt=\"Loki\" />;\n    case 'grafana':\n    default:\n      return <Icon name=\"grafana\" />;\n  }\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  groupItemsWrapper: css({\n    position: 'relative',\n    borderRadius: theme.shape.radius.default,\n    border: `solid 1px ${theme.colors.border.weak}`,\n    borderBottom: 'none',\n\n    marginLeft: theme.spacing(3),\n\n    '&:before': {\n      content: \"''\",\n      position: 'absolute',\n      height: '100%',\n\n      borderLeft: `solid 1px ${theme.colors.border.weak}`,\n\n      marginTop: 0,\n      marginLeft: `-${theme.spacing(2.5)}`,\n    },\n  }),\n  namespaceWrapper: css({\n    display: 'flex',\n    flexDirection: 'column',\n\n    gap: theme.spacing(1),\n  }),\n  namespaceTitle: css({\n    padding: `${theme.spacing(1)} ${theme.spacing(1.5)}`,\n\n    // background: theme.colors.background.secondary,\n\n    // border: `solid 1px ${theme.colors.border.weak}`,\n    // borderRadius: theme.shape.radius.default,\n  }),\n});\n\nexport default Namespace;\n","import { css, keyframes } from '@emotion/css';\nimport { ComponentProps, memo } from 'react';\nimport type { RequireAtLeastOne } from 'type-fest';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Icon, type IconName, Text, Tooltip, useStyles2, useTheme2 } from '@grafana/ui';\nimport type { RuleHealth } from 'app/types/unified-alerting';\nimport { PromAlertingRuleState } from 'app/types/unified-alerting-dto';\n\nimport { isErrorHealth } from '../../components/rule-viewer/RuleViewer';\n\ntype TextProps = ComponentProps<typeof Text>;\n\ninterface RuleListIconProps {\n  recording?: boolean;\n  state?: PromAlertingRuleState;\n  health?: RuleHealth;\n  isPaused?: boolean;\n  operation?: RuleOperation;\n}\n\nexport enum RuleOperation {\n  Creating = 'Creating',\n  Deleting = 'Deleting',\n}\n\nconst icons: Record<PromAlertingRuleState, IconName> = {\n  [PromAlertingRuleState.Inactive]: 'check-circle',\n  [PromAlertingRuleState.Pending]: 'circle',\n  [PromAlertingRuleState.Recovering]: 'exclamation-circle',\n  [PromAlertingRuleState.Firing]: 'exclamation-circle',\n  [PromAlertingRuleState.Unknown]: 'question-circle',\n};\n\nconst color: Record<PromAlertingRuleState, 'success' | 'error' | 'warning' | 'info'> = {\n  [PromAlertingRuleState.Inactive]: 'success',\n  [PromAlertingRuleState.Pending]: 'warning',\n  [PromAlertingRuleState.Recovering]: 'warning',\n  [PromAlertingRuleState.Firing]: 'error',\n  [PromAlertingRuleState.Unknown]: 'info',\n};\n\nconst stateNames: Record<PromAlertingRuleState, string> = {\n  [PromAlertingRuleState.Inactive]: 'Normal',\n  [PromAlertingRuleState.Pending]: 'Pending',\n  [PromAlertingRuleState.Firing]: 'Firing',\n  [PromAlertingRuleState.Recovering]: 'Recovering',\n  [PromAlertingRuleState.Unknown]: 'Unknown',\n};\n\nconst operationIcons: Record<RuleOperation, IconName> = {\n  [RuleOperation.Creating]: 'plus-circle',\n  [RuleOperation.Deleting]: 'minus-circle',\n};\n\n//  not trivial to update this, you have to re-do the math for the loading spinner\nconst ICON_SIZE = 15;\n\n/**\n * Make sure that the order of importance here matches the one we use in the StateBadge component for the detail view\n * This component is often rendered tens or hundreds of times in a single page, so it's performance is important\n */\nexport const RuleListIcon = memo(function RuleListIcon({\n  state,\n  health,\n  recording = false,\n  isPaused = false,\n  operation,\n}: RequireAtLeastOne<RuleListIconProps>) {\n  const styles = useStyles2(getStyles);\n  const theme = useTheme2();\n\n  let iconName: IconName = state ? icons[state] : 'circle';\n  let iconColor: TextProps['color'] = state ? color[state] : 'secondary';\n  let stateName: string = state ? stateNames[state] : 'unknown';\n\n  if (recording) {\n    iconName = 'record-audio';\n    iconColor = 'success';\n    stateName = 'Recording';\n  }\n\n  if (health === 'nodata') {\n    iconName = 'exclamation-triangle';\n    iconColor = 'warning';\n    stateName = 'Insufficient data';\n  }\n\n  if (isErrorHealth(health)) {\n    iconName = 'times-circle';\n    iconColor = 'error';\n    stateName = 'Failed to evaluate rule';\n  }\n\n  if (isPaused) {\n    iconName = 'pause-circle';\n    iconColor = 'warning';\n    stateName = 'Paused';\n  }\n\n  if (operation) {\n    iconName = operationIcons[operation];\n    iconColor = 'secondary';\n    stateName = operation;\n  }\n\n  return (\n    <Tooltip content={stateName} placement=\"right\">\n      <div>\n        <Text color={iconColor}>\n          <div className={styles.iconsContainer}>\n            <Icon name={iconName} width={ICON_SIZE} height={ICON_SIZE} title={stateName} />\n            {/* this loading spinner works by using an optical illusion;\n              the actual icon is static and the \"spinning\" part is just a semi-transparent darker circle overlayed on top.\n              This makes it look like there is a small bright colored spinner rotating.\n            */}\n            {operation && (\n              <svg\n                width={ICON_SIZE}\n                height={ICON_SIZE}\n                viewBox=\"0 0 20 20\"\n                version=\"1.1\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className={styles.spinning}\n              >\n                <circle\n                  r={ICON_SIZE / 2}\n                  cx=\"10\"\n                  cy=\"10\"\n                  // make sure to match this color to the color of the list item background where it's being used! Works for both light and dark themes.\n                  stroke={theme.colors.background.primary}\n                  strokeWidth=\"2\"\n                  strokeLinecap=\"round\"\n                  fill=\"transparent\"\n                  strokeOpacity={0.85}\n                  strokeDasharray=\"20px\"\n                />\n              </svg>\n            )}\n          </div>\n        </Text>\n      </div>\n    </Tooltip>\n  );\n});\n\nconst spin = keyframes({\n  '0%': {\n    transform: 'rotate(0deg)',\n  },\n  '50%': {\n    transform: 'rotate(180deg)',\n  },\n  '100%': {\n    transform: 'rotate(360deg)',\n  },\n});\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  iconsContainer: css({\n    position: 'relative',\n    width: ICON_SIZE,\n    height: ICON_SIZE,\n    '> *': {\n      position: 'absolute',\n    },\n  }),\n  spinning: css({\n    [theme.transitions.handleMotion('no-preference')]: {\n      animationName: spin,\n      animationIterationCount: 'infinite',\n      animationDuration: '1s',\n      animationTimingFunction: 'linear',\n    },\n  }),\n});\n","import { useMemo } from 'react';\n\nimport { getRulesAccess } from './access-control';\n\nexport function useRulesAccess() {\n  return useMemo(() => getRulesAccess(), []);\n}\n","import { useEffect, useRef } from 'react';\nvar useInterval = function (callback, delay) {\n    var savedCallback = useRef(function () { });\n    useEffect(function () {\n        savedCallback.current = callback;\n    });\n    useEffect(function () {\n        if (delay !== null) {\n            var interval_1 = setInterval(function () { return savedCallback.current(); }, delay || 0);\n            return function () { return clearInterval(interval_1); };\n        }\n        return undefined;\n    }, [delay]);\n};\nexport default useInterval;\n"],"names":["useListContactPoints","useCreateContactPoint","options","updateFn","result","args","getContactPointDescription","contactPoint","integrationCounts","integration","type","count","collator","ContactPointSelector","props","contactPoints","isLoading","contactPointOptions","a","b","item","handleChange","selectedOption","matchedOption","option","Combobox","RuleListErrors","expanded","setExpanded","closed","setClosed","useLocalStorage","promRuleRequests","useUnifiedAlertingSelector","state","rulerRuleRequests","styles","getStyles","errors","promRequestErrors","rulerRequestErrors","requests","dataSource","error","grafanaPromError","grafanaRulerError","unknownError","ErrorSummaryButton","Alert","idx","Button","onClick","Tooltip","theme","RulesGroup","group","namespace","expandAll","viewMode","rulesSource","rulesSourceName","rulerRulesLoaded","isExporting","setIsExporting","isCollapsed","setIsCollapsed","hasRuler","useHasRuler","rulerRule","folderUID","folder","useFolder","canEditRules","isDeleting","rule","isFederated","isProvisioned","isPluginProvided","canEditGroup","isListView","isGroupView","actionIcons","Stack","Spinner","baseUrl","ActionIcon","FolderActionsButton","groupName","RuleLocation","CollapseToggle","selectors","FolderIcon","CloudSourceLogo","Badge","RulesTable","GrafanaRuleFolderExporter","Icon","useCombinedGroupNamespace","namespaces","ns","g","CloudRules","promRules","rulesDataSources","groupsWithNamespaces","dataSourcesLoading","ds","hasSomeResults","hasDataSourcesConfigured","hasDataSourcesLoading","hasNamespaces","numberOfPages","onPageChange","page","pageItems","usePagination","canMigrateToGMA","config","Text","LoadingPlaceholder","MigrateToGMAButton","CreateRecordingRuleButton","Pagination","createCloudRuleSupported","createCloudRuleAllowed","location","url","importUrl","GrafanaRulesExporter","onClose","activeTab","setActiveTab","GrafanaExportDrawer","GrafanaRulesExportPreview","exportFormat","rulesDefinition","isFetching","alertRuleApi","downloadFileName","FileExportPreview","GrafanaRules","queryParams","useQueryParams","prom","ruler","loading","hasResult","wantsListView","namespacesFormat","exportRulesSupported","exportRulesAllowed","canExportRules","showExportDrawer","toggleShowExportDrawer","useToggle","hasGrafanaAlerts","canCreateGrafanaRules","grafanaRecordingRulesEnabled","RuleListGroupView","grafanaNamespaces","cloudNamespaces","sorted","Authorize","RuleListStateView","ref","width","useMeasure","useDataSourcesLoadingState","entries","rules","LoadingBar","RulesByState","STATE_TITLES","isFiringState","hasRulesMatchingState","ListSection","Counter","promRule","instancesCount","originMeta","AlertRuleListItem","RuleActionsButtons","grafanaLoading","promLoading","rulerLoading","externalDataSourcesLoading","VIEWS","LIMIT_ALERTS","prometheusRulesPrimary","dispatch","rulesDataSourceNames","setExpandAll","onFilterCleared","filterState","hasActiveFilters","hasActiveLabelsFilter","queryParamView","viewType","view","ViewComponent","name","promRequests","rulerRequests","allPromLoaded","_","allRulerLoaded","allPromEmpty","allRulerEmpty","limitAlerts","fetchRules","useAsyncFn","useInterval","hasNoAlertRulesCreatedYet","hasAlertRulesCreated","combinedNamespaces","useCombinedRuleNamespaces","filteredNamespaces","useFilteredRules","AlertingPageWrapper","title","RuleListPageTitle","CreateAlertButton","ExportNewRuleButton","RuleStats","createRuleSupported","createRuleAllowed","returnTo","RuleListV2","RuleList","newView","withPageErrorBoundary","onToggle","idControlled","className","text","size","restOfProps","GrafanaRuleFolderExportPreview","exportFolderDefinition","alertingFolderActionsApi","alertingApi","build","notificationOptions","successMessage","path","params","DeleteModal","onConfirm","onDismiss","isOpen","folderName","setIsDeleting","onDeleteConfirm","ConfirmModal","Space","PauseUnpauseActionMenuItem","executeAction","action","notifyApp","label","icon","trackActionSuccess","trackActionFail","onActionClick","Menu","isDeleteModalOpen","setIsDeleteModalOpen","bulkActionsEnabled","listView2Enabled","deleteGrafanaRulesFromFolder","deleteState","folderUrl","redirectToListView","useRedirectToListView","onConfirmDelete","menuItems","BulkActions","ExportFolderButton","Dropdown","MoreButton","onClickExport","onClickDelete","pauseSupported","pauseAllowed","deleteSupported","deleteAllowed","canPause","canDelete","pauseFolder","updateState","unpauseFolder","unpauseState","tooltip","to","target","tooltipPlacement","rest","ariaLabel","MultipleDataSourcePicker","dataSourceSrv","setState","onChange","items","actionMeta","selectedItem","dataSourceName","dsSettings","getCurrentValue","current","hideTextValue","noDefault","uid","getDataSourceOptions","alerting","tracing","metrics","mixed","dashboard","variables","annotations","pluginId","filter","logs","dataSources","alertManagingDs","nonAlertManagingDs","autoFocus","onBlur","onClear","openMenuOnFocus","placeholder","inputId","disabled","value","isClearable","o","PluginSignatureBadge","RuleTypeOptions","RuleHealthOptions","canRenderContactPointSelector","RuleStateOptions","key","RulesFilter","onViewModeChange","pluginsFilterEnabled","usePluginsFilterStatus","searchQuery","setSearchQuery","updateFilters","filterKey","setFilterKey","dataSourceKey","queryStringKey","searchQueryRef","handleSubmit","register","setValue","handleDataSourceChange","dataSourceValue","dataSourceNames","handleDashboardChange","dashboardUid","clearDataSource","handleAlertStateChange","handleRuleTypeChange","ruleType","handleRuleHealthChange","ruleHealth","handleClearFiltersClick","handleContactPointChange","searchIcon","Field","Label","DashboardPicker","RadioButtonGroup","data","SearchQueryHelp","Input","e","RulesViewModeSelector","helpStyles","HelpRow","expr","components","useAlertingHomePageExtensions","ViewOptions","RulesViewModeSelectorV2","useListViewMode","updateQueryParams","activeFilters","queryStringView","areFiltersGroupedViewCompatible","showListView","handleViewChange","LegacyViewOptions","RulesViewModeSelectorV1","viewParam","currentView","viewParamToLegacyView","RecordingRulesButtons","canCreateCloudRules","NoRulesSplash","canCreateAnything","GrafanaNoRulesCTA","CloudNoRulesCTA","getCloudNoRulesStyles","newAlertingRuleUrl","getNewDataSourceRuleUrl","newRecordingRuleUrl","urlRuleType","formDefaults","shouldShowV2Toggle","listViewV2Enabled","toggleListView","configToUse","summary","health","href","lastEvaluation","evaluationInterval","isPaused","application","labels","origin","actions","operation","showLocation","listItemAriaId","metadata","EvaluationMetadata","RuleLabels","Summary","RecordingRuleListItem","RuleOperationListItem","content","nextEvaluation","UnknownRuleListItem","ruleName","groupIdentifier","ruleDefinition","ruleContext","isGrafanaApp","isDataSourceApp","ListItem","description","meta","metaRight","testId","ariaAttributes","index","Separator","SkeletonListItem","children","collapsed","pagination","toggleCollapsed","Namespace","DataSourceIcon","RuleOperation","icons","color","stateNames","operationIcons","ICON_SIZE","RuleListIcon","recording","iconName","iconColor","stateName","spin","useRulesAccess","callback","delay","savedCallback","interval_1"],"sourceRoot":""}