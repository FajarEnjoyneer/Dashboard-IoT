{"version":3,"file":"9227.33ec724e22bb1d427c08.js","mappings":"iMAMA,SAASA,GAAWC,EAAQC,EAAuBC,EAAM,CACxD,MAAMC,EAAU,OAAOH,EAAO,SAAY,WAAaA,EAAO,QAAQE,CAAI,EAAI,EAC9E,GAAI,OAAO,UAAUC,CAAO,GAAKA,EAAU,IAAM,CAACH,EAAO,QAAUA,EAAO,IAAMG,EAAU,GAAKF,GAAwB,OAAOE,CAE/H,CAIA,SAASC,GAAgBC,EAAO,CAC/BA,EAAM,gBAAgB,CACvB,CACA,SAASC,GAAeC,EAASC,EAAW,UAAW,CACtDD,GAAS,eAAe,CACvB,OAAQ,UACR,MAAO,UACP,SAAAC,CACD,CAAC,CACF,CAIA,SAASC,GAAgBJ,EAAO,CAC/B,IAAIK,EAAmB,GACvB,MAAMC,EAAY,CACjB,GAAGN,EACH,oBAAqB,CACpBK,EAAmB,EACpB,EACA,wBAAyB,CACxB,OAAOA,CACR,CACD,EACA,cAAO,eAAeC,EAAW,OAAO,eAAeN,CAAK,CAAC,EACtDM,CACR,CAIA,MAAMC,GAAe,IAAI,IAAI,CAC5B,eACA,MACA,WACA,WACA,UACA,KACA,SACA,OACA,UACA,aACA,QACA,MACA,YACA,YACA,aACA,UACA,MACA,OACA,WACA,SACA,SACA,cACA,SACA,QACA,OACA,cACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,KACD,CAAC,EACD,SAASC,GAAkB,EAAG,CAC7B,OAAQ,EAAE,SAAW,EAAE,UAAY,EAAE,MAAQ,SAC9C,CACA,MAAMC,GAAO,GACb,SAASC,GAAmBV,EAAOW,EAAqB,CACvD,OAAIH,GAAkBR,CAAK,IAAMA,EAAM,UAAYS,IAAQE,GAA6B,GACjF,CAACJ,GAAa,IAAIP,EAAM,GAAG,CACnC,CAOA,SAASY,GAAmB,CAAE,IAAAC,EAAK,OAAAC,CAAO,EAAG,CAC5C,OAAID,IAAQ,QAAUC,aAAkB,kBAAoBA,aAAkB,qBAAuBA,aAAkB,mBAA2BA,EAAO,QAAQ,uBAAuB,GAAG,iBAAiB,yBAAyB,EAAE,SAAW,EAC3O,EACR,CACA,SAASC,GAAgBC,EAAW,CACnC,MAAMC,EAAQD,IAAc,MAC5B,MAAO,CACN,QAASC,EAAQ,aAAe,YAChC,SAAUA,EAAQ,YAAc,YACjC,CACD,CAIA,MAAMC,GAAyB,uBAC/B,SAASC,GAAqBC,EAAiB,CAC9C,OAAOA,EAAgB,IAAI,CAAC,CAAE,IAAAP,EAAK,IAAAQ,EAAK,SAAAC,EAAU,SAAAC,CAAS,OAAsB,OAAI,MAAO,CAC3F,UAAWL,GACX,MAAO,CACN,gBAAiBG,EAAM,EACvB,SAAAC,EACA,SAAAC,CACD,EACA,0BAA2BV,CAC5B,EAAGA,CAAG,CAAC,CACR,CAIA,SAASW,GAAuB,CAAE,iBAAAC,EAAkB,QAAAC,EAAS,KAAAC,CAAK,EAAG,CACpE,MAAMhC,EAAS+B,EAAQD,EAAiB,GAAG,EACrCG,EAAQD,EAAKF,EAAiB,MAAM,EAC1C,OAAOI,GAAmBlC,EAAQiC,CAAK,CACxC,CACA,SAASC,GAAmBlC,EAAQiC,EAAO,CAC1C,OAAOjC,EAAO,gBAAkB,OAAS,OAAOA,EAAO,UAAa,WAAaA,EAAO,SAASiC,CAAK,EAAIjC,EAAO,YAAc,EAChI,CACA,SAASmC,GAAuB,CAAE,KAAAH,EAAM,eAAAI,EAAgB,kBAAAC,EAAmB,OAAAC,EAAQ,iBAAAC,EAAkB,sBAAAtC,EAAuB,OAAAD,CAAO,EAAG,CACrI,MAAMwC,EAAsBJ,GAAgB,QAAU,EACtD,GAAIE,IAAWC,EAAkB,OAAOxC,GAAWC,EAAQC,EAAuB,CAAE,KAAM,QAAS,CAAC,EACpG,GAAImC,GAAkBE,EAASC,GAAoBD,GAAUE,EAAsBD,EAAkB,OAAOxC,GAAWC,EAAQC,EAAuB,CACrJ,KAAM,UACN,IAAKmC,EAAeE,EAASE,CAAmB,CACjD,CAAC,EACD,GAAIF,GAAU,GAAKA,EAASN,EAAK,OAAQ,CACxC,MAAMC,EAAQD,EAAKM,CAAM,EACzB,OAAOvC,GAAWC,EAAQC,EAAuB,CAChD,KAAM,MACN,IAAKgC,CACN,CAAC,CACF,CACA,GAAII,EAAmB,OAAOtC,GAAWC,EAAQC,EAAuB,CACvE,KAAM,UACN,IAAKoC,EAAkBC,EAASN,EAAK,MAAM,CAC5C,CAAC,CAEF,CACA,SAASS,GAA4B,CAAE,OAAAC,EAAQ,SAAAC,EAAU,mBAAAC,EAAoB,QAAAb,EAAS,eAAAc,EAAgB,KAAAb,EAAM,eAAAI,EAAgB,kBAAAC,EAAmB,UAAAS,EAAW,iBAAAP,EAAkB,UAAAQ,EAAW,gBAAiB,CAAE,IAAKC,EAAY,OAAQC,CAAc,EAAG,aAAAC,EAAc,sBAAAjD,EAAuB,mBAAAkD,CAAmB,EAAG,CAC9S,GAAI,CAAE,IAAKC,EAAS,OAAQC,CAAW,EAAIH,EAC3C,MAAMI,EAAevB,EAAQ,OACvBwB,EAAcC,GAAe,CAClC,UAAWxD,KAAU6C,EAAgB,CACpC,MAAMY,EAASzD,EAAO,IACtB,GAAIyD,EAASL,EAAS,MACtB,MAAMjD,EAAUgC,GAAuB,CACtC,KAAAH,EACA,eAAAI,EACA,kBAAAC,EACA,OAAQgB,EACR,iBAAAd,EACA,sBAAAtC,EACA,OAAAD,CACD,CAAC,EACD,GAAIG,GAAWiD,EAAUK,GAAUL,EAAUjD,EAAUsD,EAAQ,CAC9DL,EAAUK,GAAUD,EAAarD,EAAU,GAC3C,KACD,CACD,CACD,EACMuD,EAAmBC,GACjBA,EAAO,MAAQpB,EAEjBqB,EAA8B,IAAM,CACzC,GAAIjB,EAAU,CAEb,IAAIgB,EADe5B,EAAQqB,CAAO,EACV,OACxB,KAAOO,IAAW,QAAQ,CACzB,MAAME,EAAeH,EAAgBC,CAAM,EAC3C,GAAIN,IAAeQ,EAAc,CAChCT,EAAUO,EAAO,IAAMA,EAAO,QAC9B,KACD,CACAA,EAASA,EAAO,MACjB,CACD,SAAWjB,EAAQ,CAElB,IAAIiB,EADe5B,EAAQqB,CAAO,EACV,OACpBU,EAAQ,GACZ,KAAOH,IAAW,QAAQ,CACzB,MAAME,EAAeH,EAAgBC,CAAM,EAC3C,GAAIN,GAAcQ,EAAc,CAC/BT,EAAUO,EAAO,IACjBN,EAAaQ,EACbC,EAAQ,GACR,KACD,CACAH,EAASA,EAAO,MACjB,CACKG,IACJV,EAAUJ,EACVK,EAAaJ,EAEf,CACD,EAuBA,GAtBIE,EAAmBD,CAAY,IAClCK,EAAWZ,CAAQ,EACfU,EAAad,GAAkBqB,EAA4B,GAE5DhB,IAAuB,eACAQ,IAAYE,EAGnBD,IAAeN,IAEhCK,EAAU,EACVC,GAAc,GALYD,IAAY,KAQpBC,IAAeP,IAEjCO,GAAc,EACdD,EAAUE,EAAe,GAE1BC,EAAW,EAAK,IAGdF,EAAad,GAAoBa,EAAU,IAAMA,EAAUE,EAAc,CAE5E,IAAIK,EADe5B,EAAQqB,CAAO,EACV,OACxB,MAAMW,EAAmBV,EAEzB,IADAA,EAAad,EACNoB,IAAW,QAAQ,CACzB,MAAME,EAAeH,EAAgBC,CAAM,EACvCE,GAAgBE,IACnBV,EAAaQ,EACbT,EAAUO,EAAO,KAElBA,EAASA,EAAO,MACjB,CACD,CACA,MAAO,CACN,IAAKP,EACL,OAAQC,CACT,CACD,CACA,SAASW,GAAY,CAAE,UAAAC,EAAW,UAAAnB,EAAW,UAAAC,EAAW,iBAAkB,CAAE,OAAAT,EAAQ,IAAAZ,CAAI,EAAG,SAAAwC,CAAS,EAAG,CAKtG,OAAOA,EAHkBxC,IAAQ,GAEdY,IAAWQ,EAHNpB,IAAQuC,GAEd3B,IAAWS,CAG9B,CAKA,MAAMoB,GAAgB,gCAEhBC,GAAsB,uCACtBC,GAAiB,uBACjBC,GAAgC,wBAChCC,GAA0B,wBAAwBF,EAAc,GAItE,SAASG,GAAYlC,EAAQ,CAC5B,MAAO,CAAE,uBAAwBA,CAAO,CACzC,CACA,SAASmC,GAAmBzE,EAAQsC,EAAQoC,EAAS,CACpD,MAAMC,EAAarC,EAAS,EACtBsC,EAAoB,QAAQF,EAAU,CAAC,mCAC7C,OAAI1E,EAAO,SAAW,OAAe,CACpC,gBAAiB,EACjB,aAAc,EACd,WAAA2E,EACA,kBAAAC,CACD,EACO,CACN,gBAAiB,QAAQtC,EAASoC,CAAO,mCACzC,aAAcC,EAAaD,EAC3B,WAAAC,EACA,kBAAAC,CACD,CACD,CACA,SAASC,GAAa7E,EAAQG,EAAU,EAAG,CAC1C,MAAM2E,EAAQ9E,EAAO,IAAM,EAC3B,MAAO,CACN,gBAAiB8E,EACjB,cAAeA,EAAQ3E,EACvB,iBAAkBH,EAAO,OAAS,yBAAyBA,EAAO,GAAG,IAAM,MAC5E,CACD,CACA,SAAS+E,GAAiB/E,KAAWgF,EAAc,CAClD,SAAOC,GAAA,GAAKd,GAAe,CAAE,CAACC,EAAmB,EAAGpE,EAAO,MAAO,EAAG,GAAGgF,CAAY,CACrF,CAIA,KAAM,CAAE,IAAAE,GAAK,IAAAC,GAAK,MAAAC,GAAO,KAAAC,GAAM,IAAAC,EAAI,EAAI,KACvC,SAASC,GAAuBC,EAAW,CAC1C,GAAI,OAAOA,GAAc,WAAY,MAAM,IAAI,MAAM,uDAAuD,CAC7G,CACA,SAASC,GAAiBC,EAAO,CAAE,SAAA/D,EAAU,SAAAC,CAAS,EAAG,CAExD,OADA8D,EAAQP,GAAIO,EAAO/D,CAAQ,EACvB,OAAOC,GAAa,UAAYA,GAAYD,EAAiBuD,GAAIQ,EAAO9D,CAAQ,EAC7E8D,CACR,CACA,SAASC,GAAqB3F,EAAQsC,EAAQ,CAC7C,OAAOtC,EAAO,SAAW,OAASsC,EAAStC,EAAO,MAAQA,EAAO,OAAO,KACzE,CAKA,MAAM4F,GAAoB,2CAC1B,SAASC,GAAe,CAAE,SAAAC,EAAU,cAAAC,EAAc,GAAGC,CAAM,EAAG,CAC7D,SAASC,EAAaC,EAAG,CACxBJ,EAASI,EAAE,OAAO,QAASA,EAAE,YAAY,QAAQ,CAClD,CACA,SAAuB,OAAI,QAAS,CACnC,IAAMC,GAAO,CACRA,IAAIA,EAAG,cAAgBJ,IAAkB,GAC9C,EACA,KAAM,WACN,UAAWH,GACX,SAAUK,EACV,GAAGD,CACJ,CAAC,CACF,CAIA,MAAMI,GAAmB,wBACnBC,GAA4B,KAC5BC,GAAQ,uBACRC,GAAiB,KACvB,SAASC,GAAkBR,EAAO,CACjC,OAAuB,IAAIS,GAAa,CAAE,GAAGT,CAAM,CAAC,CACrD,CACA,SAASS,GAAY,CAAE,SAAAC,EAAU,WAAAC,EAAY,SAAAC,EAAU,YAAAC,CAAY,EAAG,CACrE,SAASC,EAAc,CAAE,IAAA5F,CAAI,EAAG,CAC3BA,IAAQ,SAAS2F,EAAY,CAClC,CACA,MAAME,EAAIJ,EAAa,oBAAsB,oBAC7C,OAAuB,KAAK,OAAQ,CACnC,UAAWN,GACX,SAAAO,EACA,UAAWE,EACX,SAAU,CAACJ,EAA0B,IAAI,MAAO,CAC/C,QAAS,WACT,MAAO,KACP,OAAQ,IACR,UAAWH,GACX,cAAe,GACf,SAA0B,IAAI,OAAQ,CAAE,EAAAQ,CAAE,CAAC,CAC5C,CAAC,CAAC,CACH,CAAC,CACF,CAIA,SAASC,GAAYhB,EAAO,CAC3B,GAAI,CACH,OAAOA,EAAM,IAAIA,EAAM,OAAO,GAAG,CAClC,MAAQ,CACP,OAAO,IACR,CACD,CAIA,MAAMiB,MAAkC,iBAAc,MAAM,EAC5D,SAASC,IAAsB,CAC9B,SAAO,cAAWD,EAA+B,CAClD,CAIA,SAASE,GAAoB,CAAE,MAAAC,EAAO,SAAAR,EAAU,cAAAb,EAAe,SAAAsB,EAAU,SAAAvB,EAAU,aAAcwB,EAAW,kBAAmBC,CAAe,EAAG,CAChJ,MAAMC,EAAmBN,GAAoB,EAAE,eAC/C,OAAOM,EAAiB,CACvB,aAAcF,EACd,kBAAmBC,EACnB,SAAAX,EACA,cAAAb,EACA,SAAAsB,EACA,QAASD,EACT,SAAAtB,CACD,CAAC,CACF,CAIA,MAAM2B,MAAsB,iBAAc,MAAM,EAC1CC,MAA4B,iBAAc,MAAM,EACtD,SAASC,IAAkB,CAC1B,MAAMC,KAAsB,cAAWH,EAAmB,EACpDI,KAA4B,cAAWH,EAAyB,EACtE,GAAIE,IAAwB,QAAUC,IAA8B,OAAQ,MAAM,IAAI,MAAM,gDAAgD,EAC5I,MAAO,CACN,uBAAwBD,EAAoB,uBAC5C,cAAeA,EAAoB,cACnC,qBAAsBC,CACvB,CACD,CACA,MAAMC,MAA4B,iBAAc,MAAM,EAChDC,MAAkC,iBAAc,MAAM,EAC5D,SAASC,IAAwB,CAChC,MAAMC,KAA4B,cAAWH,EAAyB,EAChEI,KAAkC,cAAWH,EAA+B,EAClF,GAAIE,IAA8B,QAAUC,IAAoC,OAAQ,MAAM,IAAI,MAAM,4DAA4D,EACpK,MAAO,CACN,gBAAiBD,EAA0B,gBAC3C,cAAeA,EAA0B,cACzC,qBAAsBC,CACvB,CACD,CAIA,MAAMC,GAAoB,oBAC1B,SAASC,GAAepC,EAAO,CAC9B,KAAM,CAAE,gBAAAqC,EAAiB,cAAAC,EAAe,qBAAAC,CAAqB,EAAIP,GAAsB,EACvF,SAAuB,OAAIb,GAAqB,CAC/C,aAAc,aACd,SAAUnB,EAAM,SAChB,cAAeqC,EACf,MAAOC,EACP,SAAWE,GAAY,CACtBD,EAAqB,CAAE,QAASF,EAAkB,GAAQG,CAAQ,CAAC,CACpE,CACD,CAAC,CACF,CACA,SAASC,GAAgBzC,EAAO,CAC/B,KAAM,CAAE,uBAAA0C,EAAwB,cAAAJ,EAAe,qBAAAC,CAAqB,EAAIZ,GAAgB,EACxF,SAAuB,OAAIR,GAAqB,CAC/C,aAAc,SACd,SAAUnB,EAAM,SAChB,SAAU0C,EACV,MAAOJ,EACP,SAAU,CAACE,EAASG,IAAiB,CACpCJ,EAAqB,CACpB,IAAKvC,EAAM,IACX,QAAAwC,EACA,aAAAG,CACD,CAAC,CACF,CACD,CAAC,CACF,CACA,SAASC,GAAqB5C,EAAO,CACpC,KAAM,CAAE,cAAAsC,EAAe,qBAAAC,CAAqB,EAAIZ,GAAgB,EAChE,SAAuB,OAAIR,GAAqB,CAC/C,aAAc,eACd,SAAUnB,EAAM,SAChB,MAAOsC,EACP,SAAWE,GAAY,CACtBD,EAAqB,CACpB,IAAKvC,EAAM,IACX,QAAAwC,EACA,aAAc,EACf,CAAC,CACF,CACD,CAAC,CACF,CACA,MAAMK,GAAe,CACpB,IAAKV,GACL,KAAM,GACN,MAAO,GACP,SAAU,GACV,SAAU,GACV,UAAW,GACX,SAAU,GACV,OAAQ,GACR,iBAAiBnC,EAAO,CACvB,SAAuB,OAAIoC,GAAgB,CAAE,GAAGpC,CAAM,CAAC,CACxD,EACA,WAAWA,EAAO,CACjB,SAAuB,OAAIyC,GAAiB,CAAE,GAAGzC,CAAM,CAAC,CACzD,EACA,gBAAgBA,EAAO,CACtB,SAAuB,OAAI4C,GAAsB,CAAE,GAAG5C,CAAM,CAAC,CAC9D,CACD,EAIM8C,GAA0B,uBAE1BC,GAA0B,4CAChC,SAASC,GAAiB,CAAE,OAAAhJ,EAAQ,cAAAiJ,EAAe,SAAAC,CAAS,EAAG,CAC9D,OAAKlJ,EAAO,YACW,OAAImJ,GAAoB,CAC9C,cAAAF,EACA,SAAAC,EACA,SAAUlJ,EAAO,IAClB,CAAC,EAL4BA,EAAO,IAMrC,CACA,SAASmJ,GAAmB,CAAE,cAAAF,EAAe,SAAAC,EAAU,SAAAE,CAAS,EAAG,CAClE,MAAMC,EAAqBnC,GAAoB,EAAE,iBACjD,SAAuB,QAAK,OAAQ,CACnC,UAAW4B,GACX,SAAU,IAAiB,OAAI,OAAQ,CACtC,UAAWC,GACX,SAAAK,CACD,CAAC,KAAmB,OAAI,OAAQ,CAAE,SAAUC,EAAmB,CAC9D,cAAAJ,EACA,SAAAC,CACD,CAAC,CAAE,CAAC,CAAC,CACN,CAAC,CACF,CAIA,MAAMI,GAAuB,OACvBC,GAA2B,GACjC,SAASC,GAAqB,CAAE,WAAAC,EAAY,qBAAAC,EAAsB,eAAAC,EAAgB,cAAAC,EAAe,WAAAC,EAAY,qBAAAC,CAAqB,EAAG,CACpI,MAAMC,EAAeL,GAAsB,OAASJ,GAC9CU,EAAkBN,GAAsB,UAAYH,GACpDU,EAAkBP,GAAsB,UAAY,OACpDQ,EAAsBR,GAAsB,YAAc1C,GAC1DmD,EAA0BT,GAAsB,kBAAoBV,GACpEoB,EAAkBV,GAAsB,UAAY,GACpDW,EAAmBX,GAAsB,WAAa,GACtDY,EAAmBZ,GAAsB,WAAa,GACtD,CAAE,QAAA3H,EAAS,eAAAc,EAAgB,sBAAA5C,EAAuB,gBAAAsK,CAAgB,KAAI,WAAQ,IAAM,CACzF,IAAIC,EAA0B,GAC1BC,EAAoB,EACxB,MAAMC,EAAY,CAAC,EACnBC,EAAelB,EAAY,CAAC,EAC5B,SAASkB,EAAeC,EAAcC,EAAOlH,GAAQ,CACpD,UAAWmH,KAAaF,EAAc,CACrC,GAAI,aAAcE,EAAW,CAC5B,MAAMC,GAAyB,CAC9B,KAAMD,EAAU,KAChB,OAAAnH,GACA,IAAK,GACL,QAAS,EACT,MAAO,EACP,gBAAiBmH,EAAU,eAC5B,EACAH,EAAeG,EAAU,SAAUD,EAAQ,EAAGE,EAAsB,EACpE,QACD,CACA,MAAMC,GAASF,EAAU,QAAU,GAC7B9K,GAAS,CACd,GAAG8K,EACH,OAAAnH,GACA,IAAK,EACL,MAAO,EACP,OAAAqH,GACA,MAAOF,EAAU,OAASf,EAC1B,SAAUe,EAAU,UAAYd,EAChC,SAAUc,EAAU,UAAYb,EAChC,SAAUa,EAAU,UAAYV,EAChC,UAAWU,EAAU,WAAaT,EAClC,UAAWS,EAAU,WAAaR,EAClC,WAAYQ,EAAU,YAAcZ,EACpC,iBAAkBY,EAAU,kBAAoBX,CACjD,EACAO,EAAU,KAAK1K,EAAM,EACjBgL,IAAQR,IACRK,EAAQJ,IAAmBA,EAAoBI,EACpD,CACD,CACAH,EAAU,KAAK,CAAC,CAAE,IAAKO,EAAM,OAAQC,CAAQ,EAAG,CAAE,IAAKC,GAAM,OAAQC,CAAQ,IACxEH,IAAS9C,GAA0B,GACnCgD,KAAShD,GAA0B,EACnC+C,EACCE,EAAgB,EACb,GAEJA,EAAgB,EACb,CACP,EACD,MAAMC,EAAmB,CAAC,EAC1B,OAAAX,EAAU,QAAQ,CAAC1K,EAAQ0B,IAAQ,CAClC1B,EAAO,IAAM0B,EACb4J,GAAmBtL,EAAQ0B,EAAK,CAAC,EAC7B1B,EAAO,SAAW,MAAMqL,EAAiB,KAAKrL,CAAM,CACzD,CAAC,EACM,CACN,QAAS0K,EACT,eAAgBW,EAChB,sBAAuBb,EACvB,gBAAiBC,CAClB,CACD,EAAG,CACFhB,EACAM,EACAC,EACAC,EACAC,EACAC,EACAE,EACAD,EACAE,CACD,CAAC,EACK,CAAE,gBAAAiB,EAAiB,cAAAC,EAAe,uBAAAC,EAAwB,cAAAC,CAAc,KAAI,WAAQ,IAAM,CAC/F,MAAMC,EAAkC,IAAI,IAC5C,IAAIC,EAAO,EACPC,EAA2B,EAC/B,MAAMC,EAAoB,CAAC,EAC3B,UAAW9L,KAAU+B,EAAS,CAC7B,IAAI2D,EAAQiE,EAAe3J,CAAM,EAC7B,OAAO0F,GAAU,SAAUA,EAAQD,GAAiBC,EAAO1F,CAAM,EAChE0F,EAAQ1F,EAAO,SACpB8L,EAAkB,KAAK,GAAGpG,CAAK,IAAI,EACnCiG,EAAgB,IAAI3L,EAAQ,CAC3B,MAAA0F,EACA,KAAAkG,CACD,CAAC,EACDA,GAAQlG,CACT,CACA,GAAIzF,IAA0B,GAAI,CACjC,MAAM8L,EAAeJ,EAAgB,IAAI5J,EAAQ9B,CAAqB,CAAC,EACvE4L,EAA2BE,EAAa,KAAOA,EAAa,KAC7D,CACA,MAAMC,EAAkB,CAAC,EACzB,QAASC,EAAI,EAAGA,GAAKhM,EAAuBgM,IAAK,CAChD,MAAMjM,EAAS+B,EAAQkK,CAAC,EACxBD,EAAgB,qBAAqBhM,EAAO,GAAG,EAAE,EAAI,GAAG2L,EAAgB,IAAI3L,CAAM,EAAE,IAAI,IACzF,CACA,MAAO,CACN,gBAAiB8L,EACjB,cAAeE,EACf,uBAAwBH,EACxB,cAAeF,CAChB,CACD,EAAG,CACFhC,EACA5H,EACA9B,CACD,CAAC,EACK,CAACiM,EAAqBC,CAAiB,KAAI,WAAQ,IAAM,CAC9D,GAAI,CAACrC,EAAsB,MAAO,CAAC,EAAG/H,EAAQ,OAAS,CAAC,EACxD,MAAMqK,EAAevC,EAAa4B,EAC5BY,EAAgBxC,EAAaD,EAC7B0C,EAAavK,EAAQ,OAAS,EAC9BwK,EAAyBrH,GAAIjF,EAAwB,EAAGqM,CAAU,EACxE,GAAIF,GAAgBC,EAAe,MAAO,CAACE,EAAwBA,CAAsB,EACzF,IAAIC,EAAqBD,EACzB,KAAOC,EAAqBF,GAAY,CACvC,KAAM,CAAE,KAAAV,EAAM,MAAAlG,EAAM,EAAIgG,EAAc,IAAI3J,EAAQyK,CAAkB,CAAC,EACrE,GAAIZ,EAAOlG,GAAQ0G,EAAc,MACjCI,GACD,CACA,IAAIC,EAAmBD,EACvB,KAAOC,EAAmBH,GAAY,CACrC,KAAM,CAAE,KAAAV,EAAM,MAAAlG,EAAM,EAAIgG,EAAc,IAAI3J,EAAQ0K,CAAgB,CAAC,EACnE,GAAIb,EAAOlG,IAAS2G,EAAe,MACnCI,GACD,CACA,MAAMC,EAAwBvH,GAAIoH,EAAwBC,EAAqB,CAAC,EAC1EG,GAAsBzH,GAAIoH,EAAYG,EAAmB,CAAC,EAChE,MAAO,CAACC,EAAuBC,EAAmB,CACnD,EAAG,CACFjB,EACA3J,EACA9B,EACA4J,EACA4B,EACA7B,EACAE,CACD,CAAC,EACD,MAAO,CACN,QAAA/H,EACA,eAAAc,EACA,oBAAAqJ,EACA,kBAAAC,EACA,gBAAAZ,EACA,cAAAC,EACA,gBAAAjB,EACA,sBAAAtK,EACA,uBAAAwL,CACD,CACD,CACA,SAASH,GAAmBtL,EAAQ8E,EAAO+F,EAAO,CAEjD,GADIA,EAAQ7K,EAAO,QAAOA,EAAO,MAAQ6K,GACrC7K,EAAO,SAAW,OAAQ,CAC7B,KAAM,CAAE,OAAA2D,CAAO,EAAI3D,EACf2D,EAAO,MAAQ,KAAIA,EAAO,IAAMmB,GACpCnB,EAAO,SAAW,EAClB2H,GAAmB3H,EAAQmB,EAAO+F,EAAQ,CAAC,CAC5C,CACD,CAIA,MAAM+B,GAAoB,OAAO,OAAW,IAAc,YAAY,kBAItE,SAASC,GAAgB9K,EAASN,EAAiB8J,EAAiBuB,EAASC,EAAWC,EAAcC,EAAsBC,EAAgBC,EAAmB,CAC9J,KAAM,CAACC,EAAoBC,CAAqB,KAAI,YAAS,IAAI,EAC3D,CAACC,EAA0BC,CAA2B,KAAI,YAAS,IAAI,EACvE,CAACC,EAAeC,CAAoB,KAAI,YAASV,CAAS,EAC1DW,EAAiB3L,EAAQ,SAAWN,EAAgB,OACpDkM,EAAmDD,GAAkBX,IAAcS,EACnFI,EAAqB,CAAC,GAAGrC,CAAe,EACxCsC,EAAmB,CAAC,EAC1B,SAAW,CAAE,IAAA3M,EAAK,IAAAQ,EAAK,MAAAgE,CAAM,IAAKjE,EAAiB,CAClD,MAAMqM,EAAcd,EAAa,IAAI9L,CAAG,EACpCA,IAAQkM,GAAoB,KAC/BQ,EAAmBlM,CAAG,EAAI0L,EAAmB,QAAU,cAAgBA,EAAmB,MAAQ,GAAGA,EAAmB,KAAK,KAC7HS,EAAiB,KAAK3M,CAAG,GACf,OAAOwE,GAAU,UAAYoI,GAAa,OAAS,YAAcH,GAAoDL,GAA0B,IAAIpM,CAAG,IAAM,IAAQ4M,IAAgB,UAC9LF,EAAmBlM,CAAG,EAAIgE,EAC1BmI,EAAiB,KAAK3M,CAAG,EAE3B,CACA,MAAM6M,EAAsBH,EAAmB,KAAK,GAAG,EACvDhB,GAAkBoB,CAA8B,EAChD,SAASA,GAAiC,CAEzC,GADAP,EAAqBV,CAAS,EAC1Bc,EAAiB,SAAW,EAAG,OACnC,MAAMI,EAAkB,IAAI,IAAIjB,CAAY,EAC5C,IAAIkB,EAAa,GACjB,UAAWhN,KAAO2M,EAAkB,CACnC,MAAMM,EAAgBC,GAAmBtB,EAAS5L,CAAG,EACrDgN,IAAeC,IAAkBnB,EAAa,IAAI9L,CAAG,GAAG,MACpDiN,IAAkB,OAAQF,EAAgB,OAAO/M,CAAG,EACnD+M,EAAgB,IAAI/M,EAAK,CAC7B,KAAM,WACN,MAAOiN,CACR,CAAC,CACF,CACA,GAAIf,IAAuB,KAAM,CAChC,MAAMiB,EAAcjB,EAAmB,IACjCkB,EAAWtB,EAAa,IAAIqB,CAAW,GAAG,MAC1CE,EAAWH,GAAmBtB,EAASuB,CAAW,EACpDE,IAAa,QAAUD,IAAaC,IACvCL,EAAa,GACbD,EAAgB,IAAII,EAAa,CAChC,KAAM,UACN,MAAOE,CACR,CAAC,GAEFlB,EAAsB,IAAI,CAC3B,CACIa,GAAYjB,EAAqBgB,CAAe,CACrD,CACA,SAASO,EAAmBxO,EAAQyO,EAAW,CAC9C,KAAM,CAAE,IAAKJ,CAAY,EAAIrO,EAc7B,MAbA,cAAU,IAAM,CACf,GAAI0N,EAAgB,CACnB,MAAMgB,EAAqC,IAAI,IAC/C,SAAW,CAAE,IAAAxN,EAAK,MAAAwE,CAAM,IAAKjE,EAAqB4M,IAAgBnN,GAAO,OAAOwE,GAAU,UAAYsH,EAAa,IAAI9L,CAAG,GAAG,OAAS,WAAWwN,EAAmB,IAAIxN,CAAG,EAC3KqM,EAA4BmB,CAAkB,CAC/C,CACArB,EAAsB,CACrB,IAAKgB,EACL,MAAOI,CACR,CAAC,EACDtB,EAAkB,OAAOsB,GAAc,QAAQ,CAChD,CAAC,EACDlB,EAA4B,IAAI,EAC5BL,EAAgB,CACnB,MAAMyB,EAAgB3B,EAAa,IAAIqB,CAAW,GAAG,MAC/CE,EAAW,OAAOE,GAAc,SAAWA,EAAYL,GAAmBtB,EAASuB,CAAW,EAChGE,IAAa,QAAUA,IAAaI,GAAezB,EAAelN,EAAQuO,CAAQ,CACvF,CACD,CACA,MAAO,CACN,oBAAAR,EACA,mBAAAS,CACD,CACD,CACA,SAASJ,GAAmBtB,EAAS5L,EAAK,CACzC,MAAM0N,EAAW,6BAA6B,IAAI,OAAO1N,CAAG,CAAC,KAE7D,OADsB4L,EAAQ,SAAS,cAAc8B,CAAQ,GACvC,sBAAsB,EAAE,KAC/C,CAIA,SAASC,IAAoB,CAC5B,MAAM/B,KAAU,UAAO,IAAI,EACrB,CAACgC,EAAYC,CAAa,KAAI,YAAS,CAAC,EACxC,CAACC,EAAWC,CAAY,KAAI,YAAS,CAAC,EACtC,CAACC,EAA2BC,CAA4B,KAAI,YAAS,CAAC,EAC5E,OAAAvC,GAAkB,IAAM,CACvB,KAAM,CAAE,eAAAwC,CAAe,EAAI,OAC3B,GAAIA,GAAkB,KAAM,OAC5B,KAAM,CAAE,YAAAC,EAAa,aAAAC,EAAc,YAAAC,EAAa,aAAAC,CAAa,EAAI1C,EAAQ,QACnE,CAAE,MAAApH,EAAO,OAAA+J,CAAO,EAAI3C,EAAQ,QAAQ,sBAAsB,EAC1D4C,EAAmCF,EAAeF,EAClDK,EAAejK,EAAQ6J,EAAcF,EACrCO,EAAgBH,EAASC,EAC/BX,EAAcY,CAAY,EAC1BV,EAAaW,CAAa,EAC1BT,EAA6BO,CAAgC,EAC7D,MAAMG,EAAiB,IAAIT,EAAgBU,GAAY,CACtD,MAAMC,EAAOD,EAAQ,CAAC,EAAE,eAAe,CAAC,EAClC,CAAE,aAAcE,EAAgB,aAAcC,CAAe,EAAInD,EAAQ,WAC/E,cAAU,IAAM,CACfiC,EAAcgB,EAAK,UAAU,EAC7Bd,EAAac,EAAK,SAAS,EAC3BZ,EAA6Bc,EAAiBD,CAAc,CAC7D,CAAC,CACF,CAAC,EACD,OAAAH,EAAe,QAAQ/C,EAAQ,OAAO,EAC/B,IAAM,CACZ+C,EAAe,WAAW,CAC3B,CACD,EAAG,CAAC,CAAC,EACE,CACN/C,EACAgC,EACAE,EACAE,CACD,CACD,CAIA,SAASgB,GAAcC,EAAI,CAC1B,MAAMC,KAAM,UAAOD,CAAE,KACrB,mBAAgB,IAAM,CACrBC,EAAI,QAAUD,CACf,CAAC,EACD,MAAME,KAAa,eAAY,IAAInQ,IAAS,CAC3CkQ,EAAI,QAAQ,GAAGlQ,CAAI,CACpB,EAAG,CAAC,CAAC,EACL,OAAOiQ,GAAKE,CACb,CAIA,SAASC,GAAkBC,EAAY,CACtC,KAAM,CAACC,EAAgBC,CAAiB,KAAI,YAAS,EAAK,EACtDD,GAAkB,CAACD,GAAYE,EAAkB,EAAK,EAC1D,SAASC,EAAQrQ,EAAO,CACvB,GAAIA,EAAM,SAAWA,EAAM,cAAe,CACzC,MAAMsQ,EAAiBtQ,EAAM,cAAc,cAAc,gBAAkB,EACvEsQ,IAAmB,MACtBA,EAAe,MAAM,CAAE,cAAe,EAAK,CAAC,EAC5CF,EAAkB,EAAI,GAChBA,EAAkB,EAAK,CAC/B,MAAOA,EAAkB,EAAI,CAC9B,CAEA,MAAO,CACN,SAFmBF,GAAc,CAACC,EAEV,EAAI,GAC5B,cAAeD,EAAa,EAAI,GAChC,QAASA,EAAaG,EAAU,MACjC,CACD,CAIA,SAASE,GAAmB,CAAE,QAAA7O,EAAS,eAAAc,EAAgB,KAAAb,EAAM,eAAAI,EAAgB,kBAAAC,EAAmB,oBAAA6J,EAAqB,kBAAAC,EAAmB,sBAAAlM,EAAuB,oBAAA4Q,EAAqB,kBAAAC,CAAkB,EAAG,CACxM,MAAMC,KAAW,WAAQ,IAAM,CAC9B,GAAI7E,IAAwB,EAAG,MAAO,GACtC,IAAI8E,EAAa9E,EACjB,MAAM+E,EAAiB,CAACxN,EAAQtD,IAC3BA,IAAY,QAAUsD,EAAStD,EAAU+L,GAC5C8E,EAAavN,EACN,IAED,GAER,UAAWzD,KAAU6C,EAAgB,CACpC,MAAMY,EAASzD,EAAO,IAEtB,GADIyD,GAAUuN,GACVC,EAAexN,EAAQ1D,GAAWC,EAAQC,EAAuB,CAAE,KAAM,QAAS,CAAC,CAAC,EAAG,MAC3F,QAASqC,EAASuO,EAAqBvO,GAAUwO,EAAmBxO,IAAU,CAC7E,MAAML,EAAQD,EAAKM,CAAM,EACzB,GAAI2O,EAAexN,EAAQ1D,GAAWC,EAAQC,EAAuB,CACpE,KAAM,MACN,IAAKgC,CACN,CAAC,CAAC,EAAG,KACN,CACA,GAAIG,GAAkB,MACrB,UAAWH,KAASG,EAAgB,GAAI6O,EAAexN,EAAQ1D,GAAWC,EAAQC,EAAuB,CACxG,KAAM,UACN,IAAKgC,CACN,CAAC,CAAC,EAAG,MAEN,GAAII,GAAqB,MACxB,UAAWJ,KAASI,EAAmB,GAAI4O,EAAexN,EAAQ1D,GAAWC,EAAQC,EAAuB,CAC3G,KAAM,UACN,IAAKgC,CACN,CAAC,CAAC,EAAG,MAEP,CACA,OAAO+O,CACR,EAAG,CACFH,EACAC,EACA9O,EACAI,EACAC,EACA6J,EACAjM,EACA4C,CACD,CAAC,EACD,SAAO,WAAQ,IAAM,CACpB,MAAMpB,EAAkB,CAAC,EACzB,QAASgC,EAAS,EAAGA,GAAU0I,EAAmB1I,IAAU,CAC3D,MAAMzD,EAAS+B,EAAQ0B,CAAM,EACzBA,EAASsN,GAAY,CAAC/Q,EAAO,QACjCyB,EAAgB,KAAKzB,CAAM,CAC5B,CACA,OAAOyB,CACR,EAAG,CACFsP,EACA5E,EACApK,CACD,CAAC,CACF,CAIA,SAASmP,GAAgB,CAAE,KAAAlP,EAAM,UAAAmP,EAAW,aAAA7B,EAAc,UAAA8B,EAAW,qBAAAtH,CAAqB,EAAG,CAC5F,KAAM,CAAE,eAAAuH,EAAgB,iBAAAC,EAAkB,UAAAC,EAAW,aAAAC,EAAc,WAAAC,CAAW,KAAI,WAAQ,IAAM,CAC/F,GAAI,OAAON,GAAc,SAAU,MAAO,CACzC,eAAgBA,EAAYnP,EAAK,OACjC,iBAAkB,WAAWA,EAAK,MAAM,KAAKmP,CAAS,MACtD,UAAY7O,GAAWA,EAAS6O,EAChC,aAAc,IAAMA,EACpB,WAAaO,GAAWtM,GAAMsM,EAASP,CAAS,CACjD,EACA,IAAIQ,EAAmB,EACnBC,EAAqB,IACzB,MAAMC,EAAe7P,EAAK,IAAKC,GAAU,CACxC,MAAM6P,EAAmBX,EAAUlP,CAAK,EAClC8P,EAAW,CAChB,IAAKJ,EACL,OAAQG,CACT,EACA,OAAAF,GAAsB,GAAGE,CAAgB,MACzCH,GAAoBG,EACbC,CACR,CAAC,EACKC,EAAkB1P,GAChB6C,GAAI,EAAGD,GAAIlD,EAAK,OAAS,EAAGM,CAAM,CAAC,EAE3C,MAAO,CACN,eAAgBqP,EAChB,iBAAkBC,EAClB,UAAYtP,GAAWuP,EAAaG,EAAe1P,CAAM,CAAC,EAAE,IAC5D,aAAeA,GAAWuP,EAAaG,EAAe1P,CAAM,CAAC,EAAE,OAC/D,WAAWoP,EAAQ,CAClB,IAAIO,EAAQ,EACRC,EAAML,EAAa,OAAS,EAChC,KAAOI,GAASC,GAAK,CACpB,MAAMC,EAASF,EAAQ7M,IAAO8M,EAAMD,GAAS,CAAC,EACxCG,EAAgBP,EAAaM,CAAM,EAAE,IAC3C,GAAIC,IAAkBV,EAAQ,OAAOS,EAGrC,GAFIC,EAAgBV,EAAQO,EAAQE,EAAS,EACpCC,EAAgBV,IAAQQ,EAAMC,EAAS,GAC5CF,EAAQC,EAAK,OAAOA,CACzB,CACA,MAAO,EACR,CACD,CACD,EAAG,CAACf,EAAWnP,CAAI,CAAC,EACpB,IAAI6O,EAAsB,EACtBC,EAAoB9O,EAAK,OAAS,EACtC,GAAI8H,EAAsB,CAEzB,MAAMuI,EAAqBZ,EAAWL,CAAS,EACzCkB,EAAmBb,EAAWL,EAAY9B,CAAY,EAC5DuB,EAAsB1L,GAAI,EAAGkN,EAAqB,CAAiB,EACnEvB,EAAoB5L,GAAIlD,EAAK,OAAS,EAAGsQ,EAAmB,CAAiB,CAC9E,CACA,MAAO,CACN,oBAAAzB,EACA,kBAAAC,EACA,eAAAO,EACA,iBAAAC,EACA,UAAAC,EACA,aAAAC,EACA,WAAAC,CACD,CACD,CAKA,MAAMc,GAA2B,6CACjC,SAASC,GAAK,CAAE,OAAAxS,EAAQ,QAAAG,EAAS,eAAAsS,EAAgB,cAAAC,EAAe,IAAKzQ,EAAO,OAAAK,EAAQ,UAAAqQ,EAAW,YAAAC,EAAa,gBAAAC,EAAiB,QAAAC,EAAS,YAAAC,EAAa,cAAAC,EAAe,kBAAAC,EAAmB,cAAAC,EAAe,kBAAAC,EAAmB,YAAAC,EAAa,WAAAC,EAAY,MAAAC,EAAM,GAAGtN,CAAM,EAAGoK,EAAK,CACtQ,KAAM,CAAE,SAAAxJ,EAAU,cAAA2M,EAAe,QAAA7C,CAAQ,EAAIJ,GAAkBmC,CAAc,EACvE,CAAE,UAAAe,CAAU,EAAIxT,EACtB2S,EAAY5N,GAAiB/E,EAAQ,CAAE,CAACuS,EAAwB,EAAGG,CAAc,EAAG,OAAOc,GAAc,WAAaA,EAAUvR,CAAK,EAAIuR,EAAWb,CAAS,EAC7J,MAAMc,EAAavR,GAAmBlC,EAAQiC,CAAK,EACnD,SAASyR,EAAkBC,EAAc,CACxCN,EAAW,CACV,OAAA/Q,EACA,IAAKtC,EAAO,GACb,EAAG,CAAE,aAAA2T,CAAa,CAAC,CACpB,CACA,SAASC,EAAiBvT,EAAOwT,GAAc,CAC9C,IAAIC,GAAe,GACnB,GAAID,GAAc,CACjB,MAAMlT,GAAYF,GAAgBJ,CAAK,EACvCwT,GAAa,CACZ,OAAAvR,EACA,IAAKL,EACL,OAAAjC,EACA,WAAY0T,CACb,EAAG/S,EAAS,EACZmT,GAAenT,GAAU,uBAAuB,CACjD,CACA,OAAOmT,EACR,CACA,SAASC,EAAgB1T,EAAO,CAC/BuS,IAAcvS,CAAK,EACduT,EAAiBvT,EAAOwS,CAAe,GAAGa,EAAkB,CAClE,CACA,SAASM,EAAY3T,EAAO,CAC3ByS,IAAUzS,CAAK,EACfuT,EAAiBvT,EAAO0S,CAAW,CACpC,CACA,SAASkB,EAAkB5T,EAAO,CACjC2S,IAAgB3S,CAAK,EAChBuT,EAAiBvT,EAAO4S,CAAiB,GAAGS,EAAkB,EAAI,CACxE,CACA,SAASQ,EAAkB7T,EAAO,CACjC6S,IAAgB7S,CAAK,EACrBuT,EAAiBvT,EAAO8S,CAAiB,CAC1C,CACA,SAASgB,GAAgBC,EAAQ,CAChChB,EAAYpT,EAAQoU,CAAM,CAC3B,CACA,SAAuB,OAAI,MAAO,CACjC,KAAM,WACN,gBAAiBpU,EAAO,IAAM,EAC9B,eAAgBG,EAChB,gBAAiBsS,EACjB,gBAAiB,CAACgB,GAAc,OAChC,IAAArD,EACA,SAAAxJ,EACA,UAAA+L,EACA,MAAO,CACN,GAAG9N,GAAa7E,EAAQG,CAAO,EAC/B,GAAGmT,CACJ,EACA,QAASU,EACT,YAAaD,EACb,cAAeE,EACf,cAAeC,EACf,QAAAxD,EACA,GAAG1K,EACH,SAAUhG,EAAO,WAAW,CAC3B,OAAAA,EACA,IAAKiC,EACL,OAAAK,EACA,eAAgBmR,EAChB,SAAUF,EACV,YAAaY,EACd,CAAC,CACF,CAAC,CACF,CACA,MAAME,MAAgB,WAAK,cAAW7B,EAAI,CAAC,EAC3C,IAAI8B,GAAeD,GACnB,SAASE,GAAkBrT,EAAK8E,EAAO,CACtC,SAAuB,OAAIqO,GAAe,CAAE,GAAGrO,CAAM,EAAG9E,CAAG,CAC5D,CAIA,MAAMsT,GAAiB,OAAO,WAAc,UAAY,OAAO,UAAU,UAAa,WAChFC,GAAc,uBACpB,SAASC,GAAS,CAAE,OAAA1U,EAAQ,QAAAG,EAAS,IAAK8B,EAAO,OAAAK,EAAQ,YAAA8Q,EAAa,YAAAuB,EAAa,UAAAC,EAAW,SAAAC,CAAS,EAAG,CACzG,MAAMC,KAAkB,UAAO,MAAM,EAC/BC,KAAqB,UAAO,MAAM,EAClCC,KAAkB,UAAO,MAAM,EAC/BC,EAAuBjV,EAAO,eAAe,sBAAwB,GACrEkV,EAA2BhF,GAAc,IAAM,CACpDiF,EAAQ,GAAM,EAAK,CACpB,CAAC,KACD,mBAAgB,IAAM,CACrB,GAAI,CAACF,EAAsB,OAC3B,SAASG,EAAyB/U,EAAO,CAExC,GADAyU,EAAgB,QAAUzU,EACtBmU,GAAgB,CACnB,MAAMa,EAAkB,IAAI,gBACtB,CAAE,OAAAC,CAAO,EAAID,EACnBN,EAAmB,QAAUM,EAC7B,UAAU,SAASH,EAA0B,CAC5C,SAAU,gBACV,OAAAI,CACD,CAAC,EAAE,MAAM,IAAM,CAAC,CAAC,CAClB,MAAON,EAAgB,QAAU,sBAAsBE,CAAwB,CAChF,CACA,SAASK,EAAkBlV,EAAO,CAC7ByU,EAAgB,UAAYzU,GAAO6U,EAAyB,CACjE,CACA,wBAAiB,YAAaE,EAA0B,CAAE,QAAS,EAAK,CAAC,EACzE,iBAAiB,YAAaG,CAAiB,EACxC,IAAM,CACZ,oBAAoB,YAAaH,EAA0B,CAAE,QAAS,EAAK,CAAC,EAC5E,oBAAoB,YAAaG,CAAiB,EAClDC,EAAW,CACZ,CACD,EAAG,CAACP,EAAsBC,CAAwB,CAAC,EACnD,SAASM,GAAa,CACrBV,EAAgB,QAAU,OACtBC,EAAmB,UAAY,SAClCA,EAAmB,QAAQ,MAAM,EACjCA,EAAmB,QAAU,QAE1BC,EAAgB,UAAY,SAC/B,qBAAqBA,EAAgB,OAAO,EAC5CA,EAAgB,QAAU,OAE5B,CACA,SAASlO,EAAczG,EAAO,CAC7B,GAAIuU,EAAW,CACd,MAAMjU,EAAYF,GAAgBJ,CAAK,EAWvC,GAVAuU,EAAU,CACT,KAAM,OACN,IAAK3S,EACL,OAAAjC,EACA,OAAAsC,EACA,UAAW,CACVuS,EAASxU,CAAK,CACf,EACA,QAAA8U,CACD,EAAGxU,CAAS,EACRA,EAAU,uBAAuB,EAAG,MACzC,CACIN,EAAM,MAAQ,SAAU8U,EAAQ,EAC3B9U,EAAM,MAAQ,QAAS8U,EAAQ,EAAI,EACnClU,GAAmBZ,CAAK,GAAGwU,EAASxU,CAAK,CACnD,CACA,SAAS8U,EAAQM,EAAgB,GAAOC,EAAkB,GAAM,CAC3DD,EAAerC,EAAYnR,EAAO,GAAMyT,CAAe,EACtDf,EAAYe,CAAe,CACjC,CACA,SAASC,EAAkBC,EAAOC,EAAwB,GAAO,CAChEzC,EAAYwC,EAAOC,EAAuBA,CAAqB,CAChE,CACA,KAAM,CAAE,UAAArC,CAAU,EAAIxT,EAChB2S,EAAY5N,GAAiB/E,EAAQ,uBAAwB,CAACA,EAAO,eAAe,oBAAsByU,GAAa,OAAOjB,GAAc,WAAaA,EAAUvR,CAAK,EAAIuR,CAAS,EAC3L,SAAuB,OAAI,MAAO,CACjC,KAAM,WACN,gBAAiBxT,EAAO,IAAM,EAC9B,eAAgBG,EAChB,gBAAiB,GACjB,UAAAwS,EACA,MAAO9N,GAAa7E,EAAQG,CAAO,EACnC,UAAW2G,EACX,mBAAoB0O,EACpB,SAAUxV,EAAO,gBAAkB,SAAwB,QAAK,WAAU,CAAE,SAAU,CAACA,EAAO,eAAe,CAC5G,OAAAA,EACA,IAAKiC,EACL,OAAAK,EACA,YAAaqT,EACb,QAAAR,CACD,CAAC,EAAGnV,EAAO,eAAe,oBAAsBA,EAAO,WAAW,CACjE,OAAAA,EACA,IAAKiC,EACL,OAAAK,EACA,eAAgB,GAChB,SAAU,GACV,YAAaqT,CACd,CAAC,CAAC,CAAE,CAAC,CACN,CAAC,CACF,CAIA,SAASG,GAAwB,CAAE,OAAA9V,EAAQ,OAAAsC,EAAQ,eAAAmQ,EAAgB,WAAAY,CAAW,EAAG,CAChF,KAAM,CAAE,SAAAzM,EAAU,QAAA8J,CAAQ,EAAIJ,GAAkBmC,CAAc,EACxD,CAAE,QAAAtS,CAAQ,EAAIH,EACd0E,EAAUiB,GAAqB3F,EAAQsC,CAAM,EAC7CwC,EAAQ9E,EAAO,IAAM,EAC3B,SAAS4S,GAAc,CACtBS,EAAW,CACV,IAAKrT,EAAO,IACZ,OAAAsC,CACD,CAAC,CACF,CACA,SAAuB,OAAI,MAAO,CACjC,KAAM,eACN,gBAAiBwC,EACjB,eAAgB3E,EAChB,eAAgBuE,EAChB,gBAAiB+N,EACjB,SAAA7L,EACA,aAAW3B,GAAA,GAAKd,GAAenE,EAAO,eAAe,EACrD,MAAO,CACN,GAAGyE,GAAmBzE,EAAQsC,EAAQoC,CAAO,EAC7C,gBAAiBI,EACjB,cAAeA,EAAQ3E,CACxB,EACA,QAAAuQ,EACA,YAAAkC,EACA,SAAU5S,EAAO,IAClB,CAAC,CACF,CAIA,MAAM+V,GAAwB,uBAExBC,GAAyB,2CACzBC,GAAwB,wBACxBC,GAAyB,qBAEzBC,GAAwB,0CAExBC,GAAoB,2CACpBC,GAAqB,uBAC3B,SAASC,GAAW,CAAE,OAAAtW,EAAQ,QAAAG,EAAS,OAAAmC,EAAQ,eAAAmQ,EAAgB,eAAAvF,EAAgB,kBAAAqJ,EAAmB,iBAAAC,EAAkB,YAAAC,EAAa,oBAAAC,EAAqB,WAAArD,EAAY,gBAAAsD,EAAiB,UAAAtV,EAAW,iBAAAuV,EAAkB,oBAAAC,CAAoB,EAAG,CACtO,KAAM,CAACC,EAAQC,CAAS,KAAI,YAAS,EAAK,EACpCC,KAAe,UAAO,IAAI,EAC1BC,EAAaL,IAAqB5W,EAAO,IACzC0E,EAAUiB,GAAqB3F,EAAQsC,CAAM,EAC7C,CAAE,SAAAsE,EAAU,cAAA2M,EAAe,QAAA7C,CAAQ,EAAIJ,GAAkBqG,GAAmBlE,CAAc,EAC1FyE,EAAYT,GAAa,UAAWU,GAASA,EAAK,YAAcnX,EAAO,GAAG,EAC1EoX,EAAaF,IAAc,QAAUA,EAAY,GAAKT,EAAYS,CAAS,EAAI,OAC/EjO,EAAgBmO,GAAY,UAC5BlO,EAAWkO,IAAe,QAAUX,EAAY,OAAS,EAAIS,EAAY,EAAI,OAC7EG,EAAWpO,GAAiB,CAACC,EAAWD,IAAkB,MAAQ,YAAc,aAAe,OAC/F,CAAE,SAAAqO,EAAU,UAAAC,EAAW,UAAAC,CAAU,EAAIxX,EACrC2S,EAAY5N,GAAiB/E,EAAQA,EAAO,gBAAiB,CAClE,CAAC+V,EAAqB,EAAGuB,EACzB,CAACtB,EAAsB,EAAGuB,EAC1B,CAACrB,EAAsB,EAAGsB,EAC1B,CAACrB,EAAqB,EAAGc,EACzB,CAACb,EAAiB,EAAGU,CACtB,CAAC,EACD,SAASW,GAAOC,EAAW,CAC1B,GAAIhB,GAAuB,KAAM,OACjC,KAAM,CAAE,oBAAAiB,CAAoB,EAAI3X,EAChC,GAAIoX,IAAe,OAAQ,CAC1B,MAAMQ,EAAW,CAChB,UAAW5X,EAAO,IAClB,UAAW2X,EAAsB,OAAS,KAC3C,EACAjB,EAAoBD,GAAeiB,EAAY,CAAC,GAAGjB,EAAamB,CAAQ,EAAI,CAACA,CAAQ,CAAC,CACvF,KAAO,CACN,IAAIC,EAKJ,IAJIF,IAAwB,IAAQ1O,IAAkB,QAAU0O,IAAwB,IAAQ1O,IAAkB,SAAO4O,EAAiB,CACzI,UAAW7X,EAAO,IAClB,UAAWiJ,IAAkB,MAAQ,OAAS,KAC/C,GACIyO,EAAW,CACd,MAAMI,GAAkB,CAAC,GAAGrB,CAAW,EACnCoB,EAAgBC,GAAgBZ,CAAS,EAAIW,EAC5CC,GAAgB,OAAOZ,EAAW,CAAC,EACxCR,EAAoBoB,EAAe,CACpC,MAAOpB,EAAoBmB,EAAiB,CAACA,CAAc,EAAI,CAAC,CAAC,CAClE,CACD,CACA,SAASE,EAAY1X,EAAO,CAC3BqQ,IAAUrQ,CAAK,EACXsW,GAAiBtD,EAAW,CAC/B,IAAK,EACL,OAAA/Q,CACD,CAAC,CACF,CACA,SAASsQ,IAAc,CACtBS,EAAW,CACV,IAAKrT,EAAO,IACZ,OAAAsC,CACD,CAAC,CACF,CACA,SAASwQ,GAAQzS,EAAO,CACnBiX,GAAUG,GAAOpX,EAAM,SAAWA,EAAM,OAAO,CACpD,CACA,SAASuU,GAAUvU,EAAO,CACzB,KAAM,CAAE,IAAAa,CAAI,EAAIb,EAChB,GAAIiX,IAAapW,IAAQ,KAAOA,IAAQ,SACvCb,EAAM,eAAe,EACrBoX,GAAOpX,EAAM,SAAWA,EAAM,OAAO,UAC3BkX,GAAa1W,GAAkBR,CAAK,IAAMa,IAAQ,aAAeA,IAAQ,cAAe,CAClGb,EAAM,gBAAgB,EACtB,KAAM,CAAE,MAAAqF,CAAM,EAAIrF,EAAM,cAAc,sBAAsB,EACtD,CAAE,QAAA2X,EAAQ,EAAI5W,GAAgBC,CAAS,EAEvCkN,GAAW9I,GAAiBC,GADnBxE,IAAQ8W,GAAU,IAAM,IACWhY,CAAM,EACpDuO,KAAa7I,GAAOwH,EAAelN,EAAQuO,EAAQ,CACxD,CACD,CACA,SAAS0J,GAAY5X,EAAO,IAC3B,cAAU,IAAM,CACfwW,EAAoB7W,EAAO,GAAG,CAC/B,CAAC,EACDK,EAAM,aAAa,aAAa2W,EAAa,QAAS,EAAG,CAAC,EAC1D3W,EAAM,aAAa,WAAa,MACjC,CACA,SAAS6X,IAAY,CACpBrB,EAAoB,MAAM,CAC3B,CACA,SAASsB,GAAW9X,EAAO,CAC1BA,EAAM,eAAe,EACrBA,EAAM,aAAa,WAAa,MACjC,CACA,SAAS+X,GAAO/X,EAAO,CACtB0W,EAAU,EAAK,EACf1W,EAAM,eAAe,EACrBmW,IAAmBI,EAAkB5W,EAAO,GAAG,CAChD,CACA,SAASqY,GAAYhY,EAAO,CACvBiY,GAAiBjY,CAAK,GAAG0W,EAAU,EAAI,CAC5C,CACA,SAASwB,EAAYlY,EAAO,CACvBiY,GAAiBjY,CAAK,GAAG0W,EAAU,EAAK,CAC7C,CACA,IAAIyB,EACAC,EACAjB,IACHgB,EAAkB,CACjB,UAAW,GACX,YAAAP,GACA,UAAAC,EACD,EACItB,IAAqB,QAAUA,IAAqB5W,EAAO,MAAKyY,EAAkB,CACrF,WAAAN,GACA,YAAAE,GACA,YAAAE,EACA,OAAAH,EACD,IAED,MAAM9E,EAAQ,CACb,GAAG7O,GAAmBzE,EAAQsC,EAAQoC,CAAO,EAC7C,GAAGG,GAAa7E,EAAQG,CAAO,CAChC,EACMuY,EAAU1Y,EAAO,iBAAiB,CACvC,OAAAA,EACA,cAAAiJ,EACA,SAAAC,EACA,SAAUqK,CACX,CAAC,EACD,SAAuB,QAAK,WAAU,CAAE,SAAU,CAAC0D,MAA8B,OAAI,MAAO,CAC3F,IAAKD,EACL,MAAA1D,EACA,UAAWvO,GAAiB/E,EAAQA,EAAO,gBAAiBqW,EAAkB,EAC9E,SAAUqC,CACX,CAAC,KAAmB,QAAK,MAAO,CAC/B,KAAM,eACN,gBAAiB1Y,EAAO,IAAM,EAC9B,eAAgBG,EAChB,eAAgBuE,EAChB,gBAAiB+N,EACjB,YAAa4E,EACb,SAAAzQ,EACA,UAAA+L,EACA,MAAAW,EACA,YAAAV,GACA,QAASmF,EACT,QAAAjF,GACA,UAAA8B,GACA,GAAG4D,EACH,GAAGC,EACH,SAAU,CAACC,EAASnB,MAA6B,OAAIoB,GAAc,CAClE,UAAAtX,EACA,OAAArB,EACA,eAAAkN,EACA,kBAAAqJ,CACD,CAAC,CAAC,CACH,CAAC,CAAC,CAAE,CAAC,CACN,CACA,SAASoC,GAAa,CAAE,UAAAtX,EAAW,OAAArB,EAAQ,eAAAkN,EAAgB,kBAAAqJ,CAAkB,EAAG,CAC/E,MAAMqC,KAAoB,UAAO,MAAM,EACjCtX,EAAQD,IAAc,MAC5B,SAASwX,EAAcxY,EAAO,CAC7B,GAAIA,EAAM,cAAgB,SAAWA,EAAM,UAAY,EAAG,OAC1DA,EAAM,eAAe,EACrB,KAAM,CAAE,cAAAyY,EAAe,UAAAC,CAAU,EAAI1Y,EACrCyY,EAAc,kBAAkBC,CAAS,EACzC,MAAMC,EAAaF,EAAc,cAC3B,CAAE,MAAAG,EAAO,KAAArN,CAAK,EAAIoN,EAAW,sBAAsB,EACzDJ,EAAkB,QAAUtX,EAAQjB,EAAM,QAAUuL,EAAOqN,EAAQ5Y,EAAM,OAC1E,CACA,SAAS6Y,EAAc7Y,EAAO,CAC7B,MAAMqR,EAASkH,EAAkB,QACjC,GAAIlH,IAAW,OAAQ,OACvB,KAAM,CAAE,MAAAhM,EAAO,MAAAuT,EAAO,KAAArN,CAAK,EAAIvL,EAAM,cAAc,cAAc,sBAAsB,EACvF,IAAIkO,EAAWjN,EAAQ2X,EAAQvH,EAASrR,EAAM,QAAUA,EAAM,QAAUqR,EAAS9F,EACjF2C,EAAW9I,GAAiB8I,EAAUvO,CAAM,EACxC0F,EAAQ,GAAK6I,IAAa7I,GAAOwH,EAAelN,EAAQuO,CAAQ,CACrE,CACA,SAAS4K,GAAuB,CAC/B5C,EAAkB,EAClBqC,EAAkB,QAAU,MAC7B,CACA,SAAS5F,GAAgB,CACxB9F,EAAelN,EAAQ,aAAa,CACrC,CACA,SAAuB,OAAI,MAAO,CACjC,UAAWiW,GACX,QAAS7V,GACT,cAAAyY,EACA,cAAAK,EACA,qBAAAC,EACA,cAAAnG,CACD,CAAC,CACF,CACA,SAASsF,GAAiBjY,EAAO,CAChC,MAAM+Y,EAAgB/Y,EAAM,cAC5B,MAAO,CAACA,EAAM,cAAc,SAAS+Y,CAAa,CACnD,CAKA,MAAMC,GAAe,gCACfC,GAAc,wBACdC,GAAuB,mBACvBC,GAA4B,wBAC5BC,GAAyB,sBACzBC,GAA4B,yBAK5BC,GAAqB,uCAC3B,SAASC,GAAU,CAAE,eAAAC,EAAgB,OAAAvX,EAAQ,QAAAP,EAAS,eAAAmL,EAAgB,kBAAAqJ,EAAmB,iBAAAC,EAAkB,YAAAC,EAAa,oBAAAC,EAAqB,sBAAAzW,EAAuB,gBAAA6Z,EAAiB,WAAAzG,EAAY,gBAAAsD,EAAiB,UAAAtV,CAAU,EAAG,CAC9N,KAAM,CAACuV,EAAkBC,CAAmB,KAAI,YAAS,EACnDkD,EAAQ,CAAC,EACf,QAASjV,EAAQ,EAAGA,EAAQ/C,EAAQ,OAAQ+C,IAAS,CACpD,MAAM9E,EAAS+B,EAAQ+C,CAAK,EACtB3E,EAAUJ,GAAWC,EAAQC,EAAuB,CAAE,KAAM,QAAS,CAAC,EACxEE,IAAY,SAAQ2E,GAAS3E,EAAU,GAC3C4Z,EAAM,QAAqB,OAAIzD,GAAY,CAC1C,OAAAtW,EACA,QAAAG,EACA,OAAAmC,EACA,eAAgBwX,IAAoB9Z,EAAO,IAC3C,eAAAkN,EACA,kBAAAqJ,EACA,iBAAAC,EACA,oBAAAE,EACA,YAAAD,EACA,WAAApD,EACA,gBAAiBsD,GAAmB7R,IAAU,EAC9C,UAAAzD,EACA,iBAAAuV,EACA,oBAAAC,CACD,EAAG7W,EAAO,GAAG,CAAC,CACf,CACA,SAAuB,OAAI,MAAO,CACjC,KAAM,MACN,gBAAiBsC,EACjB,aAAW2C,GAAA,GAAK0U,GAAoB,CAAE,CAACJ,EAAoB,EAAGO,IAAoB,EAAG,EAAGD,CAAc,EACtG,SAAUE,CACX,CAAC,CACF,CACA,IAAIC,MAAoB,QAAKJ,EAAS,EAItC,SAASK,GAAuB,CAAE,OAAA3X,EAAQ,MAAAuI,EAAO,QAAA9I,EAAS,gBAAA+X,EAAiB,WAAAzG,CAAW,EAAG,CACxF,MAAM0G,EAAQ,CAAC,EACTG,EAAkC,IAAI,IAC5C,UAAWla,KAAU+B,EAAS,CAC7B,GAAI,CAAE,OAAA4B,CAAO,EAAI3D,EACjB,GAAI2D,IAAW,OACf,MAAOA,EAAO,MAAQkH,GACjBlH,EAAO,SAAW,QACtBA,EAASA,EAAO,OAEjB,GAAIA,EAAO,QAAUkH,GAAS,CAACqP,EAAgB,IAAIvW,CAAM,EAAG,CAC3DuW,EAAgB,IAAIvW,CAAM,EAC1B,KAAM,CAAE,IAAAjC,CAAI,EAAIiC,EAChBoW,EAAM,QAAqB,OAAIjE,GAAyB,CACvD,OAAQnS,EACR,OAAArB,EACA,eAAgBwX,IAAoBpY,EACpC,WAAA2R,CACD,EAAG3R,CAAG,CAAC,CACR,EACD,CACA,SAAuB,OAAI,MAAO,CACjC,KAAM,MACN,gBAAiBY,EACjB,UAAWqX,GACX,SAAUI,CACX,CAAC,CACF,CACA,IAAII,MAAiC,QAAKF,EAAsB,EAIhE,SAASG,GAAI,CAAE,UAAAzH,EAAW,OAAArQ,EAAQ,aAAA+X,EAAc,gBAAAP,EAAiB,uBAAApR,EAAwB,cAAAJ,EAAe,mBAAAgS,EAAoB,sBAAAra,EAAuB,IAAKgC,EAAO,gBAAAR,EAAiB,mBAAA8Y,EAAoB,gBAAA1H,EAAiB,YAAAE,EAAa,kBAAAE,EAAmB,kBAAAE,EAAmB,SAAAqH,EAAU,YAAApH,EAAa,WAAAC,EAAY,MAAAC,EAAM,GAAGtN,CAAM,EAAGoK,EAAK,CACjU,MAAMqK,EAAavT,GAAoB,EAAE,WACnCiN,EAAkBjE,GAAc,CAAClQ,EAAQoU,IAAW,CACzDhB,EAAYpT,EAAQsC,EAAQ8R,CAAM,CACnC,CAAC,EACDzB,KAAY1N,GAAA,GAAKoU,GAAc,WAAW/W,EAAS,IAAM,EAAI,OAAS,KAAK,GAAI,CAAE,CAACiX,EAAoB,EAAGO,IAAoB,EAAG,EAAGU,IAAWvY,EAAOK,CAAM,EAAGqQ,CAAS,EACvK,MAAMoH,EAAQ,CAAC,EACf,QAASjV,EAAQ,EAAGA,EAAQrD,EAAgB,OAAQqD,IAAS,CAC5D,MAAM9E,EAASyB,EAAgBqD,CAAK,EAC9B,CAAE,IAAApD,CAAI,EAAI1B,EACVG,EAAUJ,GAAWC,EAAQC,EAAuB,CACzD,KAAM,MACN,IAAKgC,CACN,CAAC,EACG9B,IAAY,SAAQ2E,GAAS3E,EAAU,GAC3C,MAAMsS,EAAiBqH,IAAoBpY,EACvC+Q,GAAkB8H,EAAoBR,EAAM,KAAKQ,CAAkB,EAClER,EAAM,KAAKU,EAAWza,EAAO,IAAK,CACtC,OAAAA,EACA,QAAAG,EACA,IAAK8B,EACL,OAAAK,EACA,cAAegY,IAAuB5Y,EACtC,eAAA+Q,EACA,gBAAAI,EACA,YAAAE,EACA,kBAAAE,EACA,kBAAAE,EACA,YAAagB,EACb,WAAAd,CACD,CAAC,CAAC,CACH,CACA,MAAMqH,KAAiB,WAAQ,KAAO,CACrC,cAAApS,EACA,uBAAAI,CACD,GAAI,CAACA,EAAwBJ,CAAa,CAAC,EAC3C,SAAuB,OAAIb,GAAoB,SAAU,CACxD,MAAOiT,EACP,YAA0B,OAAI,MAAO,CACpC,KAAM,MACN,IAAAtK,EACA,UAAAuC,EACA,MAAO,CACN,GAAGnO,GAAY6V,CAAY,EAC3B,GAAG/G,CACJ,EACA,GAAGtN,EACH,SAAU+T,CACX,CAAC,CACF,CAAC,CACF,CACA,MAAMY,MAAe,WAAK,cAAWP,EAAG,CAAC,EACzC,IAAIQ,GAAcD,GAClB,SAASE,GAAiB3Z,EAAK8E,EAAO,CACrC,SAAuB,OAAI2U,GAAc,CAAE,GAAG3U,CAAM,EAAG9E,CAAG,CAC3D,CAIA,SAAS4Z,GAAa,CAAE,iBAAkB,CAAE,IAAApZ,EAAK,OAAAY,CAAO,EAAG,QAAAwK,EAAS,wBAAAiO,CAAwB,EAAG,CAC9F,MAAM3K,KAAM,UAAO,IAAI,EACvB,OAAAxD,GAAkB,IAAM,CACvBtM,GAAe8P,EAAI,QAAS,MAAM,CACnC,CAAC,EACDxD,GAAkB,IAAM,CACvB,SAASoO,GAAqB,CAC7BD,EAAwB,IAAI,CAC7B,CACA,MAAME,EAAW,IAAI,qBAAqBD,EAAoB,CAC7D,KAAMlO,EAAQ,QACd,UAAW,CACZ,CAAC,EACD,OAAAmO,EAAS,QAAQ7K,EAAI,OAAO,EACrB,IAAM,CACZ6K,EAAS,WAAW,CACrB,CACD,EAAG,CAACnO,EAASiO,CAAuB,CAAC,KACd,OAAI,MAAO,CACjC,IAAA3K,EACA,MAAO,CACN,WAAY1O,IAAQ,OAAS,OAASA,EAAM,EAC5C,QAASY,IAAW,OAAS,OAASA,EAAS,CAChD,CACD,CAAC,CACF,CAKA,MAAM4Y,GAAiB,sCACvB,SAASC,GAAiB,CAAE,cAAAlS,EAAe,SAAAC,CAAS,EAAG,CACtD,SAAuB,QAAK,WAAU,CAAE,SAAU,CAACkS,GAAe,CAAE,cAAAnS,CAAc,CAAC,EAAGoS,GAAmB,CAAE,SAAAnS,CAAS,CAAC,CAAC,CAAE,CAAC,CAC1H,CACA,SAASkS,GAAe,CAAE,cAAAnS,CAAc,EAAG,CAC1C,OAAIA,IAAkB,OAAe,QACd,OAAI,MAAO,CACjC,QAAS,WACT,MAAO,KACP,OAAQ,IACR,UAAWiS,GACX,cAAe,GACf,YAA0B,OAAI,OAAQ,CAAE,EAAGjS,IAAkB,MAAQ,gBAAkB,eAAgB,CAAC,CACzG,CAAC,CACF,CACA,SAASoS,GAAmB,CAAE,SAAAnS,CAAS,EAAG,CACzC,OAAOA,CACR,CAKA,MAAMoS,GAAgB,2BAEhBC,GAA4B,6CAC5BC,GAAqB,wBACrBC,GAAqC,wBAIrCC,GAAuB,uBAC7B,SAASC,GAAY,CAAE,OAAA3b,EAAQ,QAAAG,EAAS,IAAK8B,EAAO,OAAAK,EAAQ,eAAAmQ,EAAgB,WAAAY,CAAW,EAAG,CACzF,KAAM,CAAE,SAAAzM,EAAU,cAAA2M,EAAe,QAAA7C,CAAQ,EAAIJ,GAAkBmC,CAAc,EACvE,CAAE,iBAAAmJ,CAAiB,EAAI5b,EACvB2S,EAAY5N,GAAiB/E,EAAQ0b,GAAsB,OAAOE,GAAqB,WAAaA,EAAiB3Z,CAAK,EAAI2Z,CAAgB,EACpJ,SAAShJ,GAAc,CACtBS,EAAW,CACV,OAAA/Q,EACA,IAAKtC,EAAO,GACb,CAAC,CACF,CACA,SAAuB,OAAI,MAAO,CACjC,KAAM,WACN,gBAAiBA,EAAO,IAAM,EAC9B,eAAgBG,EAChB,gBAAiBsS,EACjB,SAAA7L,EACA,UAAA+L,EACA,MAAO9N,GAAa7E,EAAQG,CAAO,EACnC,YAAAyS,EACA,QAAAlC,EACA,SAAU1Q,EAAO,oBAAoB,CACpC,OAAAA,EACA,IAAKiC,EACL,SAAUsR,CACX,CAAC,CACF,CAAC,CACF,CACA,IAAIsI,MAAsB,QAAKF,EAAW,EAI1C,MAAMG,GAAa,uBACbC,GAAgB,uBAChBC,GAAsB,mBAAmBF,EAAU,GACzD,SAASG,GAAW,CAAE,OAAA3Z,EAAQ,aAAA+X,EAAc,IAAKpY,EAAO,gBAAAR,EAAiB,IAAAya,EAAK,OAAAC,EAAQ,sBAAAlc,EAAuB,gBAAA6Z,EAAiB,MAAAsC,EAAO,WAAA/I,EAAY,gBAAiBgJ,CAAa,EAAG,CACjL,MAAMtC,EAAQ,CAAC,EACf,QAASjV,EAAQ,EAAGA,EAAQrD,EAAgB,OAAQqD,IAAS,CAC5D,MAAM9E,EAASyB,EAAgBqD,CAAK,EAC9B3E,EAAUJ,GAAWC,EAAQC,EAAuB,CACzD,KAAM,UACN,IAAKgC,CACN,CAAC,EACG9B,IAAY,SAAQ2E,GAAS3E,EAAU,GAC3C,MAAMsS,EAAiBqH,IAAoB9Z,EAAO,IAClD+Z,EAAM,QAAqB,OAAI8B,GAAqB,CACnD,OAAA7b,EACA,QAAAG,EACA,IAAK8B,EACL,OAAAK,EACA,eAAAmQ,EACA,WAAAY,CACD,EAAGrT,EAAO,GAAG,CAAC,CACf,CACA,SAAuB,OAAI,MAAO,CACjC,KAAM,MACN,gBAAiBqc,EACjB,aAAWpX,GAAA,GAAKoU,GAAc,WAAW/W,EAAS,IAAM,EAAI,OAAS,KAAK,GAAI0Z,GAAqB,CAClG,CAACzC,EAAoB,EAAGO,IAAoB,GAC5C,CAAC,GAAGL,EAAsB,IAAIsC,EAAa,EAAE,EAAGK,EAChD,CAAC1C,EAAyB,EAAG,CAAC0C,CAC/B,CAAC,EACD,MAAO,CACN,GAAG5X,GAAY6V,CAAY,EAC3B,wBAAyB6B,IAAQ,OAAS,GAAGA,CAAG,KAAO,OACvD,2BAA4BC,IAAW,OAAS,GAAGA,CAAM,KAAO,MACjE,EACA,SAAUpC,CACX,CAAC,CACF,CACA,IAAIuC,MAAqB,QAAKL,EAAU,EAWxC,SAASM,GAAavW,EAAOoK,EAAK,CACjC,KAAM,CAAE,QAAS3G,EAAY,KAAAzH,EAAM,eAAAI,EAAgB,kBAAAC,EAAmB,aAAAma,EAAc,aAAAC,EAAc,UAAWC,EAAc,gBAAiBC,EAAoB,iBAAkBC,EAAqB,aAAcC,EAAiB,qBAAsBC,EAAyB,aAAAC,EAAc,uBAAArU,EAAwB,qBAAAsU,EAAsB,YAAAvG,EAAa,oBAAAC,EAAqB,qBAAAhN,EAAsB,gBAAAmJ,EAAiB,YAAAE,EAAa,kBAAAE,EAAmB,kBAAAE,EAAmB,cAAA8J,EAAe,qBAAAC,EAAsB,SAAAC,EAAU,eAAAjQ,EAAgB,iBAAAsJ,EAAkB,OAAA4G,EAAQ,WAAAC,EAAY,YAAAC,EAAa,qBAAsBC,GAAyB,UAAAC,EAAW,UAAA7K,GAAW,MAAAW,GAAO,SAAAkH,GAAU,eAAAX,GAAgB,UAAW4D,GAAc,KAAMC,GAAS,aAAcpW,GAAW,kBAAmBC,GAAgB,mBAAoBoW,EAAiB,mBAAoBC,EAAiB,gBAAiBC,EAAiB,cAAeC,EAAQ,UAAWC,CAAO,EAAI/X,EAI55BgY,EAAmB9W,GAAoB,EACvC+W,EAAOP,IAAW,OAClBvM,EAAYuL,GAAgB,GAC5BwB,GAAkBvB,IAAuB,OAAOxL,GAAc,SAAWA,EAAY,IACrFgN,GAAmBvB,IAAwB,OAAOzL,GAAc,SAAWA,EAAY,IACvFiN,GAAYZ,GAAW,WAAaQ,GAAkB,WAAanD,GACnEJ,GAAa+C,GAAW,YAAcQ,GAAkB,YAAczJ,GACtElL,GAAqBmU,GAAW,kBAAoBQ,GAAkB,kBAAoB7C,GAC1F3T,GAAmBgW,GAAW,gBAAkBQ,GAAkB,gBAAkBnY,GACpFwY,GAAiBb,GAAW,gBAAkBQ,GAAkB,eAChElU,GAAuByT,IAA2B,GAClDlc,GAAYoc,IAAgB,MAI5B,CAACrM,GAAWkN,EAAY,KAAI,YAAS,CAAC,EACtC,CAACzU,GAAY0U,EAAa,KAAI,YAAS,CAAC,EACxC,CAACC,GAAsBC,EAAuB,KAAI,YAAS,IAAM5B,GAAmC,IAAI,GAAK,EAC7G,CAAC6B,GAAkBvR,EAAiB,KAAI,YAAS,EAAK,EACtD,CAAC8J,GAAY0H,EAAW,KAAI,YAAS,EAAK,EAC1C,CAACC,GAAmBC,EAAoB,KAAI,YAAS,MAAM,EAC3D,CAACC,GAAkBC,EAAmB,KAAI,YAAS,IAAI,EACvD,CAACrJ,GAAiBsJ,EAAkB,KAAI,YAAS,EAAK,EACtD,CAACC,GAAgBC,EAAiB,KAAI,YAAS,EAAE,EACjDC,GAA2BtC,GAAmB,MAAQC,GAA2B,MAAQ,CAAC4B,GAC1F1R,GAAemS,GAA2BtC,EAAkB2B,GAC5DvR,GAAuBkS,GAA4BC,GAAmB,CAC3EX,GAAwBW,CAAc,EACtCtC,EAAwBsC,CAAc,CACvC,EAAIX,GACE9U,MAAiB,eAAa3J,GAC5BgN,GAAa,IAAIhN,EAAO,GAAG,GAAG,OAASA,EAAO,MACnD,CAACgN,EAAY,CAAC,EACX,CAACF,GAASC,GAAWsS,GAAYnQ,EAAyB,EAAIL,GAAkB,EAChF,CAAE,QAAA9M,EAAS,eAAAc,GAAgB,sBAAA5C,GAAuB,gBAAAsK,GAAiB,oBAAA2B,GAAqB,kBAAAC,GAAmB,gBAAAZ,GAAiB,cAAAC,GAAe,uBAAAC,EAAuB,EAAIjC,GAAqB,CAChM,WAAAC,EACA,qBAAAC,EACA,eAAAC,GACA,WAAAE,GACA,cAAekD,GACf,qBAAAjD,EACD,CAAC,EACKtH,GAAsBJ,GAAgB,QAAU,EAChDkd,GAAyBjd,GAAmB,QAAU,EACtDkd,GAAmB/c,GAAsB8c,GACzCE,GAA+BjV,GAAkB/H,GACjDid,GAA+BlV,GAAkB,EACjDzH,GAAY,CAAC0c,GACbjd,GAAmBO,GAAY2c,GAC/B1c,GAAYf,EAAK,OAASsd,GAAyB,EACnD,CAACxd,EAAkB4d,EAAmB,KAAI,YAAS,KAAO,CAC/D,IAAK,GACL,OAAQ5c,GAAY,EACpB,KAAM,QACP,EAAE,EAII6c,MAAe,UAAO,IAAI,EAI1BC,GAAa3B,IAAS,WACtB4B,GAAmBtV,GAAkB2T,GACrC4B,GAAoBP,GAAmBpB,GACvC7O,GAAe+P,GAAaQ,GAAmBC,GAC/CC,GAAehD,GAAgB,MAAQC,GAAwB,KAC/D,CAAE,QAAAhF,GAAS,SAAAgI,EAAS,EAAI5e,GAAgBC,EAAS,EACjD4e,GAAepC,GAAmBtT,GAAkBvI,EAAK,OAASud,GAClEW,MAAwB,WAAQ,KAAO,CAC5C,eAAgB1Y,GAChB,iBAAkB6B,GAClB,WAAAoR,EACD,GAAI,CACHjT,GACA6B,GACAoR,EACD,CAAC,EACK0F,MAAuB,WAAQ,IAAM,CAC1C,IAAIC,EAAiB,GACjBC,EAAmB,GACvB,GAAI7D,GAAgB,MAAQO,GAAgB,MAAQA,EAAa,KAAO,GAAG,UAAW9a,KAASD,EAG9F,GAFI+a,EAAa,IAAIP,EAAava,CAAK,CAAC,EAAGme,EAAiB,GACvDC,EAAmB,GACpBD,GAAkBC,EAAkB,MAEzC,MAAO,CACN,cAAeD,GAAkB,CAACC,EAClC,gBAAiBD,GAAkBC,CACpC,CACD,EAAG,CACFre,EACA+a,EACAP,CACD,CAAC,EACK,CAAE,oBAAA3L,GAAqB,kBAAAC,GAAmB,eAAAO,GAAgB,iBAAAC,GAAkB,UAAAC,GAAW,aAAAC,GAAc,WAAAC,EAAW,EAAIP,GAAgB,CACzI,KAAAlP,EACA,UAAAmP,EACA,aAAA7B,GACA,UAAA8B,GACA,qBAAAtH,EACD,CAAC,EACKrI,GAAkBmP,GAAmB,CAC1C,QAAA7O,EACA,eAAAc,GACA,oBAAAqJ,GACA,kBAAAC,GACA,sBAAAlM,GACA,oBAAA4Q,GACA,kBAAAC,GACA,KAAA9O,EACA,eAAAI,EACA,kBAAAC,CACD,CAAC,EACK,CAAE,oBAAA0L,GAAqB,mBAAAS,EAAmB,EAAI3B,GAAgB9K,EAASN,GAAiB8J,GAAiBuB,GAASC,GAAWC,GAAcC,GAAsBC,EAAgBC,EAAiB,EAClMmT,GAAYV,GAAa,GAAK,EAC9B3b,GAAYlC,EAAQ,OAAS,EAC7Bwe,GAAsCC,GAA4B1e,CAAgB,EAClF2e,GAAqCC,GAA2B5e,CAAgB,EAChF6e,GAAezC,GAAkB7M,GAAiByO,GAAoB5Q,GAItE0R,GAA2B1Q,GAAc1B,EAAkB,EAC3DqS,GAA8B3Q,GAAc4Q,EAAqB,EACjEC,GAA0B7Q,GAAcsG,CAAgB,EACxDwK,GAA4B9Q,GAAcwG,CAAmB,EAC7DuK,GAAwB/Q,GAAc2C,CAAe,EACrDqO,GAAoBhR,GAAc6C,CAAW,EAC7CoO,GAA0BjR,GAAc+C,CAAiB,EACzDmO,GAA0BlR,GAAciD,CAAiB,EACzDkO,GAAwBnR,GAAcoR,EAAe,EACrDC,GAAkBrR,GAAcsR,EAAS,EACzCC,GAAiCvR,GAAcwR,EAAS,EACxDC,GAAmBzR,GAAcmD,EAAU,EAC3CuO,GAAyB1R,GAAc2R,EAAgB,EAIvDC,MAAY,eAAY,CAACC,EAAe,KAAS,CACtD,MAAMC,EAASC,GAAgBnV,GAAQ,OAAO,EAC1CkV,IAAW,OACXD,GAAczhB,GAAe0hB,CAAM,EACvCA,EAAO,MAAM,CAAE,cAAe,EAAK,CAAC,EACrC,EAAG,CAAClV,EAAO,CAAC,EAIZF,GAAkB,IAAM,CACnB8I,KACCiK,GAAa,UAAY,MAAQ7d,EAAiB,MAAQ,IAC7D6d,GAAa,QAAQ,MAAM,CAAE,cAAe,EAAK,CAAC,EAClDrf,GAAeqf,GAAa,OAAO,GAC7BmC,GAAU,EACjB9C,GAAmB,EAAK,EAE1B,EAAG,CACFtJ,GACAoM,GACAhgB,EAAiB,GAClB,CAAC,KACD,uBAAoBsO,EAAK,KAAO,CAC/B,QAAStD,GAAQ,QACjB,aAAa,CAAE,IAAApL,EAAK,OAAAY,CAAO,EAAG,CAC7B,MAAM4f,EAAcxgB,IAAQ,QAAUA,EAAMzB,IAAyByB,EAAMK,EAAQ,OAASL,EAAM,OAC5FygB,EAAiB7f,IAAW,QAAU8f,GAA6B9f,CAAM,EAAIA,EAAS,QACxF4f,IAAgB,QAAUC,IAAmB,SAAQpD,GAAoB,CAC5E,IAAKmD,EACL,OAAQC,CACT,CAAC,CACF,EACA,WAAA9O,EACD,EAAE,EAIF,SAASiO,GAAgBphB,EAAM,CAC9B,GAAI,CAAC8c,EAAsB,OAC3BzX,GAAuBiX,CAAY,EACnC,MAAM6F,EAAkB,IAAI,IAAItF,CAAY,EAC5C,UAAW9a,KAASD,EAAM,CACzB,GAAI0G,IAAyBzG,CAAK,IAAM,GAAM,SAC9C,MAAMqgB,EAAS9F,EAAava,CAAK,EAC7B/B,EAAK,QAASmiB,EAAgB,IAAIC,CAAM,EACvCD,EAAgB,OAAOC,CAAM,CACnC,CACAtF,EAAqBqF,CAAe,CACrC,CACA,SAASb,GAAUthB,EAAM,CACxB,GAAI,CAAC8c,EAAsB,OAC3BzX,GAAuBiX,CAAY,EACnC,KAAM,CAAE,IAAKva,EAAO,QAAAuG,EAAS,aAAAG,CAAa,EAAIzI,EAC9C,GAAIwI,IAAyBzG,CAAK,IAAM,GAAM,OAC9C,MAAMogB,EAAkB,IAAI,IAAItF,CAAY,EACtCuF,EAAS9F,EAAava,CAAK,EAC3BK,EAASN,EAAK,QAAQC,CAAK,EAIjC,GAHAid,GAAkB5c,CAAM,EACpBkG,EAAS6Z,EAAgB,IAAIC,CAAM,EAClCD,EAAgB,OAAOC,CAAM,EAC9B3Z,GAAgBsW,KAAmB,IAAMA,KAAmB3c,GAAU2c,GAAiBjd,EAAK,OAAQ,CACvG,MAAMugB,GAAOld,GAAK/C,EAAS2c,EAAc,EACzC,QAAShT,GAAIgT,GAAiBsD,GAAMtW,KAAM3J,EAAQ2J,IAAKsW,GAAM,CAC5D,MAAM3M,GAAQ5T,EAAKiK,EAAC,EAChBvD,IAAyBkN,EAAK,IAAM,KACpCpN,EAAS6Z,EAAgB,IAAI7F,EAAa5G,EAAK,CAAC,EAC/CyM,EAAgB,OAAO7F,EAAa5G,EAAK,CAAC,EAChD,CACD,CACAoH,EAAqBqF,CAAe,CACrC,CACA,SAASvb,GAAczG,EAAO,CAC7B,KAAM,CAAE,IAAAqB,EAAK,OAAAY,EAAQ,KAAAkgB,CAAK,EAAI1gB,EAC9B,GAAI0gB,IAAS,OAAQ,OACrB,GAAIvF,GAAiBmF,GAA6B9f,CAAM,EAAG,CAC1D,MAAML,EAAQD,EAAKM,CAAM,EACnB3B,GAAYF,GAAgBJ,CAAK,EAQvC,GAPA4c,EAAc,CACb,KAAM,SACN,IAAKhb,EACL,OAAQF,EAAQL,CAAG,EACnB,OAAAY,EACA,WAAA+Q,EACD,EAAG1S,EAAS,EACRA,GAAU,uBAAuB,EAAG,MACzC,CACA,GAAI,EAAEN,EAAM,kBAAkB,SAAU,OACxC,MAAMoiB,EAAcpiB,EAAM,OAAO,QAAQ,WAAW,IAAM,KACpDqiB,EAAa9C,IAAcvf,EAAM,SAAWsf,GAAa,QAC/D,GAAI,GAAC8C,GAAe,CAACC,GACrB,OAAQriB,EAAM,IAAK,CAClB,IAAK,UACL,IAAK,YACL,IAAK,YACL,IAAK,aACL,IAAK,MACL,IAAK,OACL,IAAK,MACL,IAAK,SACL,IAAK,WACJwU,GAASxU,CAAK,EACd,MACD,QACCsiB,GAAgBtiB,CAAK,EACrB,KACF,CACD,CACA,SAASuiB,GAAaviB,EAAO,CAC5B,KAAM,CAAE,UAAWwiB,EAAa,WAAYC,CAAa,EAAIziB,EAAM,iBACnE,cAAU,IAAM,CACfie,GAAauE,CAAW,EACxBtE,GAAcjZ,GAAIwd,CAAY,CAAC,CAChC,CAAC,EACD3F,IAAW9c,CAAK,CACjB,CACA,SAASqhB,GAAU1hB,EAAQsC,EAAQL,EAAO,CAEzC,GADI,OAAOwa,GAAiB,YACxBxa,IAAUD,EAAKM,CAAM,EAAG,OAC5B,MAAMygB,EAAc/gB,EAAK,KAAKM,EAAQL,CAAK,EAC3Cwa,EAAasG,EAAa,CACzB,QAAS,CAACzgB,CAAM,EAChB,OAAAtC,CACD,CAAC,CACF,CACA,SAASgjB,IAAsB,CAC1BlhB,EAAiB,OAAS,QAC9B4f,GAAU3f,EAAQD,EAAiB,GAAG,EAAGA,EAAiB,OAAQA,EAAiB,GAAG,CACvF,CACA,SAASmhB,GAAe5iB,EAAO,CAC9B,GAAI,CAACogB,GAAoC,OACzC,KAAM,CAAE,IAAA/e,EAAK,OAAAY,CAAO,EAAIR,EACxBub,IAAa,CACZ,IAAKrb,EAAKM,CAAM,EAChB,OAAQP,EAAQL,CAAG,CACpB,EAAGrB,CAAK,CACT,CACA,SAAS6iB,GAAgB7iB,EAAO,CAC/B,GAAI,CAACid,GAAe,CAACb,GAAgB,CAAC0G,GAAerhB,CAAgB,EAAG,OACxE,KAAM,CAAE,IAAAJ,EAAK,OAAAY,CAAO,EAAIR,EAClB9B,EAAS+B,EAAQL,CAAG,EACpB0hB,EAAa9F,EAAY,CAC9B,IAAKtb,EAAKM,CAAM,EAChB,OAAAtC,CACD,EAAGK,CAAK,EACRqhB,GAAU1hB,EAAQsC,EAAQ8gB,CAAU,CACrC,CACA,SAAST,GAAgBtiB,EAAO,CAC/B,GAAI,CAACogB,GAAoC,OACzC,MAAMxe,EAAQD,EAAKF,EAAiB,MAAM,EACpC,CAAE,IAAAZ,EAAK,SAAAgD,CAAS,EAAI7D,EAC1B,GAAI0f,IAAgB7b,GAAYhD,IAAQ,IAAK,CAC5CqE,GAAuBiX,CAAY,EACnC,MAAM8F,EAAS9F,EAAava,CAAK,EACjCuf,GAAU,CACT,IAAKvf,EACL,QAAS,CAAC8a,EAAa,IAAIuF,CAAM,EACjC,aAAc,EACf,CAAC,EACDjiB,EAAM,eAAe,EACrB,MACD,CACI8iB,GAAerhB,CAAgB,GAAKf,GAAmBV,EAAOid,GAAe,IAAI,GAAGoC,GAAoB,CAAC,CAAE,IAAAhe,EAAK,OAAAY,CAAO,KAAO,CACjI,IAAAZ,EACA,OAAAY,EACA,KAAM,OACN,IAAKL,EACL,YAAaA,CACd,EAAE,CACH,CACA,SAAS6e,IAAwB,CAC5BpC,KACH5B,IAA0B9P,EAAY,EACtCG,GAAkB,EAAK,EAEzB,CACA,SAASkW,GAA4BhjB,EAAO,CAC3CA,EAAM,eAAe,EACjB,EAAAA,EAAM,cAAgB,SAAWA,EAAM,UAAY,KACvDse,GAAY,EAAI,EAChBte,EAAM,cAAc,kBAAkBA,EAAM,SAAS,EACtD,CACA,SAASijB,GAA4BjjB,EAAO,CAC3C,MAAMkjB,EAASzW,GAAQ,QACjB0W,EAAgC3D,GAAmBrd,GAAsB2b,GACzEzM,EAASN,GAAYoS,EAAgCnjB,EAAM,QAAUkjB,EAAO,sBAAsB,EAAE,IACpGE,EAAahS,GAAWC,CAAM,EACpCmN,GAAqB4E,CAAU,EAC/B,MAAMpH,EAAemD,GAA+BiE,EAAa,EAC3Dtd,EAAKod,EAAO,cAAc,4BAA4BlH,CAAY,wBAAwBva,EAAiB,IAAM,CAAC,IAAI,EAC5HxB,GAAe6F,CAAE,CAClB,CACA,SAASud,IAAqC,CAE7C,GADA/E,GAAY,EAAK,EACbC,KAAsB,OAAQ,OAClC,KAAM,CAAE,OAAAtc,CAAO,EAAIR,EACb,CAAC6hB,EAAeC,CAAW,EAAIthB,EAASsc,GAAoB,CAACtc,EAAS,EAAGsc,GAAoB,CAAC,EAAI,CAACA,GAAmBtc,CAAM,EAClIuhB,GAAWF,EAAeC,CAAW,EACrC/E,GAAqB,MAAM,CAC5B,CACA,SAASiF,IAAwB,CAChChC,GAAU,EAAK,CAChB,CACA,SAASiC,GAA4B1jB,EAAO,CAC3CA,EAAM,gBAAgB,EACtBwjB,GAAW/hB,EAAiB,OAAS,EAAGE,EAAK,MAAM,CACpD,CACA,SAAS6hB,GAAWG,EAAaC,EAAW,CAC3C,GAAIxH,GAAgB,KAAM,OAC1B,KAAM,CAAE,OAAAna,EAAQ,IAAAZ,CAAI,EAAII,EAClB9B,EAAS+B,EAAQL,CAAG,EACpBwiB,EAAYliB,EAAKM,CAAM,EACvBygB,EAAc,CAAC,GAAG/gB,CAAI,EACtBmiB,GAAU,CAAC,EACjB,QAASlY,GAAI+X,EAAa/X,GAAIgY,EAAWhY,KAAK,GAAIkX,GAAe,CAChE,OAAQlX,GACR,IAAAvK,CACD,CAAC,EAAG,CACH,MAAM0hB,GAAahG,EAAO,CACzB,UAAWpd,EAAO,IAClB,UAAAkkB,EACA,UAAWliB,EAAKiK,EAAC,CAClB,CAAC,EACGmX,KAAephB,EAAKiK,EAAC,IACxB8W,EAAY9W,EAAC,EAAImX,GACjBe,GAAQ,KAAKlY,EAAC,EAEhB,CACIkY,GAAQ,OAAS,GAAG1H,EAAasG,EAAa,CACjD,QAAAoB,GACA,OAAAnkB,CACD,CAAC,CACF,CAIA,SAASokB,GAA8B1iB,EAAK,CAC3C,OAAOA,GAAO4e,IAAa5e,GAAOuC,EACnC,CACA,SAASme,GAA6B9f,EAAQ,CAC7C,OAAOA,GAAU,GAAKA,EAASN,EAAK,MACrC,CACA,SAASwe,GAA4B,CAAE,IAAA9e,EAAK,OAAAY,CAAO,EAAG,CACrD,OAAOA,GAAUQ,IAAaR,GAAUS,IAAaqhB,GAA8B1iB,CAAG,CACvF,CACA,SAAS2iB,GAAuB,CAAE,IAAA3iB,EAAK,OAAAY,CAAO,EAAG,CAChD,OAAO8f,GAA6B9f,CAAM,GAAKZ,GAAO,GAAKA,GAAOuC,EACnE,CACA,SAASyc,GAA2B,CAAE,IAAAhf,EAAK,OAAAY,CAAO,EAAG,CACpD,OAAO8f,GAA6B9f,CAAM,GAAK8hB,GAA8B1iB,CAAG,CACjF,CACA,SAASyhB,GAAepR,EAAU,CACjC,OAAOsS,GAAuBtS,CAAQ,GAAKlQ,GAAuB,CACjE,QAAAE,EACA,KAAAC,EACA,iBAAkB+P,CACnB,CAAC,CACF,CACA,SAASsB,GAAWtB,EAAUuS,EAAS,CACtC,GAAI,CAAC9D,GAA4BzO,CAAQ,EAAG,OAC5CiR,GAAoB,EACpB,MAAMuB,EAAeC,GAAe1iB,EAAkBiQ,CAAQ,EAC9D,GAAIuS,GAAS,cAAgBnB,GAAepR,CAAQ,EAAG,CACtD,MAAM9P,EAAQD,EAAK+P,EAAS,MAAM,EAClC2N,GAAoB,CACnB,GAAG3N,EACH,KAAM,OACN,IAAK9P,EACL,YAAaA,CACd,CAAC,CACF,MAAWsiB,EAAcjkB,GAAe2hB,GAAgBnV,GAAQ,OAAO,CAAC,GAEvEkS,GAAmBsF,GAAS,kBAAoB,EAAI,EACpD5E,GAAoB,CACnB,GAAG3N,EACH,KAAM,QACP,CAAC,GAEEmL,GAAwB,CAACqH,GAAcrH,EAAqB,CAC/D,OAAQnL,EAAS,OACjB,IAAKqQ,GAA6BrQ,EAAS,MAAM,EAAI/P,EAAK+P,EAAS,MAAM,EAAI,OAC7E,OAAQhQ,EAAQgQ,EAAS,GAAG,CAC7B,CAAC,CACF,CACA,SAAS8P,GAAiB,CAAE,IAAAngB,EAAK,OAAAY,CAAO,EAAG,CAC1C+Q,GAAW,CACV,OAAQvQ,GAAYR,EAAS,EAC7B,IAAAZ,CACD,CAAC,CACF,CACA,SAAS+iB,GAAgBvjB,EAAKwjB,EAASxgB,EAAU,CAChD,KAAM,CAAE,IAAAxC,EAAK,OAAAY,CAAO,EAAIR,EAClBwG,EAAgBiY,IAAuC7e,IAAQ,GACrE,OAAQR,EAAK,CACZ,IAAK,UAAW,MAAO,CACtB,IAAAQ,EACA,OAAQY,EAAS,CAClB,EACA,IAAK,YAAa,MAAO,CACxB,IAAAZ,EACA,OAAQY,EAAS,CAClB,EACA,KAAK0V,GAAS,MAAO,CACpB,IAAKtW,EAAM,EACX,OAAAY,CACD,EACA,KAAK0d,GAAU,MAAO,CACrB,IAAKte,EAAM,EACX,OAAAY,CACD,EACA,IAAK,MAAO,MAAO,CAClB,IAAKZ,GAAOwC,EAAW,GAAK,GAC5B,OAAA5B,CACD,EACA,IAAK,OACJ,OAAIgG,EAAsB,CACzB,IAAA5G,EACA,OAAQoB,EACT,EACO,CACN,IAAK,EACL,OAAQ4hB,EAAU5hB,GAAYR,CAC/B,EACD,IAAK,MACJ,OAAIgG,EAAsB,CACzB,IAAA5G,EACA,OAAQqB,EACT,EACO,CACN,IAAKkB,GACL,OAAQygB,EAAU3hB,GAAYT,CAC/B,EACD,IAAK,SAAU,CACd,GAAIR,EAAiB,SAAWgB,GAAW,OAAOhB,EAClD,MAAM6iB,EAAWpT,GAAUjP,CAAM,EAAIkP,GAAalP,CAAM,EAAIgN,GAC5D,MAAO,CACN,IAAA5N,EACA,OAAQijB,EAAW,EAAIlT,GAAWkT,CAAQ,EAAI,CAC/C,CACD,CACA,IAAK,WAAY,CAChB,GAAI7iB,EAAiB,QAAUE,EAAK,OAAQ,OAAOF,EACnD,MAAM6iB,EAAWpT,GAAUjP,CAAM,EAAIgN,GACrC,MAAO,CACN,IAAA5N,EACA,OAAQijB,EAAWtT,GAAiBI,GAAWkT,CAAQ,EAAI3iB,EAAK,OAAS,CAC1E,CACD,CACA,QAAS,OAAOF,CACjB,CACD,CACA,SAAS+S,GAASxU,EAAO,CACxB,KAAM,CAAE,IAAAa,EAAK,SAAAgD,CAAS,EAAI7D,EAC1B,IAAIuC,EAAqB,OACzB,GAAI1B,IAAQ,MAAO,CAClB,GAAI8C,GAAY,CACf,SAAAE,EACA,UAAAD,GACA,UAAAnB,GACA,UAAAC,GACA,iBAAAjB,CACD,CAAC,EAAG,CACHkhB,GAAoB,EACpB,MACD,CACApgB,EAAqB,YACtB,CACAvC,EAAM,eAAe,EACrB,MAAMqkB,EAAU7jB,GAAkBR,CAAK,EACjC6C,EAAeuhB,GAAgBvjB,EAAKwjB,EAASxgB,CAAQ,EAC3D,GAAIsgB,GAAe1iB,EAAkBoB,CAAY,EAAG,OACpD,MAAM0hB,EAA2BniB,GAA4B,CAC5D,OAAQvB,IAAQ,UAChB,SAAUA,IAAQ8e,IAAY9e,IAAQ,OAAS,CAACgD,EAChD,QAAAnC,EACA,eAAAc,GACA,KAAAb,EACA,eAAAI,EACA,kBAAAC,EACA,UAAAS,GACA,iBAAAP,GACA,UAAAQ,GACA,sBAAA9C,GACA,mBAAA2C,EACA,gBAAiBd,EACjB,aAAAoB,EACA,mBAAoBsd,EACrB,CAAC,EACDnN,GAAWuR,EAA0B,CAAE,gBAAiB,EAAK,CAAC,CAC/D,CACA,SAASC,GAAsB5hB,EAAe,CAC7C,GAAI2b,KAAsB,OAAQ,OAClC,KAAM,CAAE,OAAAtc,CAAO,EAAIR,EAEnB,OADsBQ,EAASsc,GAAoBtc,EAASW,GAAiBA,GAAiB2b,GAAoBtc,EAASW,GAAiBA,GAAiB2b,IACtI9c,EAAiB,IAAM,MAC/C,CACA,SAASgjB,IAAgB,CACxB,GAAI1H,GAAU,MAAQtb,EAAiB,OAAS,QAAU,CAAC4e,GAA2B5e,CAAgB,EAAG,OACzG,KAAM,CAAE,IAAAJ,EAAK,OAAAY,CAAO,EAAIR,EAClB9B,EAAS+B,EAAQL,CAAG,EAC1B,GAAI1B,EAAO,gBAAkB,MAAQA,EAAO,WAAa,GAAO,OAChE,MAAM+kB,EAAYziB,IAAWS,GACvB+K,EAAcnE,GAAe3J,CAAM,EACnCG,EAAUH,EAAO,UAAU,CAChC,KAAM,MACN,IAAKgC,EAAKM,CAAM,CACjB,CAAC,GAAK,EACA,CAAE,iBAAA0iB,EAAiB,GAAGC,EAAQ,EAAIpgB,GAAa7E,EAAQG,CAAO,EAC9D+kB,GAAY,iDACZC,GAAenlB,EAAO,IAAMG,EAAU,IAAM8D,GAC5CmhB,GAAkB,CACvB,GAAGH,GACH,aAAczF,GAA+Bld,EAAS,EACtD,gBAAiB6iB,GAAe,OAASD,GACzC,eAAgBH,EAAY,OAASG,GACrC,iBAAkBF,EAAmB,QAAQA,CAAgB,MAAMlX,CAAW,iDAAmD,MAClI,EACA,SAAuB,OAAI,MAAO,CACjC,MAAOsX,GACP,aAAWngB,GAAA,GAAKV,GAAyBvE,EAAO,QAAUsE,EAA6B,EACvF,cAAe+e,GACf,cAAepM,GAAaqM,GAA8B,OAC1D,qBAAsBrM,GAAayM,GAAqC,OACxE,QAASI,GACT,cAAeC,EAChB,CAAC,CACF,CACA,SAASsB,GAAc/iB,EAAQ,CAC9B,GAAIR,EAAiB,SAAWQ,GAAUR,EAAiB,OAAS,SAAU,OAC9E,KAAM,CAAE,IAAAJ,EAAK,IAAKO,CAAM,EAAIH,EACtB9B,EAAS+B,EAAQL,CAAG,EACpBvB,EAAUJ,GAAWC,EAAQC,GAAuB,CACzD,KAAM,MACN,IAAKgC,CACN,CAAC,EACKqjB,EAA2BtlB,EAAO,eAAe,0BAA4B,GAC7E2U,EAAe4Q,IAAsB,CAC1CvG,GAAmBuG,EAAiB,EACpC7F,GAAoB,CAAC,CAAE,IAAK8F,GAAO,OAAQC,EAAS,KAAO,CAC1D,IAAKD,GACL,OAAQC,GACR,KAAM,QACP,EAAE,CACH,EACMrS,GAAc,CAACwC,GAAOH,GAAe8P,KAAsB,CAC5D9P,MAAe,cAAU,IAAM,CAClCiM,GAAU1hB,EAAQ8B,EAAiB,OAAQ8T,EAAK,EAChDjB,EAAY4Q,EAAiB,CAC9B,CAAC,EACI7F,GAAqB3N,KAAc,CACvC,GAAGA,GACH,IAAK6D,EACN,EAAE,CACH,EACA,OAAI0P,GAA4BtjB,EAAKF,EAAiB,MAAM,IAAMA,EAAiB,aAAa6S,EAAY,EAAK,KAC1F,OAAID,GAAU,CACpC,OAAA1U,EACA,QAAAG,EACA,IAAK8B,EACL,OAAAK,EACA,YAAA8Q,GACA,YAAAuB,EACA,UAAWsI,EACX,SAAApI,EACD,EAAG7U,EAAO,GAAG,CACd,CACA,SAAS0lB,GAAsBpjB,EAAQ,CACtC,MAAMqjB,EAAiB7jB,EAAiB,MAAQ,GAAK,OAASC,EAAQD,EAAiB,GAAG,EAC1F,OAAI6jB,IAAmB,QAAU7jB,EAAiB,SAAWQ,GAAU,CAACb,GAAgB,SAASkkB,CAAc,EAAU7jB,EAAiB,IAAMqK,GAAoB,CAAC,GAAG1K,GAAiBkkB,CAAc,EAAI,CAC1M,GAAGlkB,GAAgB,MAAM,EAAGxB,GAAwB,CAAC,EACrD0lB,EACA,GAAGlkB,GAAgB,MAAMxB,GAAwB,CAAC,CACnD,EACOwB,EACR,CACA,SAASmkB,IAAkB,CAC1B,MAAMC,EAAc,CAAC,EACf,CAAE,IAAKC,EAAa,OAAQC,CAAe,EAAIjkB,EAC/CkiB,EAAcvD,IAAsCsF,EAAiBlV,GAAsBA,GAAsB,EAAIA,GACrHoT,EAAYxD,IAAsCsF,EAAiBjV,GAAoBA,GAAoB,EAAIA,GACrH,QAASkV,EAAiBhC,EAAagC,GAAkB/B,EAAW+B,IAAkB,CACrF,MAAMC,EAAuBD,IAAmBnV,GAAsB,GAAKmV,IAAmBlV,GAAoB,EAC5GxO,GAAS2jB,EAAuBF,EAAiBC,EACvD,IAAIE,GAAazkB,GACjB,MAAMkkB,GAAiBG,IAAgB,GAAK,OAAS/jB,EAAQ+jB,CAAW,EACpEH,KAAmB,SAAYM,EAAsBC,GAAa,CAACP,EAAc,EAChFO,GAAaR,GAAsBpjB,EAAM,GAC9C,MAAML,GAAQD,EAAKM,EAAM,EACnB+X,GAAemF,GAA+Bld,GAAS,EAC7D,IAAIpB,GAAMoB,GACNgG,GAAgB,GAChB,OAAOkU,GAAiB,aAC3Btb,GAAMsb,EAAava,EAAK,EACxBqG,GAAgByU,GAAc,IAAI7b,EAAG,GAAK,IAE3C2kB,EAAY,KAAKzH,GAAUld,GAAK,CAC/B,gBAAiBse,GAA+Bld,GAAS,EACzD,gBAAiByd,GAAezX,GAAgB,OAChD,OAAAhG,GACA,IAAKL,GACL,gBAAiBikB,GACjB,uBAAwBxd,IAAyBzG,EAAK,GAAK,GAC3D,cAAAqG,GACA,gBAAiB2Y,GACjB,YAAaC,GACb,kBAAmBC,GACnB,kBAAmBC,GACnB,SAAA5G,GACA,aAAAH,GACA,gBAAiB0L,IAAmBzjB,GAASwjB,EAAc,OAC3D,mBAAoBjB,GAAsBviB,EAAM,EAChD,sBAAArC,GACA,YAAawhB,GACb,WAAYE,GACZ,mBAAoB0D,GAAc/iB,EAAM,CACzC,CAAC,CAAC,CACH,CACA,OAAOujB,CACR,EACI/jB,EAAiB,IAAMmC,IAAanC,EAAiB,OAASiB,MACjE2c,GAAoB,CACnB,IAAK,GACL,OAAQ5c,GAAY,EACpB,KAAM,QACP,CAAC,EACD+b,GAAqB,MAAM,GAExBM,IAA4BX,KAAyB3B,GAAiB4B,GAAwB5B,CAAe,EACjH,IAAIsJ,GAAe,UAAU5b,EAAe,KAAK2T,EAAe,MAC5D1b,GAAsB,IAAG2jB,IAAgB,WAAW3jB,EAAmB,KAAK2b,EAAgB,OAC5Fnc,EAAK,OAAS,IAAGmkB,IAAgB7U,IACjCgO,GAAyB,IAAG6G,IAAgB,WAAW7G,EAAsB,KAAKnB,EAAgB,OACtG,MAAMiI,GAAoBtkB,EAAiB,MAAQ,IAAMA,EAAiB,SAAWgB,GAAY,EACjG,SAAuB,QAAK,MAAO,CAClC,KAAAmb,EACA,aAAc3W,GACd,kBAAmBC,GACnB,mBAAoBoW,EACpB,mBAAoBC,EACpB,uBAAwBmC,GAAe,GAAO,OAC9C,gBAAiBhe,EAAQ,OACzB,gBAAiBke,GACjB,SAAU,GACV,aAAWhb,GAAA,GAAKqW,GAAe,CAAE,CAACC,EAAyB,EAAGtE,EAAW,EAAGtE,EAAS,EACrF,MAAO,CACN,GAAGW,GACH,yBAA0BxR,EAAiB,IAAM7B,IAAyB6e,IAAkB,MAAQ,OAAS,GAAGrT,EAAsB,KAAO,OAC7I,mBAAoB2W,GAA6BtgB,EAAiB,MAAM,GAAKgd,IAAkB,SAAW,OAAS,GAAGe,GAAmBrd,GAAsB2b,EAAgB,MAAMmB,GAAyBnB,EAAgB,KAAO,OACrO,oBAAApQ,GACA,iBAAkBoY,GAClB,0BAA2B,GAAGjI,EAAe,KAC7C,sBAAuB,GAAGyC,EAAY,KACtC,GAAGnV,EACJ,EACA,IAAKnK,GACL,IAAKyL,GACL,SAAU8V,GACV,UAAW9b,GACX,OAAQmc,GACR,QAASC,GACT,cAAepF,EACf,UAAWC,EACX,SAAU,IACO,QAAK9W,GAAgC,SAAU,CAC9D,MAAOiZ,GACP,SAAU,IAAiB,OAAInY,GAAgC,SAAU,CACxE,MAAOsZ,GACP,YAA0B,QAAKvZ,GAA0B,SAAU,CAClE,MAAOqY,GACP,SAAU,CAAC,MAAM,KAAK,CAAE,OAAQV,EAA6B,EAAG,CAAC4G,EAAGvhB,OAA0B,OAAIqV,GAAgC,CACjI,OAAQrV,EAAQ,EAChB,MAAO,CAAC2a,GAA+B3a,EACvC,QAAS4gB,GAAsB5iB,GAAYgC,CAAK,EAChD,gBAAiBhD,EAAiB,SAAWgB,GAAYgC,EAAQhD,EAAiB,IAAM,OACxF,WAAY8f,EACb,EAAG9c,CAAK,CAAC,KAAmB,OAAIkV,GAAmB,CAClD,eAAAH,GACA,OAAQtP,GACR,QAASmb,GAAsBnjB,EAAgB,EAC/C,eAAgBqe,GAChB,kBAAmBC,GACnB,iBAAkBE,GAClB,YAAAtK,EACA,oBAAqBuK,GACrB,sBAAA/gB,GACA,gBAAiB6B,EAAiB,SAAWS,GAAmBT,EAAiB,IAAM,OACvF,WAAY8f,GACZ,gBAAiB,CAACrB,GAClB,UAAAlf,EACD,CAAC,CAAC,CACH,CAAC,CACF,CAAC,EAAGW,EAAK,SAAW,GAAKqc,GAAiBA,MAAiC,QAAK,WAAU,CAAE,SAAU,CACrGjc,GAAgB,IAAI,CAACH,EAAOK,IAAW,CACtC,MAAM+X,EAAe9P,GAAkB,EAAIjI,EACrCgkB,EAAgB/jB,GAAmB,EAAID,EACvCikB,EAAuBzkB,EAAiB,SAAWwkB,EACnDpK,EAAM2D,GAAmB1B,GAAmB7b,EAClD,SAAuB,OAAIga,GAAoB,CAC9C,gBAAiBjC,EACjB,OAAQiM,EACR,aAAAjM,EACA,IAAKpY,EACL,IAAAia,EACA,OAAQ,OACR,gBAAiBwJ,GAAsBY,CAAa,EACpD,sBAAArmB,GACA,gBAAiBsmB,EAAuBzkB,EAAiB,IAAM,OAC/D,MAAO,GACP,WAAY6f,EACb,EAAGrf,CAAM,CACV,CAAC,KACe,OAAIoF,GAA0B,SAAU,CACvD,MAAO6Z,GACP,SAAUqE,GAAgB,CAC3B,CAAC,EACDvjB,GAAmB,IAAI,CAACJ,EAAOK,IAAW,CACzC,MAAM+X,EAAemF,GAA+Bxd,EAAK,OAASM,EAAS,EACrEgkB,EAAgBtkB,EAAK,OAASM,EAC9BikB,EAAuBzkB,EAAiB,SAAWwkB,EACnDpK,EAAM5M,GAAe+B,GAAiBgO,GAAalB,IAAoB9b,EAAkB,OAASC,GAAU,OAC5G6Z,EAASD,IAAQ,OAASiC,IAAoB9b,EAAkB,OAAS,EAAIC,GAAU,OAC7F,SAAuB,OAAIga,GAAoB,CAC9C,gBAAiB2D,GAAeX,GAAyBhd,EAAS,EAClE,OAAQgkB,EACR,aAAAjM,EACA,IAAKpY,EACL,IAAAia,EACA,OAAAC,EACA,gBAAiBuJ,GAAsBY,CAAa,EACpD,sBAAArmB,GACA,gBAAiBsmB,EAAuBzkB,EAAiB,IAAM,OAC/D,MAAO,GACP,WAAY6f,EACb,EAAGrf,CAAM,CACV,CAAC,CACF,CAAE,CAAC,CAAC,CACL,CAAC,EACDwiB,GAAc,EACdtjB,GAAqBC,EAAe,EACpCme,OAA8B,OAAI,MAAO,CACxC,IAAKD,GACL,SAAUyG,GAAoB,EAAI,GAClC,aAAWnhB,GAAA,GAAKuW,GAAoB,CACnC,CAACC,EAAkC,EAAG,CAAC2G,GAA6BtgB,EAAiB,MAAM,EAC3F,CAACwX,EAAW,EAAG8M,GACf,CAAC5M,EAAyB,EAAG4M,IAAqBnmB,KAA0B,EAC7E,CAAC,EACD,MAAO,CAAE,aAAc6B,EAAiB,OAAS0d,GAA+B,CAAE,CACnF,CAAC,EACDV,KAAqB,SAAwB,OAAIhE,GAAc,CAC9D,iBAAAgE,GACA,wBAAyBC,GACzB,QAAAjS,EACD,CAAC,CACF,CACD,CAAC,CACF,CACA,MAAM0Z,MAAW,cAAWjK,EAAY,EACxC,SAAS0F,GAAgBsB,EAAQ,CAChC,OAAOA,EAAO,cAAc,wCAA4C,CACzE,CACA,SAASiB,GAAeiC,EAAIC,EAAI,CAC/B,OAAOD,EAAG,MAAQC,EAAG,KAAOD,EAAG,SAAWC,EAAG,MAC9C,CAIA,SAASC,GAAU,CAAE,GAAAC,EAAI,SAAAlgB,EAAU,UAAAmgB,EAAW,WAAAlgB,EAAY,eAAA8L,EAAgB,OAAAzS,EAAQ,IAAKiC,EAAO,iBAAA6kB,EAAkB,gBAAAC,EAAiB,YAAaC,CAAmB,EAAG,CACnK,KAAM,CAAE,SAAApgB,EAAU,cAAA2M,EAAe,QAAA7C,CAAQ,EAAIJ,GAAkBmC,CAAc,EAC7E,SAAS5L,GAAc,CACtBmgB,EAAmBJ,CAAE,CACtB,CACA,MAAMK,EAAkBF,GAAmBD,IAAqB9mB,EAAO,IACvE,SAAuB,OAAI,MAAO,CACjC,KAAM,WACN,gBAAiBA,EAAO,IAAM,EAC9B,gBAAiByS,EACjB,SAAA7L,EACA,UAAW7B,GAAiB/E,CAAM,EAClC,MAAO,CACN,GAAG6E,GAAa7E,CAAM,EACtB,OAAQinB,EAAkB,UAAY,SACvC,EACA,YAAc5mB,GAAU,CACvBA,EAAM,eAAe,CACtB,EACA,QAAS4mB,EAAkBpgB,EAAc,OACzC,QAAA6J,EACA,UAAW,CAACqW,GAAmBE,IAAoBjnB,EAAO,kBAAkB,CAC3E,SAAA0G,EACA,UAAAmgB,EACA,OAAA7mB,EACA,IAAKiC,EACL,WAAA0E,EACA,SAAU4M,EACV,YAAA1M,CACD,CAAC,CACF,EAAG7G,EAAO,GAAG,CACd,CACA,IAAIknB,MAAoB,QAAKP,EAAS,EAKtC,MAAMQ,GAAoB,sCAC1B,SAASC,GAAW,CAAE,UAAAzU,EAAW,IAAK1Q,EAAO,OAAAK,EAAQ,gBAAAb,EAAiB,gBAAAqY,EAAiB,cAAAxR,EAAe,WAAA+K,EAAY,aAAAgH,EAAc,QAAAgN,EAAS,YAAAxgB,EAAa,uBAAA6B,EAAuB,GAAG1C,CAAM,EAAG,CACxL,MAAMtE,EAAMD,EAAgB,CAAC,EAAE,MAAQ0G,GAAoBlG,EAAM,MAAQ,EAAIA,EAAM,MACnF,SAASqlB,GAAoB,CAC5BjU,EAAW,CACV,OAAA/Q,EACA,IAAK,EACN,EAAG,CAAE,gBAAiB,EAAK,CAAC,CAC7B,CACA,MAAMoY,KAAiB,WAAQ,KAAO,CACrC,uBAAwB,GACxB,cAAApS,CACD,GAAI,CAACA,CAAa,CAAC,EACnB,SAAuB,OAAIb,GAAoB,SAAU,CACxD,MAAOiT,EACP,YAA0B,OAAI,MAAO,CACpC,KAAM,MACN,aAAczY,EAAM,MAAQ,EAC5B,eAAgBA,EAAM,QACtB,gBAAiBA,EAAM,SAAW,EAClC,gBAAiBA,EAAM,WACvB,aAAWgD,GAAA,GAAKoU,GAAc8N,GAAmB,WAAW7kB,EAAS,IAAM,EAAI,OAAS,KAAK,GAAIwX,IAAoB,IAAMP,GAAsB5G,CAAS,EAC1J,YAAa2U,EACb,MAAO9iB,GAAY6V,CAAY,EAC/B,GAAGrU,EACH,SAAUvE,EAAgB,IAAKzB,MAA2B,OAAIknB,GAAmB,CAChF,GAAIjlB,EAAM,GACV,SAAUA,EAAM,SAChB,UAAWA,EAAM,UACjB,WAAYA,EAAM,WAClB,eAAgB6X,IAAoB9Z,EAAO,IAC3C,OAAAA,EACA,IAAKiC,EACL,iBAAkBP,EAClB,YAAAmF,EACA,gBAAiBwgB,EAAQ,SAASrnB,EAAO,GAAG,CAC7C,EAAGA,EAAO,GAAG,CAAC,CACf,CAAC,CACF,CAAC,CACF,CACA,IAAIunB,MAAmB,QAAKH,EAAU,EAItC,SAASI,GAAa,CAAE,QAAS/d,EAAY,KAAMge,EAAS,UAAW/K,EAAc,aAAcgL,EAAiB,cAAeC,EAAkB,WAAYC,EAAe,YAAaC,EAAgB,aAAApL,EAAc,aAAcqL,EAAiB,qBAAsBC,EAAyB,UAAAvK,EAAW,QAASwK,EAAY,WAAAC,EAAY,iBAAAC,EAAkB,yBAAAC,EAA0B,cAAeC,EAAiB,GAAGpiB,CAAM,EAAG,CAC5a,MAAMgY,EAAmB9W,GAAoB,EACvCmhB,EAAe7K,GAAW,WAAaQ,GAAkB,WAAanD,GACtE2E,EAA+B,GAAKxZ,EAAM,gBAAgB,QAAU,GACpE,CAAE,QAAAgS,EAAS,SAAAgI,CAAS,EAAI5e,GAAgB4E,EAAM,SAAS,EACvDsiB,EAAoBpY,GAAcrJ,EAAW,EAC7C0hB,EAAgBH,GAAoBI,GACpC,CAAE,QAAAzmB,EAAS,QAAAslB,CAAQ,EAAI,QAAQ,IAAM,CAC1C,MAAM3c,EAAYjB,EAAW,SAAS,CAAC,CAAE,IAAKwB,CAAK,EAAG,CAAE,IAAKE,CAAK,IAC7DF,IAAS9C,GAA0B,GACnCgD,IAAShD,GAA0B,EACnC6f,EAAW,SAAS/c,CAAI,EACvB+c,EAAW,SAAS7c,CAAI,EAAU6c,EAAW,QAAQ/c,CAAI,EAAI+c,EAAW,QAAQ7c,CAAI,EACjF,GAEJ6c,EAAW,SAAS7c,CAAI,EAAU,EAC/B,CACP,EACKsd,EAAY,CAAC,EACnB,SAAW,CAAC3jB,EAAO9E,CAAM,IAAK0K,EAAU,QAAQ,EAAOsd,EAAW,SAAShoB,EAAO,GAAG,IACpFyoB,EAAU,KAAKzoB,EAAO,GAAG,EACzB0K,EAAU5F,CAAK,EAAI,CAClB,GAAG9E,EACH,OAAQ,GACR,WAAY,IAAM,KAClB,gBAAiBA,EAAO,iBAAmBwG,GAC3C,SAAU,EACX,GAED,MAAO,CACN,QAASkE,EACT,QAAS+d,CACV,CACD,EAAG,CAAChf,EAAYue,CAAU,CAAC,EACrB,CAACU,EAAaC,CAAS,EAAI,QAAQ,IAAM,CAC9C,GAAItB,EAAQ,SAAW,EAAG,MAAO,CAAC,OAAQI,EAAQ,MAAM,EACxD,MAAMmB,EAAY,CAACC,EAAQ,CAACC,EAAe,GAAAC,CAAoB,EAAGpF,IAAkB,CACnF,IAAIqF,EAAiB,EACrB,MAAMC,EAAS,CAAC,EAChB,SAAW,CAAC/nB,EAAK2lB,EAAS,IAAK,OAAO,QAAQoB,EAAWY,EAAQC,CAAU,CAAC,EAAG,CAC9E,KAAM,CAACI,GAAaC,EAAc,EAAIJ,EAAqB,SAAW,EAAI,CAAClC,GAAWA,GAAU,MAAM,EAAI+B,EAAU/B,GAAWkC,EAAsBpF,EAAgBqF,EAAiB,CAAC,EACvLC,EAAO/nB,CAAG,EAAI,CACb,UAAA2lB,GACA,YAAAqC,GACA,cAAevF,EAAgBqF,CAChC,EACAA,GAAkBG,GAAiB,CACpC,CACA,MAAO,CAACF,EAAQD,CAAc,CAC/B,EACA,OAAOJ,EAAUnB,EAASJ,EAAS,CAAC,CACrC,EAAG,CACFA,EACAY,EACAR,CACD,CAAC,EACK,CAACzlB,EAAMonB,CAAU,EAAI,QAAQ,IAAM,CACxC,MAAMC,EAA+B,IAAI,IACzC,GAAI,CAACX,EAAa,MAAO,CAACjB,EAAS6B,CAAY,EAC/C,MAAMC,EAAgB,CAAC,EACjBC,EAAc,CAACX,EAAQY,EAAU5e,IAAU,CAChD,GAAI6e,GAAgBb,CAAM,EAAG,CAC5BU,EAAc,KAAK,GAAGV,CAAM,EAC5B,MACD,CACA,OAAO,KAAKA,CAAM,EAAE,QAAQ,CAACniB,EAAUijB,GAAUC,KAAS,CACzD,MAAMhD,GAAK2B,EAAc7hB,EAAU+iB,CAAQ,EACrC9iB,GAAauhB,EAAiB,IAAItB,EAAE,EACpC,CAAE,UAAAC,GAAW,YAAAqC,GAAa,cAAAvF,EAAc,EAAIkF,EAAOniB,CAAQ,EAC3DmjB,GAAa,CAClB,GAAAjD,GACA,SAAA6C,EACA,SAAA/iB,EACA,WAAAC,GACA,UAAAkgB,GACA,MAAAhc,EACA,SAAA8e,GACA,cAAAhG,GACA,QAASiG,GAAK,MACf,EACAL,EAAc,KAAKM,EAAU,EAC7BR,EAAa,IAAIQ,EAAU,EACvBljB,IAAY6iB,EAAYN,GAAatC,GAAI/b,EAAQ,CAAC,CACvD,CAAC,CACF,EACA,OAAA2e,EAAYd,EAAa,OAAQ,CAAC,EAC3B,CAACa,EAAeD,CAAY,EACnC,SAASA,EAAarnB,EAAO,CAC5B,OAAOonB,EAAa,IAAIpnB,CAAK,CAC9B,CACD,EAAG,CACFimB,EACAQ,EACAjB,EACAc,CACD,CAAC,EACKpX,EAAY,QAAQ,IACrB,OAAOuL,GAAiB,WAAoBza,GAC3CmnB,EAAWnnB,CAAK,EAAUya,EAAa,CAC1C,KAAM,QACN,IAAKza,CACN,CAAC,EACMya,EAAa,CACnB,KAAM,MACN,IAAKza,CACN,CAAC,EAEKya,EACL,CAAC0M,EAAY1M,CAAY,CAAC,EACvBoN,GAAuB,YAAa7nB,GAAU,CACnD,MAAMK,EAASN,EAAK,QAAQC,CAAK,EACjC,QAASgK,EAAI3J,EAAS,EAAG2J,GAAK,EAAGA,IAAK,CACrC,MAAM8d,EAAY/nB,EAAKiK,CAAC,EACxB,GAAImd,EAAWW,CAAS,IAAM,CAACX,EAAWnnB,CAAK,GAAKA,EAAM,WAAa8nB,EAAU,IAAK,MAAO,CAACA,EAAW9d,CAAC,CAC3G,CAED,EAAG,CAACmd,EAAYpnB,CAAI,CAAC,EACfwa,EAAe,YAAava,GAAU,CAC3C,GAAImnB,EAAWnnB,CAAK,EAAG,OAAOA,EAAM,GACpC,GAAI,OAAOylB,GAAoB,WAAY,OAAOA,EAAgBzlB,CAAK,EACvE,MAAM+nB,EAAoBF,GAAqB7nB,CAAK,EACpD,GAAI+nB,IAAsB,OAAQ,CACjC,KAAM,CAAE,cAAArG,EAAe,UAAAkD,CAAU,EAAImD,EAAkB,CAAC,EAClDC,EAAapD,EAAU,QAAQ5kB,CAAK,EAC1C,OAAO0hB,EAAgBsG,EAAa,CACrC,CACA,OAAOjoB,EAAK,QAAQC,CAAK,CAC1B,EAAG,CACF6nB,GACAV,EACA1B,EACA1lB,CACD,CAAC,EACK+a,GAAe,QAAQ,IAAM,CAClC,GAAI+K,GAAmB,KAAM,OAAO,KACpCviB,GAAuBmiB,CAAe,EACtC,MAAMwC,EAAiB,IAAI,IAAIpC,CAAe,EAC9C,UAAW7lB,KAASD,EAAUonB,EAAWnnB,CAAK,GAClBA,EAAM,UAAU,MAAOkoB,GAAOrC,EAAgB,IAAIJ,EAAgByC,CAAE,CAAC,CAAC,GACzED,EAAe,IAAIjoB,EAAM,EAAE,EAEpD,OAAOioB,CACR,EAAG,CACFd,EACA1B,EACAI,EACA9lB,CACD,CAAC,EACD,SAASgb,GAAqBqF,EAAiB,CAC9C,GAAI,CAAC0F,EAAyB,OAC9BxiB,GAAuBmiB,CAAe,EACtC,MAAM0C,EAAqB,IAAI,IAAItC,CAAe,EAClD,UAAW7lB,KAASD,EAAM,CACzB,MAAMd,EAAMsb,EAAava,CAAK,EAC9B,GAAI8a,IAAc,IAAI7b,CAAG,GAAK,CAACmhB,EAAgB,IAAInhB,CAAG,EAAG,GAAIkoB,EAAWnnB,CAAK,EAAG,UAAWkoB,KAAMloB,EAAM,UAAWmoB,EAAmB,OAAO1C,EAAgByC,CAAE,CAAC,OAC1JC,EAAmB,OAAOlpB,CAAG,UACzB,CAAC6b,IAAc,IAAI7b,CAAG,GAAKmhB,EAAgB,IAAInhB,CAAG,EAAG,GAAIkoB,EAAWnnB,CAAK,EAAG,UAAWkoB,KAAMloB,EAAM,UAAWmoB,EAAmB,IAAI1C,EAAgByC,CAAE,CAAC,OAC5JC,EAAmB,IAAIlpB,CAAG,CAChC,CACA6mB,EAAwBqC,CAAkB,CAC3C,CACA,SAAStjB,GAAc5G,EAAMG,EAAO,CAGnC,GAFAsnB,IAAmBznB,EAAMG,CAAK,EAC1BA,EAAM,uBAAuB,GAC7BH,EAAK,OAAS,OAAQ,OAC1B,KAAM,CAAE,OAAAF,EAAQ,OAAAsC,EAAQ,WAAA+Q,CAAW,EAAInT,EACjCwB,EAAM1B,GAAQ,KAAO,GACrBiC,EAAQD,EAAKM,CAAM,EACzB,GAAK8mB,EAAWnnB,CAAK,IACjBP,IAAQ,KAAOrB,EAAM,MAAQ2X,GAAW/V,EAAM,YAAc5B,EAAM,MAAQ2f,GAAY,CAAC/d,EAAM,cAChG5B,EAAM,eAAe,EACrBA,EAAM,mBAAmB,EACzBwG,GAAY5E,EAAM,EAAE,GAEjBP,IAAQ,IAAMrB,EAAM,MAAQ2X,GAAW,CAAC/V,EAAM,YAAcA,EAAM,QAAU,GAAG,CAClF,MAAM+nB,EAAoBF,GAAqB7nB,CAAK,EAChD+nB,IAAsB,SACzB3pB,EAAM,mBAAmB,EACzBgT,EAAW,CACV,IAAA3R,EACA,OAAQsoB,EAAkB,CAAC,CAC5B,CAAC,EAEH,CACD,CACA,SAAS/G,GAAe,CAAE,IAAKhhB,EAAO,OAAAjC,CAAO,EAAGK,EAAO,CACjD+oB,EAAWnnB,CAAK,GAAG2lB,IAAgB,CACvC,IAAK3lB,EACL,OAAAjC,CACD,EAAGK,CAAK,CACT,CACA,SAAS6iB,GAAgB,CAAE,IAAKjhB,EAAO,OAAAjC,CAAO,EAAGK,EAAO,CACvD,OAAO+oB,EAAWnnB,CAAK,EAAIA,EAAQ4lB,EAAe,CACjD,IAAK5lB,EACL,OAAAjC,CACD,EAAGK,CAAK,CACT,CACA,SAASgqB,GAAiBtH,EAAa,CAAE,QAAAoB,EAAS,OAAAnkB,CAAO,EAAG,CAC3D,GAAI,CAACyc,EAAc,OACnB,MAAM6N,EAAiB,CAAC,GAAG7C,CAAO,EAC5B8C,EAAa,CAAC,EACpB,UAAWzlB,KAASqf,EAAS,CAC5B,MAAMqG,EAAW/C,EAAQ,QAAQzlB,EAAK8C,CAAK,CAAC,EAC5CwlB,EAAeE,CAAQ,EAAIzH,EAAYje,CAAK,EAC5CylB,EAAW,KAAKC,CAAQ,CACzB,CACA/N,EAAa6N,EAAgB,CAC5B,QAASC,EACT,OAAAvqB,CACD,CAAC,CACF,CACA,SAAS6G,GAAY4jB,EAAS,CAC7B,MAAMC,EAAsB,IAAI,IAAIxC,CAAgB,EAChDwC,EAAoB,IAAID,CAAO,EAAGC,EAAoB,OAAOD,CAAO,EACnEC,EAAoB,IAAID,CAAO,EACpCtC,EAAyBuC,CAAmB,CAC7C,CACA,SAAStM,GAAUld,EAAK,CAAE,IAAKe,EAAO,SAAAuY,EAAU,gBAAA3H,EAAiB,YAAAE,EAAa,kBAAAE,EAAmB,kBAAAE,EAAmB,YAAAC,EAAa,sBAAAnT,GAAuB,mBAAAqa,GAAoB,mBAAAC,GAAmB,GAAGoQ,EAAS,EAAG,CAC7M,GAAIvB,EAAWnnB,CAAK,EAAG,CACtB,KAAM,CAAE,cAAA0hB,EAAc,EAAI1hB,EAC1B,OAAuB,IAAIslB,GAAkB,CAC5C,GAAGoD,GACH,gBAAiBnL,EAA+BmE,GAAgB,EAChE,IAAK1hB,EACL,QAAAolB,EACA,YAAaiB,CACd,EAAGpnB,CAAG,CACP,CACA,IAAImb,GAAesO,GAAS,eAAe,EAC3C,MAAMX,GAAoBF,GAAqB7nB,CAAK,EACpD,GAAI+nB,KAAsB,OAAQ,CACjC,KAAM,CAAE,cAAArG,GAAe,UAAAkD,EAAU,EAAImD,GAAkB,CAAC,EAClDC,GAAapD,GAAU,QAAQ5kB,CAAK,EAC1Coa,GAAesH,GAAgBnE,EAA+ByK,GAAa,CAC5E,CACA,OAAO5B,EAAannB,EAAK,CACxB,GAAGypB,GACH,gBAAiBtO,GACjB,IAAKpa,EACL,SAAAuY,EACA,gBAAA3H,EACA,YAAAE,EACA,kBAAAE,EACA,kBAAAE,EACA,YAAAC,EACA,sBAAAnT,GACA,mBAAAqa,GACA,mBAAAC,EACD,CAAC,CACF,CACA,OAAuB,IAAIiM,GAAU,CACpC,GAAGxgB,EACH,KAAM,WACN,gBAAiB2iB,EAAY,GAAK3iB,EAAM,gBAAgB,QAAU,IAAMA,EAAM,mBAAmB,QAAU,GAC3G,QAAAjE,EACA,KAAAC,EACA,UAAAmP,EACA,aAAAqL,EACA,aAAc6N,GACd,aAAAtN,GACA,qBAAAC,GACA,cAAelW,GACf,WAAYmc,GACZ,YAAa4E,EAAiB3E,GAAkB,OAChD,UAAW,CACV,GAAG1F,EACH,UAAAY,EACD,CACD,CAAC,CACF,CACA,SAASoK,GAAqB9hB,EAAU+iB,EAAU,CACjD,OAAOA,IAAa,OAAS,GAAGA,CAAQ,KAAK/iB,CAAQ,GAAKA,CAC3D,CACA,SAASgjB,GAAgBkB,EAAK,CAC7B,OAAO,MAAM,QAAQA,CAAG,CACzB,CAIA,MAAMC,GAA8B,uBAC9BC,GAAsB,KAC5B,SAASC,GAAmBC,EAAO,CAClCA,GAAO,MAAM,EACbA,GAAO,OAAO,CACf,CACA,SAASC,GAAW,CAAE,IAAKhpB,EAAO,OAAAjC,EAAQ,YAAAoT,EAAa,QAAA+B,CAAQ,EAAG,CACjE,OAAuB,IAAI,QAAS,CACnC,UAAW2V,GACX,IAAKC,GACL,MAAO9oB,EAAMjC,EAAO,GAAG,EACvB,SAAWK,GAAU+S,EAAY,CAChC,GAAGnR,EACH,CAACjC,EAAO,GAAG,EAAGK,EAAM,OAAO,KAC5B,CAAC,EACD,OAAQ,IAAM8U,EAAQ,GAAM,EAAK,CAClC,CAAC,CACF,C,sTCxzFO,MAAM+V,GAAS,CACpB,cAAe,IACf,eAAgB,GAEhB,UAAW,EACb,EAGaC,GAAQ,CACnB,aAAc,EACd,gBAAiB,GACjB,iBAAkB,IAClB,iBAAkB,EAClB,kBAAmB,EACnB,YAAa,GACb,aAAc,OAChB,ECiBO,SAASC,GAAoBC,EAAsBC,EAAsC,CAC9F,MAAMC,EAAeF,EAAM,WAAW,SAChCG,EAAaH,EAAM,WAAW,KAAK,WAEzC,OAAQC,EAAY,CAClB,KAAK,KAAgB,GACnB,MAAO,IACT,KAAK,KAAgB,GACnB,MAAO,IACT,KAAK,KAAgB,GACnB,OAAOH,GAAM,eACjB,CAEA,OAAOA,GAAM,aAAe,EAAII,EAAeC,CACjD,CAMO,SAASC,GAAqBC,EAAuB,CAC1D,OAAOA,EAAM,QAAQ,QAAQ,SAAW,EAC1C,CAMO,SAASC,GAAeD,EAAuB,CAMpD,MAAO,EALaE,GAAeF,CAAK,GAKZ,QAC9B,CAGA,MAAMG,GAAa,QAaZ,SAASC,GACdC,EACAzpB,EACA,CAAE,UAAA0pB,EAAW,aAAAC,EAAc,eAAAC,CAAe,EAK1C,CACA,IAAIC,EAAW,EACXC,EAAc,GACdC,EAAe,GAGnB,QAASpgB,EAAI,EAAGA,EAAI+f,EAAU,OAAQ/f,IACpC,GAAIigB,EAAejgB,CAAC,EAAG,CACrB,MAAMyf,EAAQK,EAAO9f,CAAC,EAEhBqgB,EAAchqB,IAAW,GAAKiqB,GAAeb,CAAK,EAAIA,EAAM,OAAOppB,CAAM,EAE/E,GAAIgqB,GAAe,KAAM,CACvB,MAAME,EAAW,OAAOF,CAAW,EAEnC,GAAIT,GAAW,KAAKW,CAAQ,EAAG,CAC7B,MAAMC,EAAeT,EAAU/f,CAAC,EAAIggB,EAC9BS,EAAcF,EAAS,OAASC,EAElCC,EAAcP,IAChBA,EAAWO,EACXN,EAAcngB,EACdogB,EAAeG,EAEnB,CACF,CACF,CAGF,MAAO,CAAE,KAAMH,EAAc,IAAKD,EAAa,SAAUD,CAAS,CACpE,CAMO,SAASQ,GAAmBjB,EAAuB,CACxD,OACEA,EAAM,OAAS,MAAU,QAGzBE,GAAeF,CAAK,EAAE,OAAS,KAAqB,OACpD,CAACC,GAAeD,CAAK,GACrB,CAACD,GAAqBC,CAAK,CAE/B,CAMO,SAASkB,GAAalB,EAAwC,CACnE,GAAI,CAACA,EACH,MAAO,aAGT,GAAIA,EAAM,OAAO,OAGf,OAFsCA,EAAM,OAAO,OAEpC,MAAO,CACpB,IAAK,QACH,MAAO,WACT,IAAK,OACH,MAAO,aACT,IAAK,SACH,MAAO,QACX,CAGF,OAAIA,EAAM,OAAS,MAAU,OACpB,WAGF,YACT,CAEA,MAAMmB,GAAuB,CAAE,KAAM,KAAqB,IAAK,EAOxD,SAASjB,GAAeF,EAAgC,CAC7D,OAAIA,EAAM,OAAO,QAAQ,YAChBoB,GAAqCpB,EAAM,OAAO,QAAQ,WAAW,EAGvEA,EAAM,OAAO,QAAQ,aAAemB,EAC7C,CASO,SAASE,GACdrB,EACAsB,EACAC,EAC8B,CAC9B,IAAIC,EAAkBxB,EAAM,OAAO,iBAEnC,GAAIwB,EAEF,SAAI,OAAuBA,CAAe,EAAE,UAAS,OAAuBF,CAAY,EAAE,SACxFE,EAAkB,CAAE,GAAGF,CAAa,EACpCtB,EAAM,MAAO,iBAAmBwB,GAE3BA,EACF,CAELA,EAAkB,CAAE,GAAGF,CAAa,EACpC,MAAMG,EAAW,KAAK,IAAIzB,EAAM,OAAO,OAAQuB,EAAW,GAAI,EAE9D,QAAShhB,EAAIghB,EAAW,EAAGhhB,EAAIkhB,EAAUlhB,IAAK,CAC5C,MAAMmhB,EAAmB1B,EAAM,UAAUA,EAAM,OAAOzf,CAAC,CAAC,GAAKyf,EAAM,OAAOzf,CAAC,KACvE,OAAuBihB,CAAe,EAAE,UAAS,OAAuBE,CAAgB,EAAE,SAC5FF,EAAgB,KAAOF,EAAa,KAExC,CAEA,OAAItB,EAAM,MACRA,EAAM,MAAM,iBAAmBwB,EAE/BxB,EAAM,MAAQ,CAAE,iBAAkBwB,CAAgB,EAG7CA,CACT,CACF,CAGA,MAAMG,GAAkC,GAClCC,GAAqC,GACrCC,GAAqC,EAMpC,SAASC,GACdnC,EACAoC,EACAT,EACY,CAEZ,MAAMU,EAAkBrC,EAAM,OAAS,EAAI,IAG3C,IAAIsC,EACAC,EACAC,EAEJ,GAAIJ,EAAY,OAAS,KAAqB,UAC5CE,EAAYX,EAAa,cAChBS,EAAY,OAAS,KAAqB,gBAAiB,CACpE,MAAMjL,EAAOiL,EAAY,MAAQ,KAA+B,SAEhE,GAAIjL,IAAS,KAA+B,MAC1CmL,KAAY,OAA+BX,EAAa,MAAQ3B,EAAM,MAAM,EAC5EuC,KAAUE,GAAA,GAAUd,EAAa,KAAK,EAAE,YAAY,EACpDa,KAAeC,GAAA,GAAUd,EAAa,KAAK,EACxC,OAAOK,GAAkCK,CAAe,EACxD,YAAY,UACNlL,IAAS,KAA+B,SAAU,CAC3D,MAAMuL,KAAaD,GAAA,GAAUd,EAAa,KAAK,EAC5C,OAAOM,GAAqCI,CAAe,EAC3D,YAAY,EACTM,KAAWF,GAAA,GAAUd,EAAa,KAAK,EAC1C,OAAOK,GAAkCK,CAAe,EACxD,KAAKH,EAAkC,EAC1CI,KAAY,OAA+BX,EAAa,MAAQ3B,EAAM,MAAM,EAC5EuC,EAAU,2BAA2BI,EAAS,YAAY,CAAC,KAAKhB,EAAa,KAAK,IAClFa,EAAe,2BAA2BG,EAAS,YAAY,CAAC,KAAKD,CAAU,GACjF,CACF,CAEA,MAAO,CAAE,UAAAJ,EAAW,QAAAC,EAAS,aAAAC,CAAa,CAC5C,CAMO,MAAMI,GAAqBC,GACzB,OAAOA,GAAY,SAAWA,EAAU,WAAWA,CAAO,GAAK,EAO3DC,GAAe,CAACzC,EAAcppB,IAAmB,CAC5D,IAAI8rB,EAOJ,GANI1C,EAAM,WACR0C,EAAQ1C,EAAM,SAAS,CACrB,cAAeppB,CACjB,CAAC,GAGC,EAAC8rB,EAIL,SAASniB,EAAI,EAAGA,EAAImiB,GAAO,OAAQniB,IACjC,GAAImiB,EAAMniB,CAAC,EAAE,QAAS,CACpB,MAAMoiB,EAAcD,EAAMniB,CAAC,EAAE,QAE7BmiB,EAAMniB,CAAC,EAAE,QAAW5L,GAAsB,CAElCA,EAAM,SAAWA,EAAM,SAAWA,EAAM,WAC5CA,EAAM,eAAe,EACrBguB,EAAahuB,EAAO,CAClB,MAAAqrB,EACA,SAAUppB,CACZ,CAAC,EAEL,CACF,CAGF,OAAO8rB,EAAM,OAAQE,GAASA,EAAK,MAAQA,EAAK,SAAW,IAAI,EACjE,EAMO,SAASC,GACdvsB,EACA+pB,EACAtV,EACA+X,EAA2BC,GAAe1C,CAAM,EAChD2C,EAA2BC,GAAiB5C,CAAM,EACtC,CACZ,GAAItV,EAAY,SAAW,EACzB,OAAOzU,EAGT,MAAM4sB,EAAc,CAACC,EAAaC,IAAwB,CACxD,IAAIC,EAAS,EACb,QAAS9iB,EAAI,EAAGA,EAAIwK,EAAY,OAAQxK,IAAK,CAC3C,KAAM,CAAE,UAAA+iB,EAAW,UAAA3tB,CAAU,EAAIoV,EAAYxK,CAAC,EACxCgjB,EAAUC,GAAcV,EAAYQ,CAAS,CAAC,EAIpD,GADAD,GAFgB1tB,IAAc,MAAQ,EAAI,IAEvB4tB,EAAQJ,EAAEG,CAAS,EAAGF,EAAEE,CAAS,CAAC,EACjDD,IAAW,EACb,KAEJ,CACA,OAAOA,CACT,EAGA,OAAIL,EACKS,GAAuBntB,EAAOotB,GAAY,CAAC,GAAGA,CAAO,EAAE,KAAKR,CAAW,CAAC,EAI1E,CAAC,GAAG5sB,CAAI,EAAE,KAAK4sB,CAAW,CACnC,CAMO,MAAMS,GAAkBC,GAAiC,CAC9D,MAAMC,EAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAQPD,EAAM,OAAO,IAAI,CAAC5D,EAAO8D,IAAa,GAAG,KAAK,UAAUjD,GAAeb,CAAK,CAAC,CAAC,YAAY8D,CAAQ,MAAM,EAAE,KAAK,GAAG,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAe3H,OADgB,IAAI,SAAS,QAASD,CAAM,EAC7BD,CAAK,CACtB,EAKML,GAAU,IAAI,KAAK,SAAS,KAAM,CAAE,YAAa,OAAQ,QAAS,EAAK,CAAC,EAAE,QAC1EQ,GAAyB,CAACZ,EAAGC,IAAMG,GAAQ,OAAOJ,GAAK,EAAE,EAAG,OAAOC,GAAK,EAAE,CAAC,EAC3EY,GAAyB,CAACb,EAAGC,IAC7BD,IAAMC,EACD,EAELD,GAAK,KACA,GAELC,GAAK,KACA,EAEF,OAAOD,CAAC,EAAI,OAAOC,CAAC,EAEvBa,GAA2B,CAACd,EAAGC,KAE3BD,GAAG,OAAS,IAAMC,GAAG,OAAS,GAMjC,SAASI,GAAcU,EAAuC,CACnE,OAAQA,EAAgB,CAEtB,KAAK,MAAU,MACb,OAAOD,GACT,KAAK,MAAU,KACf,KAAK,MAAU,OACf,KAAK,MAAU,QACb,OAAOD,GACT,KAAK,MAAU,OACf,KAAK,MAAU,KACf,QACE,OAAOD,EACX,CACF,CAMA,MAAMI,GAA2G,CAC/G,CAAC,KAAqB,UAAU,EAAG,KAAoB,MACvD,CAAC,KAAqB,aAAa,EAAG,KAAoB,SAC1D,CAAC,KAAqB,QAAQ,EAAG,KAAoB,GACvD,EAKMC,GAGF,CACF,CAAC,KAAqB,eAAe,EAAG,KAA+B,SACvE,CAAC,KAAqB,oBAAoB,EAAG,KAA+B,KAC9E,EAUO,SAAShD,GAAqCiD,EAAqD,CACxG,OAAQA,EAAa,CAEnB,KAAK,KAAqB,WAC1B,KAAK,KAAqB,cAC1B,KAAK,KAAqB,SACxB,MAAO,CACL,KAAM,KAAqB,MAC3B,KAAMF,GAAgDE,CAAW,CACnE,EAEF,KAAK,KAAqB,gBAC1B,KAAK,KAAqB,qBACxB,MAAO,CACL,KAAM,KAAqB,gBAC3B,KAAMD,GAA2DC,CAAW,CAC9E,EAGF,KAAK,KAAqB,OACxB,MAAO,CACL,KAAM,KAAqB,IAC7B,EACF,QACE,MAAO,CACL,KAAMA,CACR,CACJ,CACF,CAMO,MAAMpB,GAAoB5C,GAC/BA,EAAO,KAAK,CAAC,CAAE,KAAAiE,CAAK,IAAMA,IAAS,MAAU,YAAY,EAM9Cb,GAAyB,CACpCntB,EACAiuB,IACe,CAIf,MAAMC,EAAyB,CAAC,EAC1BrJ,EAAmC,IAAI,IAE7C,UAAWsJ,KAAOnuB,EACZ,OAAOmuB,EAAI,OAAO,IAAM,EAC1BD,EAAW,KAAKC,CAAG,EAEnBtJ,EAAU,IAAI,OAAOsJ,EAAI,OAAO,EAAGA,CAAG,EAK1C,MAAMC,EAAmBH,EAAeC,CAAU,EAG5CnB,EAAqB,CAAC,EAC5B,OAAAqB,EAAiB,QAASD,GAAQ,CAChCpB,EAAO,KAAKoB,CAAG,EACf,MAAME,EAAWxJ,EAAU,IAAI,OAAOsJ,EAAI,OAAO,CAAC,EAC9CE,GACFtB,EAAO,KAAKsB,CAAQ,CAExB,CAAC,EAEMtB,CACT,EAMaxC,GAAkBb,GACtBA,EAAM,OAAO,aAAeA,EAAM,KAOpC,SAAS4E,GAAiBvE,EAA0B,CACzD,OAAOA,EAAO,OAAQL,GAAUA,EAAM,OAAS,MAAU,cAAgBA,EAAM,OAAO,QAAQ,SAAW,EAAI,CAC/G,CAMO,SAAS+C,GAAe1C,EAA8B,CAC3D,OAAOA,EAAO,OAAoB,CAACwE,EAAK7E,IAAU,CAChD,OAAQA,EAAM,KAAM,CAClB,KAAK,MAAU,aACb,MAAO,CAAE,GAAG6E,EAAK,GAAG9B,GAAe/C,EAAM,OAAO,CAAC,IAAI,CAAC,GAAG,QAAU,CAAC,CAAC,CAAE,EACzE,QACE,MAAO,CAAE,GAAG6E,EAAK,CAAChE,GAAeb,CAAK,CAAC,EAAGA,EAAM,IAAK,CACzD,CACF,EAAG,CAAC,CAAC,CACP,CAQO,SAAS8E,GAAiBzE,EAAiB0E,EAAoB,CACpE,IAAIC,EAAY,EACZC,EAAe,EAEnB,OACE5E,EAEG,IAAKL,GAAU,CACd,MAAMhmB,EAAgBgmB,EAAM,OAAO,QAAQ,OAAS,EAEpD,OAAIhmB,IAAU,EACZgrB,IAEAC,GAAgBjrB,EAGXA,CACT,CAAC,EAEA,IACC,CAACA,EAAOuG,IACNvG,GACA,KAAK,IAAIqmB,EAAO9f,CAAC,EAAE,OAAO,QAAQ,UAAYif,GAAO,eAAgBuF,EAAaE,GAAgBD,CAAS,CAC/G,CAEN,CAMO,SAASE,GAAkB7E,EAAiBV,EAAiE,CAClH,UAAWK,KAASK,EAAQ,CAC1B,MAAM0B,EAAc7B,GAAeF,CAAK,EAClCmF,EAAenF,EAAM,QAC3B,GACEmF,IAAiB,QACjBpD,EAAY,OAAS,KAAqB,iBAC1CA,EAAY,aAAe,GAE3B,OAAQR,GAAqBO,GAAcnC,EAAOoC,EAAaoD,EAAanF,EAAM,OAAOuB,CAAQ,CAAC,CAAC,CAEvG,CACF,CAGO,SAAS6D,GAA4BpF,EAAcqF,EAAgC,CACxF,OACEA,IAAa,KAAqB,WAClCA,IAAa,KAAqB,UACjCrF,EAAM,OAAO,OAAO,QAAU,IAAMA,EAAM,OAAO,SAAS,QAAU,GAAK,CAE9E,CC5mBO,SAASsF,GAA2BhvB,EAAa0pB,EAAe,CACrE,GAAI,CAACA,GAAS1pB,EAAK,SAAW,EAC5B,MAAO,CAAC,EAGV,MAAMivB,EAA8B,CAAC,EAErC,QAASnsB,EAAQ,EAAGA,EAAQ9C,EAAK,OAAQ8C,IAAS,CAEhD,MAAMosB,EADMlvB,EAAK8C,CAAK,EACCynB,GAAeb,CAAK,CAAC,EACtCsB,EAAetB,EAAM,QAAUA,EAAM,QAAQwF,CAAU,EAAIA,EAC3D9pB,EAAQskB,EAAM,WAAU,OAAuBsB,CAAY,EAAIA,EAErEiE,EAAI7pB,GAAS,UAAU,EAAIA,CAC7B,CAEA,OAAO6pB,CACT,CAEO,SAASE,GAAmB7M,EAA4B8M,EAAqD,CAClH,OAAKA,EAIE9M,EAAQ,OAAQ+M,GAAWD,EAAa,KAAME,GAAaA,EAAS,QAAUD,EAAO,KAAK,CAAC,EAHzF,CAAC,CAIZ,CAEO,SAASE,GAAgBC,EAAoD,CAClF,OAAO,OAAO,KAAKA,CAAM,EACtB,IAAKtwB,IAAS,CAAE,MAAOswB,EAAOtwB,CAAG,EAAG,MAAOA,CAAI,EAAE,EACjD,KAAKuwB,EAAW,CACrB,CAEA,SAASA,GAAY5C,EAAoBC,EAA4B,CACnE,OAAID,EAAE,QAAU,QAAaC,EAAE,QAAU,OAChC,EAGLD,EAAE,QAAU,QAAaC,EAAE,QAAU,OAChC,GAGLD,EAAE,QAAU,QAAaC,EAAE,QAAU,OAChC,EAGLD,EAAE,MAASC,EAAE,MACR,GAGLD,EAAE,MAASC,EAAE,MACR,EAGF,CACT,CCxCO,MAAM4C,GAAuE,CAClF,SAAU,CAAE,MAAO,WAAY,MAAO,WAAY,YAAa,UAAW,EAC1E,IAAK,CAAE,MAAO,IAAK,MAAO,IAAK,YAAa,QAAS,EACrD,KAAM,CAAE,MAAO,KAAM,MAAO,KAAM,YAAa,YAAa,EAC5D,IAAK,CAAE,MAAO,IAAK,MAAO,IAAK,YAAa,SAAU,EACtD,KAAM,CAAE,MAAO,KAAM,MAAO,KAAM,YAAa,kBAAmB,EAClE,IAAK,CAAE,MAAO,IAAK,MAAO,IAAK,YAAa,MAAO,EACnD,KAAM,CAAE,MAAO,KAAM,MAAO,KAAM,YAAa,eAAgB,EAC/D,WAAY,CACV,MAAO,aACP,MAAO,aACP,YAAa,mGACf,CACF,EACMC,GAAY,OAAO,OAAOD,EAAwB,EAe3CE,GAAc,CAAC,CAC1B,KAAAC,EACA,KAAA7vB,EACA,YAAA8vB,EACA,UAAAC,EACA,QAAA5c,EACA,MAAAuW,EACA,aAAAsG,EACA,gBAAAC,EACA,SAAAC,EACA,YAAAC,CACF,IAAa,CACX,MAAM9G,KAAQ,OAAU,EAClB+G,KAAe,WAAQ,IAAMpB,GAA2BhvB,EAAM0pB,CAAK,EAAG,CAAC1pB,EAAM0pB,CAAK,CAAC,EACnFpH,KAAU,WAAQ,IAAMiN,GAAgBa,CAAY,EAAG,CAACA,CAAY,CAAC,EACrEC,KAAkB,WAAQ,IAAMlB,GAAmB7M,EAASwN,CAAW,EAAG,CAACxN,EAASwN,CAAW,CAAC,EAChG,CAACQ,EAAQC,CAAS,KAAI,YAA4BF,CAAe,EACjE,CAACG,EAAWC,CAAY,KAAI,YAAS,EAAK,EAE1CC,KAAW,eAAaryB,GAA6B8U,EAAQ,EAAG,CAACA,CAAO,CAAC,EAEzEwd,KAAW,eACdtyB,GAA4B,CAC3B,GAAIiyB,EAAO,SAAW,EAAG,CAEvB,MAAMM,EAAc,IAAI,IAAIN,EAAO,IAAKO,GAASA,EAAK,KAAK,CAAC,EAE5Dd,EAAWe,IAAwB,CACjC,GAAGA,EACH,CAACjB,CAAI,EAAG,CAAE,SAAUS,EAAQ,YAAAM,EAAa,aAAAZ,EAAc,SAAAE,CAAS,CAClE,EAAE,CACJ,MACEH,EAAWe,GAAuB,CAChC,MAAMC,EAAY,CAAE,GAAGD,CAAO,EAC9B,cAAOC,EAAUlB,CAAI,EACdkB,CACT,CAAC,EAEH5d,EAAQ,CACV,EACA,CAAC4c,EAAWO,EAAQnd,CAAO,CAC7B,EAEM6d,KAAgB,eACnB3yB,GAA4B,CAC3B0xB,EAAWe,GAAuB,CAChC,MAAMC,EAAY,CAAE,GAAGD,CAAO,EAC9B,cAAOC,EAAUlB,CAAI,EACdkB,CACT,CAAC,EACD5d,EAAQ,CACV,EACA,CAAC4c,EAAW5c,CAAO,CACrB,EAEM8d,KAAqB,WAAQ,IAAMnB,IAAgB,OAAW,CAACA,CAAW,CAAC,EAC3EoB,KAAS,OAAWC,EAAS,EAEnC,SACE,OAACC,GAAA,EAAmB,CAAC,QAASV,EAAU,WAAY,GAGlD,mBAAC,OAAI,UAAWQ,EAAO,gBAAiB,QAAS,GAC/C,oBAACG,GAAA,EAAK,CAAC,UAAU,SACf,qBAACA,GAAA,EAAK,CAAC,WAAW,SACf,UAAA3H,MAAS,OAAC4H,GAAA,EAAK,CAAC,UAAWJ,EAAO,MAAQ,SAAA3G,GAAeb,CAAK,EAAE,KACjE,OAAC6H,GAAA,GACC,QAAQ,SACR,QAAS5B,GACT,SAAUQ,EACV,MAAOD,EACP,QAASA,EAAS,YACpB,GACF,KAEA,OAAC,OAAI,UAAWgB,EAAO,YAAa,KAEpC,QAACG,GAAA,EAAK,CAAC,IAAK,EACV,oBAACG,GAAA,GACC,eAAa,MAAE,kDAAmD,eAAe,EACjF,SAAUvB,EACV,MAAOD,CAAA,CACT,KACA,OAACyB,GAAA,IACC,QAAQ,YACR,MAAO,CAAE,MAAOjB,EAAYnH,EAAM,OAAO,KAAK,KAAOA,EAAM,OAAO,KAAK,QAAS,EAChF,QAAS,IAAM,CACboH,EAAciB,GAAM,CAACA,CAAC,CACxB,EACA,KAAM,cACR,GACF,KAEA,OAACC,GAAA,CACC,SAAUpB,EACV,OAAAD,EACA,QAAAhO,EACA,cAAekO,EACf,aAAAR,EACA,SAAAE,CAAA,CACF,KAEA,QAACmB,GAAA,EAAK,CAAC,IAAK,EACV,qBAACA,GAAA,EAAK,CACJ,oBAACI,GAAA,GAAM,CAAC,KAAK,KAAK,QAASd,EACzB,mBAAC,MAAK,CAAC,QAAQ,sCAAsC,cAAE,EACzD,KACA,OAACc,GAAA,GAAM,CAAC,KAAK,KAAK,QAAQ,YAAY,QAASf,EAC7C,mBAAC,MAAK,CAAC,QAAQ,uCAAuC,kBAAM,EAC9D,GACF,EACCO,MACC,OAACI,GAAA,EAAK,CACJ,mBAACI,GAAA,GAAM,CAAC,KAAK,OAAO,KAAK,KAAK,QAAST,EACrC,mBAAC,MAAK,CAAC,QAAQ,sCAAsC,wBAAY,EACnE,EACF,GAEJ,GACF,EACF,EACF,CAEJ,EAEMG,GAAa9H,IAA0B,CAC3C,mBAAiB,OAAI,CACnB,MAAO,kBACP,MAAO,OACP,SAAU,QACV,OAAQ,OACR,gBAAiBA,EAAM,OAAO,WAAW,QACzC,OAAQ,aAAaA,EAAM,OAAO,OAAO,IAAI,GAC7C,QAASA,EAAM,QAAQ,CAAC,EACxB,UAAWA,EAAM,QAAQ,GACzB,aAAcA,EAAM,MAAM,OAAO,OACnC,CAAC,EACD,eAAa,OAAI,CACf,MAAO,cACP,MAAO,OACP,UAAW,aAAaA,EAAM,OAAO,OAAO,MAAM,EACpD,CAAC,EACD,SAAO,OAAI,CACT,aAAc,CAChB,CAAC,CACH,GAEM,GAAmBhrB,GAA4B,CACnDA,EAAM,gBAAgB,CACxB,EC7KMuzB,GAAc,GACdC,GAAaD,GAAc,EAEpBE,GAAiBpC,GAAyB,SACjDqC,GAAerC,GAAyB,WAExCsC,GAAmB5sB,GAAoD,CAI3E,GAHAA,EAAQA,EAAM,KAAK,EAAE,QAAQ,MAAO,EAAE,EAGlC,2CAA2C,KAAKA,CAAK,EAAG,CAC1D,MAAM6sB,EAAO,IAAI,KAAK7sB,CAAK,EAC3B,GAAI,CAAC,MAAM6sB,EAAK,QAAQ,CAAC,EAAG,CAC1B,MAAMC,KAAM,OAAe,eAAe,EAC1C,SAAO,OAAuBA,EAAID,EAAK,QAAQ,CAAC,CAAC,CACnD,CACF,CAEA,MAAME,EAAM,WAAW/sB,CAAK,EAC5B,GAAI,CAAC,MAAM+sB,CAAG,EACZ,OAAOA,EAGT,MAAMC,EAAShtB,EAAM,YAAY,EACjC,OAAIgtB,IAAW,QAAUA,IAAW,QAC3BA,IAAW,OAGbhtB,CACT,EAEausB,GAAa,CAAC,CAAE,QAAArP,EAAS,OAAAgO,EAAQ,cAAA+B,EAAe,SAAAvuB,EAAU,aAAAksB,EAAc,SAAAE,CAAS,IAAa,CACzG,MAAMoC,KAAQ,WAAQ,IAAM,IAAI,OAAOtC,EAAcqC,EAAgB,OAAY,GAAG,EAAG,CAACrC,EAAcqC,CAAa,CAAC,EAC9GE,KAAQ,WACZ,IACEjQ,EAAQ,OAAQ+M,GAAW,CACzB,GAAI,CAACW,GAAgBE,EAAS,QAAU4B,GAAe,MACrD,OAAIzC,EAAO,QAAU,OACZ,GAEFiD,EAAM,KAAKjD,EAAO,KAAK,EACzB,GAAIa,EAAS,QAAU6B,GAAa,MAAO,CAChD,GAAI1C,EAAO,QAAU,OACnB,MAAO,GAET,GAAI,CACF,MAAMmD,EAAMxC,EAAa,QAAQ,MAAO,EAAE,EACpCyC,EAAM,IAAI,SAAS,IAAK,wBAAwBD,CAAG,GAAG,EACtDE,EAAMV,GAAgB3C,EAAO,KAAK,EACxC,OAAOoD,EAAIC,CAAG,CAChB,MAAY,CAAC,CACb,MAAO,EACT,KAAO,CACL,GAAIrD,EAAO,QAAU,OACnB,MAAO,GAGT,MAAMsD,EAASX,GAAgB3C,EAAO,KAAK,EACrCuD,EAASZ,GAAgBhC,CAAY,EAE3C,OAAQE,EAAS,MAAO,CACtB,IAAK,IACH,OAAOyC,IAAWC,EACpB,IAAK,KACH,OAAOD,IAAWC,EACpB,IAAK,IACH,OAAOD,EAASC,EAClB,IAAK,KACH,OAAOD,GAAUC,EACnB,IAAK,IACH,OAAOD,EAASC,EAClB,IAAK,KACH,OAAOD,GAAUC,CACrB,CACA,MAAO,EACT,CACF,CAAC,EACH,CAACtQ,EAASgQ,EAAOpC,EAAUF,CAAY,CACzC,EACM6C,KAAgB,WAAQ,IAAMN,EAAM,OAAQ1B,GAASP,EAAO,SAASO,CAAI,CAAC,EAAG,CAAC0B,EAAOjC,CAAM,CAAC,EAE5FwC,KAAmB,WAAQ,IAAMP,EAAM,SAAWM,EAAc,OAAQ,CAACN,EAAOM,CAAa,CAAC,EAC9FE,KAA2B,WAC/B,IAAMF,EAAc,OAAS,GAAKN,EAAM,OAASM,EAAc,OAC/D,CAACN,EAAOM,CAAa,CACvB,EACMG,KAAmB,WACvB,IAAOH,EAAc,OAAS,GAAGA,EAAc,MAAM,YAAc,aACnE,CAACA,CAAa,CAChB,EACMI,KAAyB,WAC7B,IACEV,EAAM,SAAWM,EAAc,OAC3B,yCACA,8CACN,CAACN,EAAOM,CAAa,CACvB,EAEM3B,KAAS,OAAW,EAAS,EAE7BgC,KADQ,OAAU,EACH,QAAQ,SACvBzlB,KAAS,WAAQ,IAAM,KAAK,IAAI8kB,EAAM,OAASX,GAAaC,EAAU,EAAIqB,EAAQ,CAACA,EAAQX,EAAM,MAAM,CAAC,EAExGY,KAAmB,eACtB9D,GAA6BhxB,GAA6C,CACzE,MAAM+0B,EAAY/0B,EAAM,cAAc,QAClCiyB,EAAO,OAAOjB,CAAM,EACpBiB,EAAO,OAAQ+C,GAAMA,EAAE,QAAUhE,EAAO,KAAK,EAEjDvrB,EAASsvB,CAAS,CACpB,EACA,CAACtvB,EAAUwsB,CAAM,CACnB,EAEMgD,KAAkB,eAAY,IAAM,CACxC,GAAIf,EAAM,SAAWM,EAAc,OAAQ,CACzC,MAAMO,EAAY9C,EAAO,OAAQO,GAAS,CAAC0B,EAAM,SAAS1B,CAAI,CAAC,EAC/D/sB,EAASsvB,CAAS,CACpB,KAAO,CACL,MAAMA,EAAY,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG9C,EAAQ,GAAGiC,CAAK,CAAC,CAAC,EACpDzuB,EAASsvB,CAAS,CACpB,CACF,EAAG,CAACtvB,EAAUwsB,EAAQiC,EAAOM,CAAa,CAAC,EAE3C,SACE,OAACxB,GAAA,EAAK,CAAC,UAAU,SACd,SAAAkB,EAAM,OAAS,KACd,oBACE,oBAAC,OACC,OAAA9kB,EACA,UAAW8kB,EAAM,OACjB,SAAUX,GACV,SAAU,CAAE,MAAAW,EAAO,OAAQM,EAAe,iBAAAM,EAAkB,UAAWjC,EAAO,aAAc,EAC5F,MAAM,OACN,UAAWA,EAAO,WAEjB,SAAAqC,EAAA,CACH,KACA,OAAC,OAAI,UAAWrC,EAAO,cACrB,mBAACsC,GAAA,GACC,MAAOV,EACP,cAAeC,EACf,MAAOC,EACP,YAAaC,EACb,SAAUK,CAAA,CACZ,EACF,GACF,KAEA,OAAChC,GAAA,EAAK,CAAC,UAAWJ,EAAO,cACvB,mBAAC,MAAK,CAAC,QAAQ,mCAAmC,qBAAS,EAC7D,EAEJ,CAEJ,EAWA,SAASqC,GAAa,CAAE,MAAAzwB,EAAO,MAAAwO,EAAO,KAAM,CAAE,iBAAA6hB,EAAkB,MAAAZ,EAAO,OAAAjC,EAAQ,UAAA3f,CAAU,CAAE,EAAsB,CAC/G,MAAM0e,EAASkD,EAAMzvB,CAAK,EACpB,CAAE,MAAAsC,EAAO,MAAAquB,CAAM,EAAIpE,EACnBqE,EAAYpD,EAAO,KAAMoB,GAAMA,EAAE,QAAUtsB,CAAK,IAAM,OAE5D,SACE,OAAC,OAAI,UAAAuL,EAAsB,MAAAW,EAAc,MAAOmiB,EAC9C,mBAACD,GAAA,EAAQ,CAAC,MAAOE,EAAW,MAAAD,EAAc,SAAUN,EAAiB9D,CAAM,EAAG,EAChF,CAEJ,CAEA,MAAM,GAAahG,IAA0B,CAC3C,cAAY,OAAI,CACd,MAAO,aACP,gBAAiBA,EAAM,WAAW,MAAM,WACxC,OAAQ,aAAaA,EAAM,OAAO,OAAO,MAAM,GAC/C,aAAcA,EAAM,MAAM,OAAO,OACnC,CAAC,EACD,iBAAe,OAAI,CACjB,MAAO,gBACP,OAAQ,UACR,WAAY,SACZ,SAAU,SACV,aAAc,WACd,QAASA,EAAM,QAAQ,EAAG,EAE1B,SAAU,CACR,gBAAiBA,EAAM,OAAO,OAAO,KACvC,CACF,CAAC,EACD,iBAAe,OAAI,CACjB,MAAO,gBACP,MAAO,OACP,UAAW,aAAaA,EAAM,OAAO,OAAO,MAAM,GAClD,QAASA,EAAM,QAAQ,GAAK,CAAC,CAC/B,CAAC,EACD,iBAAe,OAAI,CACjB,WAAYA,EAAM,QAAQ,CAAC,CAC7B,CAAC,CACH,GC9MasK,GAAS,CAAC,CACrB,KAAA9D,EACA,KAAA7vB,EACA,OAAA8wB,EACA,UAAAf,EACA,MAAArG,EACA,iBAAAkK,EACA,gBAAAC,EACA,cAAAC,CACF,IAAa,CACX,MAAMhE,EAAcgB,EAAOjB,CAAI,GAAG,SAG5BkE,EAAcH,EAAiB,QAAQ/D,CAAI,EACjD,IAAImE,EACJ,GAAID,EAAc,EAAG,CAEnB,MAAME,EAAqBL,EAAiBG,EAAc,CAAC,EAC3DC,EAAeH,EAAgBI,CAAkB,CACnD,SAAWF,IAAgB,IAAMH,EAAiB,OAAS,EAAG,CAE5D,MAAMK,EAAqBL,EAAiBA,EAAiB,OAAS,CAAC,EACvEI,EAAeH,EAAgBI,CAAkB,CACnD,MACED,EAAeh0B,EAGjB,MAAMoO,KAAM,UAA0B,IAAI,EACpC,CAAC8lB,EAAkBC,CAAiB,KAAI,YAAkB,EAAK,EAC/DjD,KAAS,OAAW,EAAS,EAC7BkD,EAAgB,EAAQtE,EACxB,CAACE,EAAcC,CAAe,KAAI,YAASa,EAAOjB,CAAI,GAAG,cAAgB,EAAE,EAC3E,CAACK,EAAUC,CAAW,KAAI,YAAkCW,EAAOjB,CAAI,GAAG,UAAYiC,EAAc,EAE1G,SACE,QAAC,UACC,UAAWZ,EAAO,aAClB,IAAA9iB,EACA,KAAK,SACL,QAAUimB,GAAO,CACfF,EAAkB,EAAI,EACtBE,EAAG,gBAAgB,CACrB,EAEA,oBAACC,GAAA,EAAI,CAAC,KAAK,SAAS,aAAW,MAAGR,EAAe,CAAE,CAAC5C,EAAO,iBAAiB,EAAGkD,CAAc,CAAC,EAAG,EAChGF,GAAoB9lB,EAAI,YACvB,OAACmmB,GAAA,GACC,WACE,OAAC3E,GAAA,CACC,KAAAC,EACA,KAAMmE,EACN,YAAAlE,EACA,UAAAC,EACA,MAAArG,EACA,QAAS,IAAMyK,EAAkB,EAAK,EACtC,aAAAnE,EACA,gBAAAC,EACA,SAAAC,EACA,YAAAC,CAAA,CACF,EAEF,UAAY9xB,GAAU,CAChBA,EAAM,MAAQ,KAChBA,EAAM,gBAAgB,CAE1B,EACA,UAAU,eACV,iBAAkB+P,EAAI,QACtB,KAAI,GACN,GAEJ,CAEJ,EAEM,GAAaib,IAA0B,CAC3C,gBAAc,OAAI,CAChB,WAAY,cACZ,OAAQ,OACR,MAAO,eACP,QAAS,EACT,UAAW,UACb,CAAC,EACD,qBAAmB,OAAI,CACrB,MAAO,oBACP,MAAOA,EAAM,OAAO,QAAQ,IAC9B,CAAC,CACH,GCtFM,GAAwC,CAAC,CAC7C,OAAArrB,EACA,KAAAgC,EACA,MAAA0pB,EACA,UAAArqB,EACA,OAAAyxB,EACA,UAAAf,EACA,iBAAA6D,EACA,gBAAAC,EACA,cAAAW,CACF,IAAM,CACJ,MAAMC,EAAiB/K,EAAM,OAAO,QAAQ,gBAAkB,GACxDwH,KAAS,OAAW,GAAWuD,CAAc,EAC7CC,EAAcnK,GAAeb,CAAK,EAClCiL,EAAajL,EAAM,OAAO,QAAQ,YAAc,GAGtD,sBAAU,IAAM,CACV,CAACiL,GAAc7D,EAAO4D,CAAW,GACnC3E,EAAWe,GAAuB,CAChC,MAAMC,EAAY,CAAE,GAAGD,CAAO,EAC9B,cAAOC,EAAU2D,CAAW,EACrB3D,CACT,CAAC,CAEL,EAAG,CAAC4D,EAAYD,EAAa5D,EAAQf,CAAS,CAAC,KAG7C,oBACG,UAAAyE,MACC,OAACF,GAAA,EAAI,CAAC,UAAWpD,EAAO,eAAgB,QAAM,OAAiBxH,CAAK,EAAG,MAAOA,GAAO,KAAM,KAAK,IAAK,MAEvG,OAAC,QAAK,UAAWwH,EAAO,gBAAkB,SAAA3G,GAAeb,CAAK,EAAE,EAC/DrqB,MACC,OAACi1B,GAAA,GACC,aAAW,MAAGpD,EAAO,eAAgBA,EAAO,cAAc,EAC1D,KAAK,KACL,KAAM7xB,IAAc,MAAQ,WAAa,aAC3C,EAEDs1B,MACC,OAAChB,GAAA,CACC,KAAM31B,EAAO,IACb,KAAAgC,EACA,OAAA8wB,EACA,UAAAf,EACA,MAAArG,EACA,iBAAAkK,EACA,gBAAAC,EACA,cAAe3C,EAAO,eACxB,GAEJ,CAEJ,EAEM,GAAY,CAAC7H,EAAsBuL,KAA8B,CACrE,mBAAiB,OAAI,CACnB,OAAQ,UACR,WAAYvL,EAAM,WAAW,iBAC7B,MAAOA,EAAM,OAAO,KAAK,UACzB,SAAU,SACV,aAAc,WACd,WAAYuL,EAAiB,WAAa,SAC1C,UAAW,CACT,eAAgB,YAChB,MAAOvL,EAAM,OAAO,KAAK,IAC3B,CACF,CAAC,EACD,kBAAgB,OAAI,CAClB,aAAcA,EAAM,QAAQ,EAAG,EAC/B,UAAW,WACX,MAAOA,EAAM,OAAO,KAAK,SAC3B,CAAC,EACD,kBAAgB,OAAI,CAClB,aAAcA,EAAM,QAAQ,GAAI,CAClC,CAAC,CACH,GC7FO,SAASwL,GAAY,CAAE,OAAApnB,EAAQ,aAAAqnB,EAAc,WAAAnwB,CAAW,EAAuB,CACpF,MAAMusB,KAAS,OAAW,GAAWzjB,CAAM,EAC3C,SAAS3I,EAAcZ,EAAyC,EAC1DA,EAAE,MAAQ,KAAOA,EAAE,MAAQ,WAC7BA,EAAE,eAAe,EACjB4wB,EAAa5wB,CAAC,EAElB,CACA,SACE,OAAC,OAAI,KAAK,SAAS,SAAU,EAAG,UAAWgtB,EAAO,aAAc,QAAS4D,EAAc,UAAWhwB,EAChG,mBAACwvB,GAAA,GACC,aACE3vB,KACI,MAAE,iDAAkD,cAAc,KAClE,MAAE,4CAA6C,YAAY,EAEjE,KAAMA,EAAa,aAAe,cAClC,KAAK,KACP,EACF,CAEJ,CAEA,MAAM,GAAY,CAAC0kB,EAAsBla,KAAuB,CAC9D,gBAAc,OAAI,CAChB,QAAS,OACT,cAAe,SACf,eAAgB,SAChB,OAAQ,GAAGA,CAAS,KACpB,OAAQ,SACV,CAAC,CACH,G,wCCnBO,MAAM4lB,GAAsB,IACtBC,GAAsB,KCX5B,SAASC,GAAiBjxB,EAA8B,CAC7D,KAAM,CACJ,MAAA0lB,EACA,MAAAtkB,EACA,YAAAqmB,EACA,YAAAiJ,EACA,gBAAAQ,EACA,oBAAAC,EACA,kBAAAC,EACA,UAAAzkB,EACA,YAAA0kB,EACA,YAAAC,CACF,EAAItxB,EAEJ,SAIE,QAAC,OAAI,UAAA2M,EAAsB,QAAU0jB,GAAOA,EAAG,gBAAgB,EAC5D,UAAAgB,MACC,OAACE,GAAA,GACC,KAAK,MACL,gBAAY,MAAE,wCAAyC,eAAe,EACtE,QAAS,IAAM,CACb,IAAIC,EAAepwB,EACfob,EAAOiV,GAAA,EAAuB,KAE9B/L,EAAM,OAAS,MAAU,KAAOtkB,aAAiBswB,GAAA,GACnDF,EAAe,IAAIG,GAAA,EAAI,EAAE,cAAcvwB,EAAO,CAC5C,kBAAmB,YACnB,eAAgB,WAClB,CAAC,EACDob,EAAOiV,GAAA,EAAuB,MACrB,aAAchK,GAAeA,EAAY,WAAa,KAAqB,WACpFjL,EAAOiV,GAAA,EAAuB,MAGhCN,EAAoB,CAClB,MAAO,OAAOK,GAAgB,EAAE,EAChC,KAAAhV,CACF,CAAC,EACD0U,EAAgB,EAAI,CACtB,EACF,EAEDI,MACC,oBACE,oBAACC,GAAA,GACC,KAAM,cACN,gBAAY,MAAE,kCAAmC,kBAAkB,EACnE,QAAS,IAAM,CACbH,IAAoB,CAClB,IAAKV,EACL,SAAUK,GACV,MAAO,OAAO3vB,GAAS,EAAE,CAC3B,CAAC,CACH,EACF,KACA,OAACmwB,GAAA,GACC,KAAM,eACN,gBAAY,MAAE,mCAAoC,kBAAkB,EACpE,QAAS,IAAM,CACbH,IAAoB,CAClB,IAAKV,EACL,SAAUM,GACV,MAAO,OAAO5vB,GAAS,EAAE,CAC3B,CAAC,CACH,EACF,GACF,GAEJ,CAEJ,C,uCC3EO,MAAMwwB,GAAc,CAAC,CAAE,MAAAlM,EAAO,OAAAppB,EAAQ,WAAAu1B,CAAW,IAAuB,CAC7E,MAAM3E,KAAS,OAAW,EAAS,EAE7B4E,KAAU,WAAQ,IAAMD,EAAWnM,EAAOppB,CAAM,EAAG,CAACu1B,EAAYnM,EAAOppB,CAAM,CAAC,EAEpF,SACE,OAAC,OAAI,UAAW4wB,EAAO,WACpB,SAAA4E,EAAQ,IAAI,CAACC,EAAQ9rB,OACpB,OAAC+rB,GAAA,EAAY,CAAS,OAAAD,EAAgB,QAAQ,WAAY,EAAvC9rB,CAAuC,CAC3D,EACH,CAEJ,EAEM,GAAaof,IAA0B,CAC3C,cAAY,OAAI,CACd,QAAS,OACT,IAAK,CACP,CAAC,CACH,GClBM4M,GAAI,GACJC,GAAI,GACJC,GAAI,GAGJC,GAAQ,uCACRC,GAAO,aACPC,GAAQ,6BAERC,GAAQ,GAAGD,EAAK,6BAAWD,EAAI,GAAGD,EAAK,GAC7C,SAASI,GAAsBC,EAAK,CAChC,MAAMC,EAAKD,EAAI,YAAY,GAAG,EAAE,MAC1BE,EAAiBF,EAAI,cAC3BA,EAAI,cAAgB,QACpB,MAAMG,EAAIH,EAAI,YAAY,GAAG,EAAE,MAC/B,OAAAA,EAAI,cAAgBE,EACbC,EAAIF,CACf,CACA,SAASG,GAAWJ,EAAK,CAGrB,MAAMK,EAAqBN,GAAsBC,CAAG,EAAoC,EAAhC,WAAWA,EAAI,aAAa,EAE9EM,EAAS,CAAC,EAChB,QAAS,EAAI,EAAG,EAAIR,GAAM,OAAQ,IAC9BQ,EAAOR,GAAM,WAAW,CAAC,CAAC,EAAIE,EAAI,YAAYF,GAAM,CAAC,CAAC,EAAE,MAAQO,EACpE,MAAME,EAAc,WAAWP,EAAI,WAAW,EAC1CO,EAAc,IACdD,EAAOb,EAAC,EAAIc,GAGhB,MAAMC,EAAQ,CAAC,EACf,QAAS,EAAI,EAAG,EAAIX,GAAM,OAAQ,IAAK,CACnC,IAAIY,EAAKZ,GAAM,WAAW,CAAC,EAC3BW,EAAMC,CAAE,EAAI,CAAC,EACb,QAASC,EAAI,EAAGA,EAAIZ,GAAM,OAAQY,IAAK,CACnC,IAAIC,EAAKb,GAAM,WAAWY,CAAC,EACvBE,EAAMZ,EAAI,YAAY,GAAGH,GAAM,CAAC,CAAC,GAAGC,GAAMY,CAAC,CAAC,EAAE,EAAE,MAAQJ,EAAOK,CAAE,EAAIN,EACzEG,EAAMC,CAAE,EAAEE,CAAE,EAAIC,CACpB,CACJ,CACA,MAAMC,EAAW,IAAM,CAAE,EACzB,SAASC,EAAKC,EAAM9zB,EAAO+zB,EAAKH,EAAU,CACtC,IAAII,EAAK,EACT,KAAOF,EAAK,WAAWE,CAAE,IAAMxB,IAC3BwB,IACJ,IAAIC,EAAKH,EAAK,OAAS,EACvB,KAAOA,EAAK,WAAWG,CAAE,IAAMzB,IAC3ByB,IACJ,IAAIC,EAAUF,EACVG,EAAU,EACVC,EAAU,EACVC,EAAU,GACVC,EAAU,EACVC,EAAO,GACX,QAAShuB,EAAIytB,EAAIztB,GAAK0tB,EAAI1tB,IAAK,CAC3B,IAAIopB,EAAImE,EAAK,WAAWvtB,CAAC,EACrB2sB,EAAI,EACR,GAAIvD,KAAK4D,EAAO,CACZ,IAAIiB,EAAIV,EAAK,WAAWvtB,EAAI,CAAC,EACzBiuB,KAAKjB,EAAM5D,CAAC,IACZuD,EAAIK,EAAM5D,CAAC,EAAE6E,CAAC,EACtB,CAGA,GAFItB,IAAM,IACNA,EAAIG,EAAO1D,CAAC,IAAM0D,EAAO1D,CAAC,EAAIoD,EAAI,YAAYe,EAAKvtB,CAAC,CAAC,EAAE,QACvDopB,IAAM6C,GAEFsB,EAAK,WAAWvtB,EAAI,CAAC,IAAMopB,IAC3B0E,EAAU9tB,EAAI,EACd+tB,EAAU,GAEV,CAACC,GAAQH,EAAU,IACnBA,GAAWlB,EACXiB,EAAU5tB,GAEdguB,EAAO,WAEF5E,IAAM8C,GAAG,CACd,GAAIsB,EAAGG,EAAS3tB,CAAC,IAAM,GACnB,OACJ2tB,EAAUC,EAAU5tB,EAAI,EACxB6tB,EAAUE,EAAU,EACpBA,EAAU,EACVD,EAAU,EACd,KACK,CACD,GAAIF,EAAUD,GAAWE,EAAUlB,EAAIlzB,EAAO,CAC1C,GAAI+zB,EAAGG,EAASC,CAAO,IAAM,GACzB,OACJC,EAAUE,EAAUpB,EACpBgB,EAAUC,EAAUE,EACpBC,EAAU,EACVD,EAAU,EACd,MAEQ1E,IAAM4C,IAEFuB,EAAK,WAAWvtB,EAAI,CAAC,IAAMopB,IAC3B0E,EAAUF,EAAU5tB,EAAI,EACxB+tB,EAAU,GAGlBF,GAAWlB,EACXoB,GAAWpB,EAEfqB,EAAO,EACX,CACJ,CACAR,EAAGG,EAASD,EAAK,CAAC,CACtB,CACA,MAAO,CACH,KAAAJ,EACA,MAAO,CAACC,EAAM9zB,EAAOy0B,EAAQ,MAAa,CACtC,IAAIC,EAAM,CAAC,EACX,OAAAb,EAAKC,EAAM9zB,EAAO,CAAC20B,EAAMC,IAAS,CAE9B,GADAF,EAAI,KAAKZ,EAAK,MAAMa,EAAMC,CAAI,CAAC,EAC3BF,EAAI,SAAWD,EACf,MAAO,EACf,CAAC,EACMC,CACX,EACA,MAAO,CAACZ,EAAM9zB,IAAU,CACpB,IAAI60B,EAAQ,EACZ,OAAAhB,EAAKC,EAAM9zB,EAAO,IAAM,CAAE60B,GAAS,CAAC,EAC7BA,CACX,EACA,KAAM,CAACf,EAAM9zB,IAAU,CACnB,IAAI60B,EAAQ,EACZ,OAAAhB,EAAKC,EAAM9zB,EAAO,IAAM,CACpB,GAAI,EAAE60B,IAAU,EACZ,MAAO,EACf,CAAC,EACMA,IAAU,CACrB,CACJ,CACJ,CC1HA,MAAMC,GAAoB,CAACrK,EAAejvB,EAAa6qB,IAAoB,CACzE,MAAML,EAAQK,EAAO,KAAML,GAAUa,GAAeb,CAAK,IAAMxqB,CAAG,EAClE,MAAI,CAACwqB,GAAS,CAACA,EAAM,QACZ,MAEc,OAAuBA,EAAM,QAAQyE,EAAIjvB,CAAG,CAAC,CAAC,CAEvE,EAcO,SAASu5B,GACdz4B,EACA+pB,EACA,CAAE,gBAAA2C,CAAgB,EACE,CAEpB,KAAM,CAACoE,EAAQf,CAAS,KAAI,YAAqB,CAAC,CAAC,EAC7CX,KAAe,WAAQ,IAAM,OAAO,QAAQ0B,CAAM,EAAG,CAACA,CAAM,CAAC,EAE7D8C,KAA2D,WAC/D,IAAM,MAAM,KAAK,IAAI,IAAIxE,EAAa,IAAI,CAAC,CAAClwB,CAAG,IAAMA,CAAG,CAAC,CAAC,EAC1D,CAACkwB,CAAY,CACf,EAEM,CAAC4E,EAAcH,CAAe,KAAI,WAAQ,IAAM,CACpD,MAAMA,EAAyD,CAAC,EAE1D6E,EAAcvK,GAA2B,CAC7C,SAAW,CAACjvB,EAAKkG,CAAK,IAAKgqB,EAAc,CACvC,MAAMuJ,EAAiBH,GAAkBrK,EAAKjvB,EAAK6qB,CAAM,EACzD,GAAI,CAAC3kB,EAAM,YAAY,IAAIuzB,CAAc,EACvC,MAAO,GAGT9E,EAAgB30B,CAAG,EAAI20B,EAAgB30B,CAAG,GAAK,CAAC,EAChD20B,EAAgB30B,CAAG,EAAE,KAAKivB,CAAG,CAC/B,CACA,MAAO,EACT,EAMA,MAAO,CAJczB,EACjBS,GAAuBntB,EAAOotB,GAAYA,EAAQ,OAAOsL,CAAU,CAAC,EACpE14B,EAAK,OAAO04B,CAAU,EAEJ7E,CAAe,CACvC,EAAG,CAACzE,EAAcpvB,EAAM+pB,EAAQ2C,CAAe,CAAC,EAEhD,MAAO,CACL,KAAMsH,EACN,OAAAlD,EACA,UAAAf,EACA,iBAAA6D,EACA,gBAAAC,CACF,CACF,CAaO,SAAS+E,GACd54B,EACA+pB,EACA,CAAE,cAAA8O,EAAe,gBAAAnM,CAAgB,EACf,CAClB,MAAMoM,KAAqB,WACzB,IACED,GAAe,QAAQ,CAAC,CAAE,YAAAnE,EAAa,KAAAqE,CAAK,IACrChP,EAAO,KAAM,GAAMQ,GAAe,CAAC,IAAMmK,CAAW,EAGlD,CACL,CACE,UAAWA,EACX,UAAWqE,EAAQ,OAAoB,KACzC,CACF,EAPS,CAAC,CAQX,GAAK,CAAC,EACT,CAAC,CACH,EACM,CAACtkB,EAAaukB,CAAc,KAAI,YAAuBF,CAAkB,EACzEtM,KAAc,WAAQ,IAAMC,GAAe1C,CAAM,EAAG,CAACA,CAAM,CAAC,EAOlE,MAAO,CACL,QANiB,WACjB,IAAMwC,GAAUvsB,EAAM+pB,EAAQtV,EAAa+X,EAAaE,CAAe,EACvE,CAAC1sB,EAAM+pB,EAAQtV,EAAaiY,EAAiBF,CAAW,CAC1D,EAIE,YAAA/X,EACA,eAAAukB,CACF,CACF,CAwBA,MAAMC,GAAoB,GAEnB,SAASC,GACdl5B,EACA,CAAE,OAAAyN,EAAQ,MAAA/J,EAAO,aAAAy1B,EAAc,aAAAC,EAAc,UAAAjqB,EAAW,QAAAkqB,CAAQ,EAC3C,CAErB,KAAM,CAACC,EAAMC,CAAO,KAAI,YAAS,CAAC,EAC5BC,EAAUx5B,EAAK,OAGfy5B,KAAe,WAAQ,IACtBJ,EAID,OAAOlqB,GAAc,SAChBA,EAIFnP,EAAK,MAAM,EAAG,GAAG,EAAE,OAAO,CAAC05B,EAAKvL,EAAK9J,EAAG,CAAE,OAAAsV,CAAO,IAAMD,EAAMvqB,EAAUgf,CAAG,EAAIwL,EAAQ,CAAC,EARrF,EASR,CAAC35B,EAAMmP,EAAWkqB,CAAO,CAAC,EAGvB,CAAE,SAAAO,EAAU,YAAAC,EAAa,eAAAC,EAAgB,aAAAC,EAAc,gBAAAC,CAAgB,KAAI,WAAQ,IAMpF,CACH,GAAI,CAACX,EACH,MAAO,CAAE,SAAU,EAAG,YAAa,EAAG,eAAgB,EAAG,aAAcG,EAAS,gBAAiB,EAAM,EAIzG,MAAMS,EAAgBxsB,EAAS0rB,EAAeC,EAAeH,GACvDiB,EAAe,KAAK,MAAMD,GAAiBR,GAAgB,EAAE,EAEnE,IAAII,EAAcK,EAAe,EAAIA,EAAe,EAGpD,MAAMJ,EAAiBR,EAAOO,EAAc,EAC5C,IAAIE,EAAeD,EAAiBD,EAAc,EAC9CE,EAAeP,IACjBO,EAAeP,GAEjB,MAAMQ,EAAkBt2B,EAAQylB,GAAM,iBAEtC,MAAO,CACL,SAFe,KAAK,KAAKqQ,EAAUK,CAAW,EAG9C,YAAAA,EACA,eAAAC,EACA,aAAAC,EACA,gBAAAC,CACF,CACF,EAAG,CAACt2B,EAAO+J,EAAQ0rB,EAAcC,EAAcK,EAAcJ,EAASG,EAASF,CAAI,CAAC,EAGpF,sBAAU,IAAM,CACTD,GAIDC,EAAOM,GAETL,EAAQK,EAAW,CAAC,CAExB,EAAG,CAACA,EAAUP,EAASC,EAAMC,CAAO,CAAC,EAW9B,CACL,QAToB,WAAQ,IAAM,CAClC,GAAI,CAACF,EACH,OAAOr5B,EAET,MAAMm6B,EAAab,EAAOO,EAC1B,OAAO75B,EAAK,MAAMm6B,EAAYA,EAAaN,CAAW,CACxD,EAAG,CAACP,EAAMO,EAAa75B,EAAMq5B,CAAO,CAAC,EAInC,KAAMA,EAAUC,EAAO,GACvB,QAAAC,EACA,SAAAK,EACA,YAAAC,EACA,eAAAC,EACA,aAAAC,EACA,gBAAAC,CACF,CACF,CAQO,SAASI,GACdp6B,EACA+pB,EACA,CAAE,QAAAsP,EAAS,cAAAgB,EAAe,eAAAC,CAAe,EAC/B,CACV,SAAO,WAAQ,IAAM,CACnB,MAAMC,EAAiBF,GAAe,QAEtC,MAAI,CAAChB,GAAW,CAACgB,GAAiB,CAAC,MAAM,QAAQE,CAAc,GAAK,CAACA,EAAe,OAC3E,CAAC,EAGHxQ,EAAO,IAAI,CAACL,EAAO5mB,IAAU,CAKlC,GAJI4mB,EAAM,OAAO,OACf,OAAOA,EAAM,OAAO,MAGlB4Q,EACF,OAAOx3B,IAAU,EAAI,GAAG9C,EAAK,MAAM,GAAK,GAG1C,GAAI8C,IAAU,EAAG,CACf,MAAM03B,EAAoBD,EAAe,CAAC,EAC1C,OAAOC,EAAoBC,GAAA,GAAc,IAAID,CAAiB,EAAE,KAAO,EACzE,CAEA,GAAI9Q,EAAM,OAAS,MAAU,OAC3B,MAAO,GAIT,MAAMgR,EAAYhR,EAAM,QAMxB,GALI,CAACgR,GAKDL,EAAc,QAAQ,QAAU,CAACA,EAAc,QAAQ,SAAS9P,GAAeb,CAAK,CAAC,EACvF,MAAO,GAGT,MAAMiR,EAAOJ,EAAe,CAAC,EACvBn1B,KAAQ,OAAY,CACxB,MAAO,CACL,GAAGskB,EACH,OAAQ1pB,EAAK,IAAKmuB,GAAQA,EAAI5D,GAAeb,CAAK,CAAC,CAAC,CACtD,EACA,SAAU6Q,CACZ,CAAC,EAAEI,CAAI,EAEP,SAAO,OAAuBD,EAAUt1B,CAAK,CAAC,CAChD,CAAC,CACH,EAAG,CAAC2kB,EAAQsP,EAASgB,EAAeC,EAAgBt6B,CAAI,CAAC,CAC3D,CASO,SAAS46B,IAAkC,CAChD,MAAMvR,KAAQ,OAAU,EAgCxB,SA/BsB,WAAQ,IAAqB,CACjD,MAAMwR,EAAO,GAAGxR,EAAM,WAAW,QAAQ,MAAMA,EAAM,WAAW,UAAU,GAEpEoN,EADS,SAAS,cAAc,QAAQ,EAC3B,WAAW,IAAI,EAE5BqE,EAAgB,IAEtBrE,EAAI,cAAgB,GAAGqE,CAAa,KACpCrE,EAAI,KAAOoE,EACX,MAAME,EACJ,0JAEI9Q,EADWwM,EAAI,YAAYsE,CAAG,EAAE,MACNA,EAAI,OAASD,EACvC,CAAE,MAAAvC,CAAM,EAAI1B,GAAWJ,CAAG,EAWhC,MAAO,CACL,cAVoB,CAACe,EAAcwD,EAAmBC,IAA0B,CAChF,GAAIzD,IAAS,GACX,OAAOyD,EAGT,MAAMC,EADW3C,EAAMf,EAAMwD,CAAS,EACP7R,GAAM,YAAc,EAAIA,GAAM,aAC7D,OAAO,KAAK,IAAI+R,EAAaD,CAAa,CAC5C,EAIE,IAAAxE,EACA,KAAAoE,EACA,aAAA5Q,CACF,CACF,EAAG,CAACZ,EAAM,WAAW,SAAUA,EAAM,WAAW,UAAU,CAAC,CAE7D,CAEA,MAAM8R,GAAa,GACbC,GAAW,EAYV,SAASC,GAAgB,CAC9B,OAAAtR,EACA,QAAAsP,EACA,aAAAruB,EACA,cAAAiwB,EACA,YAAAxmB,EACA,cAAe,CAAE,cAAA6mB,EAAe,aAAArR,CAAa,EAC7C,cAAAuK,EAAgB,EAClB,EAAmC,CACjC,MAAM+G,EAAeJ,GAAaC,GAC5BI,KAAwB,WAC5B,IACExwB,EAAa,IAAI,CAACqoB,EAAG3zB,IAAQ,CAC3B,IAAIgE,EAAQ2vB,EAAI,EAAIlK,GAAM,aAAeA,GAAM,aAE/C,OAAIY,EAAOrqB,CAAG,GAAG,QAAQ,QAAQ,aAC/BgE,GAAS63B,GAGP9mB,EAAY,KAAMgnB,GAAQA,EAAI,YAAclR,GAAeR,EAAOrqB,CAAG,CAAC,CAAC,IACzEgE,GAAS63B,GAGP/G,IACF9wB,GAAS63B,GAEJ,KAAK,MAAM73B,CAAK,CACzB,CAAC,EACH,CAACqmB,EAAQ/e,EAAcyJ,EAAa+f,EAAe+G,CAAY,CACjE,EAEM,CAACG,EAAsBC,CAAoB,KAAI,WAAQ,IAAM,CACjE,IAAIA,EAAuB,GAC3B,MAAO,CACL5R,EAAO,IAAKL,GAAU,CACpB,MAAMkS,EAAWlS,EAAM,QAAQ,QAAQ,gBAAkB,GACzD,OAAIkS,IACFD,EAAuB,IAElBC,CACT,CAAC,EACDD,CACF,CACF,EAAG,CAAC5R,CAAM,CAAC,EAEL8R,KAAqB,WACzB,KAAO,CACL,UAAWL,EACX,aAAAvR,EACA,eAAgByR,CAClB,GACA,CAACF,EAAuBvR,EAAcyR,CAAoB,CAC5D,EAeA,SAZqB,WAAQ,IAAM,CACjC,GAAI,CAACrC,EACH,MAAO,GAET,GAAI,CAACsC,EACH,OAAOV,EAAgB9R,GAAM,aAG/B,KAAM,CAAE,KAAMkB,EAAc,IAAKD,CAAY,EAAIN,GAAeC,EAAQ,GAAI8R,CAAkB,EAC9F,OAAOP,EAAcjR,EAAcmR,EAAsBpR,CAAW,EAAG6Q,CAAa,EAAI9R,GAAM,YAChG,EAAG,CAACY,EAAQsP,EAASsC,EAAsBE,EAAoBP,EAAeE,EAAuBP,CAAa,CAAC,CAGrH,CAYO,SAASa,GAAa,CAC3B,aAAA9wB,EACA,OAAA+e,EACA,gBAAA2C,EACA,cAAAuO,EACA,aAAA9B,EACA,aAAA4C,EACA,cAAe,CAAE,cAAAT,EAAe,aAAArR,CAAa,CAC/C,EAA8D,CAC5D,KAAM,CAACC,EAAgB8R,CAAc,KAAI,WAAQ,IAAM,CACrD,IAAIA,EAAiB,GACrB,MAAO,CACLjS,EAAO,IAAKL,GAAU,CACpB,GAAIA,EAAM,OAAS,MAAU,OAC3B,MAAO,GAGT,MAAM+B,EAAc7B,GAAeF,CAAK,EAClCkS,EAAW,aAAcnQ,GAAeA,EAAY,SACpDuC,EAAOvC,EAAY,KACnBsB,EAAS,CAAC,CAAC6O,GAAY5N,IAAS,KAAqB,MAC3D,OAAIjB,IAAW,KACbiP,EAAiB,IAEZjP,CACT,CAAC,EACDiP,CACF,CACF,EAAG,CAACjS,CAAM,CAAC,EAELC,KAAY,WAChB,IAAMhf,EAAa,IAAKqoB,GAAMA,EAAI,EAAIlK,GAAM,aAAeA,GAAM,YAAY,EAC7E,CAACne,CAAY,CACf,EAEM6wB,KAAqB,WACzB,KAAO,CACL,UAAA7R,EACA,aAAAC,EACA,eAAAC,CACF,GACA,CAACF,EAAWC,EAAcC,CAAc,CAC1C,EAqCA,SAnCkB,WAAQ,IAEpB,CAACwC,GAAmB,CAACsP,EAChBf,EAGD9M,GAAkB,CAExB,GAAI,OAAOA,EAAI,OAAO,EAAI,EAAG,CAE3B,GAAI,CAAC4N,EAAa5N,EAAI,OAAO,EAC3B,MAAO,GAIT,MAAM8N,EAAW9N,EAAI,MAAM,QAAU,EACrC,OAAO,KAAK,IAAI8M,EAAeA,EAAgBgB,EAAW9C,CAAY,CACxE,CAGA,KAAM,CAAE,KAAM9O,EAAc,IAAKD,CAAY,EAAIN,GAAeC,EAAQoE,EAAI,QAAS0N,CAAkB,EACvG,OAAOP,EAAcjR,EAAcL,EAAUI,CAAW,EAAG6Q,CAAa,CAC1E,EACC,CACDK,EACAL,EACAc,EACAhS,EACA2C,EACAsP,EACA7C,EACA0C,EACA7R,CACF,CAAC,CAGH,CAgBA,MAAMkS,GAA2B,OAAO,OAAO,CAAE,UAAW,OAAW,MAAO,CAAE,CAAC,EAE1E,SAASC,GACdjxB,EAAkD,IAAM,CAAC,EACG,CAE5D,MAAMkxB,KAAiB,UAA6B,CAAE,GAAGF,EAAyB,CAAC,EAC7EG,KAAgB,UAAO,EAAK,KAGlC,mBAAgB,IAAM,CACpB,SAASC,EAAYC,EAAsB,CACzCF,EAAc,QAAU,EAC1B,CAEA,SAASG,EAAUD,EAAsB,CACvCF,EAAc,QAAU,EAC1B,CAEA,cAAO,iBAAiB,cAAeC,CAAW,EAClD,OAAO,iBAAiB,YAAaE,CAAS,EAEvC,IAAM,CACX,OAAO,oBAAoB,cAAeF,CAAW,EACrD,OAAO,oBAAoB,YAAaE,CAAS,CACnD,CACF,CAAC,EAED,MAAMC,KAAgB,eAAY,IAAM,CAClCL,EAAe,QAAQ,YACzBlxB,EAAekxB,EAAe,QAAQ,UAAW,KAAK,MAAMA,EAAe,QAAQ,KAAK,CAAC,EACzFA,EAAe,QAAU,CAAE,GAAGF,EAAyB,GAEzD,OAAO,oBAAoB,QAASO,EAAe,CAAE,QAAS,EAAK,CAAC,CACtE,EAAG,CAACvxB,CAAc,CAAC,EAqBnB,SAlB8B,eAC5B,CAAClN,EAA2C0F,IAAkB,CACvD04B,EAAe,QAAQ,WAC1B,OAAO,iBAAiB,QAASK,EAAe,CAAE,QAAS,EAAK,CAAC,EAGnEL,EAAe,QAAQ,UAAYp+B,EAAO,IAC1Co+B,EAAe,QAAQ,MAAQ14B,EAI1B24B,EAAc,SACjBI,EAAc,CAElB,EACA,CAACA,CAAa,CAChB,CAGF,CAEO,SAASC,GAAchT,EAAcppB,EAAuC,CACjF,MAAMq8B,EAAajT,EAAM,OAAO,OAAO,QAAU,EAC3CkT,EAAelT,EAAM,OAAO,SAAS,QAAU,EAC/CmT,EAAiBF,IAAe,GAAKC,IAAiB,EAC5D,SAAO,WAAQ,KAAOC,EAAkB1Q,GAAazC,EAAOppB,CAAM,GAAK,CAAC,EAAK,CAAC,GAAG,CAAC,EAAG,CAACopB,EAAOmT,EAAgBv8B,CAAM,CAAC,CACtH,CCnlBe,SAASw8B,GAAS,CAAE,MAAA13B,EAAO,MAAAskB,EAAO,eAAAqT,EAAgB,OAAAz8B,EAAQ,YAAAmrB,CAAY,EAAkB,CACrG,MAAMyF,KAAS,OAAW,GAAW6L,CAAc,EAE7C/R,EAAetB,EAAM,QAAStkB,CAAK,EACnC43B,KAAiB,OAAuBhS,CAAY,EACpDsB,EAAOoQ,GAAchT,EAAOppB,CAAM,EAExC,SACE,OAAC,OAAI,UAAW4wB,EAAO,KACpB,SAAA5E,GAAQ,KAAO0Q,KAAiB,MAAiB1Q,EAAM0Q,EAAgBC,GAAa/L,EAAQzF,CAAW,CAAC,EAC3G,CAEJ,CAEA,MAAMwR,GAAe,CAAC/L,EAAsCzF,IACtDA,EAAY,OAAS,KAAqB,KACrCyF,EAAO,SAGTA,EAAO,uBAGV,GAAY,CAAC7H,EAAsB0T,KAAyD,CAChG,QAAM,OAAI,CACR,QAAS,OACT,eAAAA,EACA,EAAG,CACD,MAAO,SACT,CACF,CAAC,EACD,0BAAwB,OAAI,CAC1B,OAAQ,UACR,SAAU,SACV,aAAc,WACd,WAAY,OACZ,WAAY,SACZ,WAAY1T,EAAM,WAAW,iBAC7B,eAAgB,WAClB,CAAC,EACD,YAAU,OAAI,CACZ,OAAQ,UACR,SAAU,SACV,aAAc,WACd,WAAY,OACZ,WAAY,SACZ,MAAO,GAAGA,EAAM,OAAO,KAAK,IAAI,cAChC,WAAYA,EAAM,WAAW,iBAC7B,aAAcA,EAAM,QAAQ,GAAG,EAC/B,UAAW,CACT,eAAgB,YAChB,MAAOA,EAAM,OAAO,KAAK,IAC3B,CACF,CAAC,CACH,G,oDCvDA,MAAM6T,GAAiC,CACrC,KAAM,KAAe,SACrB,MAAO,CACL,CACE,MAAO,OACP,MAAO,IACT,EACA,CACE,MAAO,QACP,MAAO,EACT,CACF,CACF,EAEaC,GAAe,CAAC,CAAE,MAAA/3B,EAAO,MAAAskB,EAAO,MAAAL,EAAO,OAAA5b,EAAQ,MAAA/J,EAAO,OAAApD,CAAO,IAAyB,CACjG,MAAM0qB,EAAetB,EAAM,QAAStkB,CAAK,EACnCqmB,EAAc7B,GAAeF,CAAK,EAClC0T,EAAenR,GAAkB5C,EAAM,QAAQ,CAAC,CAAC,EAEvD,IAAIgU,KAAS,OAAyB3T,EAAO,EAAK,EAC7C2T,EAAO,aACVA,EAAS,CACP,GAAGA,EACH,WAAYH,EACd,GAKF,IAAII,EAAoC,KAAoB,SACxDC,EAEA9R,EAAY,OAAS,KAAqB,QAC5C6R,EAAe7R,EAAY,MAAQ,KAAoB,SACvD8R,EACE9R,EAAY,mBAAqB,OAAYA,EAAY,iBAAmB,KAAkB,MAGlG,MAAM+R,EAAmBzS,GAAmBrB,EAAOsB,EAAc1qB,CAAO,EAElEm9B,KACJ,OAACC,GAAA,IACC,MAAAh6B,EACA,OAAQ+J,EAAS2vB,EACjB,MAAOC,EACP,QAAS3T,EAAM,QACf,KAAM,CAAE,UAAW,EAAG,EACtB,MAAOsB,EACP,YAAa,MAAe,WAC5B,MAAA3B,EACA,iBAAAmU,EACA,YAAa,EACb,aAAc,EACd,YAAaF,EACb,iBAAAC,CAAA,CACF,EAGIjR,EAAOoQ,GAAchT,EAAOppB,CAAM,EAExC,OAAOgsB,GAAQ,KAAOmR,KAAoB,MAAiBnR,EAAMmR,CAAiB,CACpF,EC9DaE,GAAgB,CAAC,CAAE,MAAAjU,EAAO,OAAAppB,CAAO,IAA0B,CACtE,MAAM4wB,KAAS,OAAW,EAAS,EAE7B9E,EAAQD,GAAazC,EAAOppB,CAAO,EAEzC,SACE,OAAC,OACE,SAAA8rB,GACCA,EAAM,IAAI,CAACE,EAAM5sB,IACR,CAAC4sB,EAAK,MAAQA,EAAK,SAAW,QACnC,OAAC,QAAe,UAAW4E,EAAO,cAC/B,SAAA5E,EAAK,OADG5sB,CAEX,KAGA,OAAC,QAAe,UAAWwxB,EAAO,SAAU,QAAS5E,EAAK,QACxD,mBAAC,KAAE,KAAMA,EAAK,KAAM,OAAQA,EAAK,OAC9B,SAAAA,EAAK,MACR,GAHS5sB,CAIX,CAEH,EACL,CAEJ,EAEM,GAAa2pB,IAA0B,CAC3C,YAAU,OAAI,CACZ,OAAQ,UACR,SAAU,SACV,aAAc,WACd,WAAY,OACZ,WAAY,SACZ,MAAOA,EAAM,OAAO,KAAK,KACzB,WAAYA,EAAM,WAAW,iBAC7B,aAAcA,EAAM,QAAQ,GAAG,EAC/B,EAAG,CACD,MAAOA,EAAM,OAAO,KAAK,IAC3B,EACA,UAAW,CACT,eAAgB,YAChB,MAAOA,EAAM,OAAO,KAAK,IAC3B,CACF,CAAC,EACD,iBAAe,OAAI,CACjB,SAAU,SACV,aAAc,WACd,WAAY,OACZ,WAAY,SACZ,WAAYA,EAAM,WAAW,iBAC7B,aAAcA,EAAM,QAAQ,GAAG,CACjC,CAAC,CACH,GCrDO,SAASuU,GAAQ,CAAE,MAAAx4B,EAAO,eAAA23B,EAAgB,OAAAtvB,CAAO,EAAiB,CACvE,MAAMyjB,KAAS,OAAW,EAAS,EAEnC,IAAI2M,EAAO,GAEX,OAAIz4B,aAAiBswB,GAAA,EACnBmI,EAAO,IAAIlI,GAAA,EAAI,EAAE,cAAcvwB,EAAO,CACpC,kBAAmB,YACnB,eAAgB,WAClB,CAAC,EACQA,GAAS,OAClBy4B,EAAO,GAAGz4B,CAAK,OAIf,OAAC,OAAI,UAAW8rB,EAAO,KAAM,MAAO,CAAE,eAAA6L,EAAgB,OAAAtvB,CAAO,EAC3D,mBAAC,OAAI,UAAWyjB,EAAO,SAAU,MAAO,CAAE,WAAY,WAAY,EAC/D,SAAA2M,CAAA,CACH,EACF,CAEJ,CAEA,MAAM,GAAY,KAAO,CACvB,QAAM,OAAI,CACR,OAAQ,OACR,QAAS,OACT,WAAY,SACZ,QAAS,OACX,CAAC,EACD,YAAU,OAAI,CACZ,WAAY,SACZ,SAAU,SACV,aAAc,UAChB,CAAC,CACH,GC/BMC,GAA0B,GAEnBC,GAAY,CAAC,CAAE,YAAAtS,EAAa,MAAA/B,EAAO,OAAAjc,EAAQ,eAAAsvB,EAAgB,MAAA33B,EAAO,OAAA9E,CAAO,IAAsB,CAC1G,MAAM09B,EAAmBvwB,EAASqwB,GAC5B5M,KAAS,OAAW,GAAW8M,EAAkBjB,CAAc,EAE/D,CAAE,KAAAvF,CAAK,EAAI9N,EAAM,QAAStkB,CAAK,EAC/B,CAAE,IAAA64B,EAAK,MAAAC,CAAM,EACjBzS,EAAY,OAAS,KAAqB,MAAQA,EAAc,CAAE,IAAK,OAAW,MAAO,MAAU,EAE/F0S,KAAM,OAAC,OAAI,IAAAF,EAAU,IAAKzG,EAAM,UAAWtG,EAAO,MAAO,MAAAgN,CAAA,CAAc,EACvE5R,EAAOoQ,GAAchT,EAAOppB,CAAM,EAExC,SAAO,OAAC,OAAI,UAAW4wB,EAAO,eAAiB,SAAA5E,GAAQ,KAAO6R,KAAM,MAAiB7R,EAAM6R,CAAG,EAAE,CAClG,EAEM,GAAY,CAAC9U,EAAsB5b,EAAgBsvB,KAA6C,CACpG,SAAO,OAAI,CACT,OAAAtvB,EACA,MAAO,MACT,CAAC,EACD,kBAAgB,OAAI,CAClB,QAAS,OACT,eAAAsvB,CACF,CAAC,CACH,GC1BaqB,GAAW,CAAC,CAAE,MAAAh5B,EAAO,eAAA23B,EAAgB,MAAArT,EAAO,OAAAppB,CAAO,IAAqB,CACnF,MAAM4wB,KAAS,OAAW,GAAW6L,CAAc,EAEnD,IAAI/R,EAAe5lB,EAGnB,GAAI,OAAOA,GAAU,SACnB,GAAI,CACF,MAAMi5B,EAAS,KAAK,MAAMj5B,CAAK,EAC/B4lB,EAAe,KAAK,UAAUqT,EAAQ,KAAM,GAAG,CACjD,MAAQ,CACNrT,EAAe5lB,CACjB,KAGA,IAAI,CACF4lB,EAAe,KAAK,UAAU5lB,EAAO,KAAM,GAAG,CAChD,MAAgB,CAEd4lB,EAAe,OAAO5lB,CAAK,CAC7B,CAGF,MAAMknB,EAAOoQ,GAAchT,EAAOppB,CAAM,EAExC,SAAO,OAAC,OAAI,UAAW4wB,EAAO,SAAW,SAAA5E,GAAQ,KAAOtB,KAAe,MAAiBsB,EAAMtB,CAAY,EAAE,CAC9G,EAEM,GAAY,CAAC3B,EAAsB0T,KAA6C,CACpF,YAAU,OAAI,CACZ,QAAS,OACT,OAAQ,UACR,WAAY,YACZ,eAAAA,CACF,CAAC,CACH,G,2BCnCA,MAAMuB,GAAwB,UAS9B,SAASC,GAAYC,EAAsB/S,EAAoD/B,EAAsB,CACnH,OAAO8U,EAAW,IAAI,CAACC,EAAM37B,IAAU,CACrC,MAAM8oB,EAAU8S,GAAaD,EAAMhT,EAAa/B,CAAK,EAC/CiC,EAAYgT,GAAA,GAAiB,iBAAiB,UAAW/S,CAAO,GAAK,IAAM,UAAY,UAC7F,MAAO,CACL,MAAO6S,EACP,IAAK,GAAGA,CAAI,IAAI37B,CAAK,GACrB,QAAA8oB,EACA,MAAOD,CACT,CACF,CAAC,CACH,CAEO,SAASiT,GAAS,CAAE,MAAAx5B,EAAO,MAAAskB,EAAO,eAAAqT,EAAgB,YAAAtR,CAAY,EAA2B,CAC9F,MAAMyF,KAAS,OAAW,GAAW6L,CAAc,EAE7C8B,KAAgB,WAAQ,IAAM,CAClC,MAAML,EAAaM,GAAW15B,CAAK,EACnC,OAAOm5B,GAAYC,EAAY/S,EAAa/B,CAAK,CACnD,EAAG,CAACtkB,EAAOqmB,EAAa/B,CAAK,CAAC,EAE9B,OAAImV,EAAM,SAAW,KACZ,OAAC,OAAI,UAAW3N,EAAO,KAAM,aAAC,KAIrC,OAAC,OAAI,UAAWA,EAAO,KACrB,mBAAC,OAAI,UAAWA,EAAO,eACpB,SAAA2N,EAAM,IAAKJ,MACV,OAAC,QAEC,UAAWvN,EAAO,KAClB,MAAO,CACL,gBAAiBuN,EAAK,QACtB,MAAOA,EAAK,KACd,EAEC,SAAAA,EAAK,OAPDA,EAAK,GAQZ,CACD,EACH,EACF,CAEJ,CAEO,SAASK,GAAW15B,EAA0B,CACnD,GAAI,CAACA,EACH,MAAO,CAAC,EAIV,MAAI,OAAYA,CAAK,EACnB,MAAO,CAAC,EAIV,MAAM25B,EAAc,OAAO35B,CAAK,EAGhC,GAAI,CACF,MAAMi5B,EAAS,KAAK,MAAMU,CAAW,EACrC,GAAI,MAAM,QAAQV,CAAM,EAEtB,OAAOA,EACJ,OAAQxN,GAASA,GAAQ,MAAQA,IAAS,EAAE,EAC5C,IAAI,MAAM,EACV,IAAK2G,GAASA,EAAK,KAAK,CAAC,EACzB,OAAQ3G,GAASA,IAAS,EAAE,CAEnC,MAAQ,CAER,CAGA,OAAIkO,EAAY,SAAS,GAAG,EACnBA,EACJ,MAAM,GAAG,EACT,IAAKvH,GAASA,EAAK,KAAK,CAAC,EACzB,OAAQ3G,GAASA,IAAS,EAAE,EAI1B,CAACkO,EAAY,QAAQ,SAAU,EAAE,EAAE,KAAK,CAAC,CAClD,CAEA,SAASC,GAAkBvT,EAAyF,CAClH,OAAOA,GAAa,OAAS,MAC/B,CAEA,SAASiT,GAAaD,EAAchT,EAAoD/B,EAAsB,CAC5G,GAAI,CAACsV,GAAkBvT,CAAW,EAChC,OAAOwT,GAAsBR,CAAI,EAGnC,MAAMS,EAAYzT,EAAY,WAAa,OAG3C,GAAIyT,IAAc,SAAWzT,EAAY,MACvC,OAAOA,EAAY,MAIrB,GAAIyT,IAAc,SAAU,CAE1B,GAAIxV,EAAM,OAAO,UAAYA,EAAM,OAAO,SAAS,OAAS,EAAG,CAE7D,MAAMsB,EAAetB,EAAM,QAAS+U,CAAI,EACxC,GAAIzT,EAAa,MACf,OAAOA,EAAa,KAExB,CAEA,OAAOS,EAAY,OAAS6S,EAC9B,CAGA,OAAIY,IAAc,OACTD,GAAsBR,CAAI,EAI5BH,EACT,CAEA,SAASW,GAAsBzH,EAAsB,CAEnD,IAAI2H,EAAO,EACX,QAASl1B,EAAI,EAAGA,EAAIutB,EAAK,OAAQvtB,IAAK,CACpC,MAAMm1B,EAAO5H,EAAK,WAAWvtB,CAAC,EAC9Bk1B,GAAQA,GAAQ,GAAKA,EAAOC,EAC5BD,EAAOA,EAAOA,CAChB,CAGA,MAAME,EAAc,OAAO,OAAO,IAAa,EACzCv8B,EAAQ,KAAK,IAAIq8B,CAAI,EAAIE,EAAY,OAE3C,OAAOA,EAAYv8B,CAAK,CAC1B,CAEA,MAAM,GAAY,CAACumB,EAAsB0T,KAAyD,CAChG,QAAM,OAAI,CACR,QAAS,OACT,eAAgBA,GAAkB,aAClC,WAAY,SACZ,OAAQ,OACR,QAAS1T,EAAM,QAAQ,EAAG,CAC5B,CAAC,EACD,kBAAgB,OAAI,CAClB,QAAS,OACT,SAAU,OACV,IAAKA,EAAM,QAAQ,EAAG,EACtB,SAAU,MACZ,CAAC,EACD,QAAM,OAAI,CACR,QAAS,eACT,QAASA,EAAM,QAAQ,IAAM,GAAI,EACjC,aAAcA,EAAM,MAAM,OAAO,QACjC,SAAUA,EAAM,WAAW,UAAU,SACrC,WAAYA,EAAM,WAAW,UAAU,WACvC,WAAYA,EAAM,WAAW,iBAC7B,WAAY,SACZ,UAAW,SACX,SAAU,aACZ,CAAC,CACH,G,wCCxJO,MAAMiW,GAAwD,CACnE,KAAM,KAAqB,UAC3B,UAAW,KAAe,KAC1B,kBAAmB,KAAkB,OACrC,UAAW,EACX,YAAa,GACb,aAAc,KAAkB,IAChC,UAAW,EACX,aAAc,KAAa,OAC3B,WAAY,KAAe,MAC3B,UAAW,EACb,EAEaC,GAAiBv7B,GAA8B,CAC1D,KAAM,CAAE,MAAA0lB,EAAO,MAAAtkB,EAAO,MAAAikB,EAAO,UAAAmW,EAAW,OAAAl/B,EAAQ,eAAAy8B,EAAgB,MAAAr5B,CAAM,EAAIM,EACpEktB,KAAS,OAAW,GAAW6L,CAAc,EAC7C0C,EAAYC,GAAat6B,CAAK,EAEpC,GAAI,CAACq6B,EACH,SAAO,mBAAG,SAAA/V,EAAM,OAAO,SAAW,UAAU,EAI1C+V,EAAU,GAAK,CAACA,EAAU,EAAE,OAAO,UAAYA,EAAU,EAAE,OAAO,OAAS,IAC7EA,EAAU,EAAE,OAAO,SAAWA,EAAU,EAAE,OAAO,CAAC,EAAIA,EAAU,EAAE,OAAO,CAAC,GAI5EA,EAAU,EAAE,OAASA,EAAU,EAAE,OAAO,IAAKE,GACtC,OAAO,SAASA,CAAC,EAGbA,EAFA,IAIV,EAED,MAAMC,KAAQ,OAAkBH,EAAU,CAAC,EAC3CA,EAAU,EAAE,OAAO,IAAMG,EAAM,IAC/BH,EAAU,EAAE,OAAO,IAAMG,EAAM,IAC/BH,EAAU,EAAE,MAAQ,CAAE,MAAAG,CAAM,EAC5BH,EAAU,UAAYD,EAEtB,MAAM/T,EAAcoU,GAA6BnW,CAAK,EAEhD2T,EAAwC,CAC5C,MAAO3T,EAAM,OAAO,MACpB,OAAQ,CACN,GAAG4V,GACH,GAAG7T,CACL,CACF,EAEMqU,EAAYrU,EAAY,UAC9B,IAAIsU,EAAa,EACbC,EAAgC,KACpC,GAAI,CAACF,EAAW,CACd,MAAMG,KAAW,OAAqB76B,CAAK,EAAIA,EAAM,MAAQ,KACvD4lB,EAAetB,EAAM,QAASuW,CAAQ,EACtC/U,EAAkBH,GAAmBrB,EAAOsB,EAAc1qB,CAAO,EAEvEy/B,KACEG,GAAA,IAAY,GAAGhV,EAAgB,QAAU,EAAE,GAAGA,EAAgB,IAAI,GAAGA,EAAgB,QAAU,EAAE,GAAI,EAAE,EAAE,MACzG7B,EAAM,QAAQ,SAEhB2W,KACE,OAACG,GAAA,GACC,MAAO,CACL,MAAO,GAAGJ,EAAa1W,EAAM,QAAQ,QAAQ,KAC7C,UAAW,QACX,YAAaA,EAAM,QAAQ,CAAC,EAC5B,WAAYA,EAAM,QAAQ,CAAC,CAC7B,EACA,UAAW6H,EAAO,eAClB,MAAOlG,CAAA,CACT,CAEJ,CAGA,SACE,QAAC,OAAI,UAAWkG,EAAO,cACpB,UAAA8O,KACD,OAACI,GAAA,EAAS,CAAC,MAAO18B,EAAQq8B,EAAY,OAAQ,GAAI,UAAAN,EAAsB,OAAApC,EAAgB,MAAAhU,CAAA,CAAc,GACxG,CAEJ,EAEA,SAASqW,GAAat6B,EAA4C,CAChE,GAAI,MAAM,QAAQA,CAAK,EACrB,MAAO,CACL,EAAG,CACD,KAAM,OACN,KAAM,MAAU,OAChB,OAAQA,EACR,OAAQ,CAAC,CACX,CACF,EAGF,MAAI,OAAYA,CAAK,EAAG,CACtB,MAAMi7B,EAAYj7B,EAAM,OAAO,KAAMk7B,GAAMA,EAAE,OAAS,MAAU,IAAI,EAC9DC,EAAcn7B,EAAM,OAAO,KAAMk7B,GAAMA,EAAE,OAAS,MAAU,MAAM,EAExE,GAAID,GAAaE,EACf,MAAO,CAAE,EAAGF,EAAW,EAAGE,CAAY,CAE1C,CAGF,CAEA,SAASV,GAA6BnW,EAAyC,CAC7E,IAAIpH,EAAUsH,GAAeF,CAAK,EAIlC,GAHIpH,EAAQ,OAAS,KAAqB,OACxCA,EAAU,CAAE,GAAGA,EAAS,KAAM,KAAqB,SAAU,GAE3DA,EAAQ,OAAS,KAAqB,UACxC,OAAOA,EAET,MAAM,IAAI,MAAM,yBAAyB,KAAqB,SAAS,YAAYA,EAAQ,IAAI,EAAE,CACnG,CAEA,MAAM,GAAY,CAAC+G,EAAsB0T,KAAyD,CAChG,iBAAe,OAAI,CACjB,QAAS,OACT,MAAO,OACP,WAAY,SACZ,eAAAA,CACF,CAAC,EACD,kBAAgB,OAAI,CAClB,IAAK,CAAE,MAAO,SAAU,CAC1B,CAAC,CACH,GCjJMyD,GAAqCx8B,MACzC,OAACm5B,GAAA,CACC,MAAOn5B,EAAM,MACb,MAAOA,EAAM,MACb,MAAOA,EAAM,MACb,OAAQA,EAAM,OACd,MAAOA,EAAM,MACb,OAAQA,EAAM,OAChB,EAGIy8B,GAAoCz8B,MACxC,OAAC84B,GAAA,CACC,MAAO94B,EAAM,MACb,MAAOA,EAAM,MACb,eAAgBA,EAAM,eACtB,OAAQA,EAAM,OACd,YAAaA,EAAM,YACrB,EAGI08B,GAAyC18B,MAC7C,OAACu7B,GAAA,CACC,MAAOv7B,EAAM,MACb,MAAOA,EAAM,MACb,eAAgBA,EAAM,eACtB,UAAWA,EAAM,UACjB,OAAQA,EAAM,OACd,MAAOA,EAAM,MACb,MAAOA,EAAM,MACf,EAGI28B,GAAoC38B,MACxC,OAACo6B,GAAQ,CAAC,eAAgBp6B,EAAM,eAAgB,MAAOA,EAAM,MAAO,MAAOA,EAAM,MAAO,OAAQA,EAAM,OAAQ,EAG1G48B,GAAmC58B,MACvC,OAAC45B,GAAO,CAAC,MAAO55B,EAAM,MAAO,eAAgBA,EAAM,eAAgB,OAAQA,EAAM,OAAQ,EAGrF68B,GAAqC78B,MACzC,OAAC+5B,GAAA,CACC,YAAa/5B,EAAM,YACnB,MAAOA,EAAM,MACb,OAAQA,EAAM,OACd,eAAgBA,EAAM,eACtB,MAAOA,EAAM,MACb,OAAQA,EAAM,OAChB,EAGI88B,GAA0C98B,MAAU,OAAC25B,GAAa,CAAC,MAAO35B,EAAM,MAAO,OAAQA,EAAM,OAAQ,EAE7G+8B,GAAsC,CAAC,CAAE,MAAArX,EAAO,OAAAppB,EAAQ,WAAAu1B,EAAa,IAAM,CAAC,CAAE,OAClF,OAACD,GAAW,CAAC,MAAAlM,EAAc,OAAAppB,EAAgB,WAAAu1B,CAAA,CAAwB,EAG/DmL,GAAoCh9B,MAAU,OAAC46B,GAAQ,CAAE,GAAG56B,CAAA,CAAO,EAEzE,SAASi9B,GAAoB3e,EAA8D,CACzF,OAAOA,EAAQ,OAAS,KAAqB,MAC/C,CAEA,MAAM4e,GAAsCl9B,GAAU,CACpD,GAAI,CAACi9B,GAAoBj9B,EAAM,WAAW,GAAK,CAACA,EAAM,YAAY,cAChE,OAAO,KAET,MAAMm9B,EAAsBn9B,EAAM,YAAY,cAC9C,SAAO,OAACm9B,EAAA,CAAoB,MAAOn9B,EAAM,MAAO,SAAUA,EAAM,OAAQ,MAAOA,EAAM,MAAO,MAAOA,EAAM,MAAO,CAClH,EAEMo9B,GAAsE,CAC1E,CAAC,KAAqB,SAAS,EAAGV,GAClC,CAAC,KAAqB,KAAK,EAAGF,GAC9B,CAAC,KAAqB,QAAQ,EAAGG,GACjC,CAAC,KAAqB,KAAK,EAAGE,GAC9B,CAAC,KAAqB,SAAS,EAAGC,GAClC,CAAC,KAAqB,OAAO,EAAGC,GAChC,CAAC,KAAqB,MAAM,EAAGG,GAC/B,CAAC,KAAqB,SAAS,EAAGT,GAClC,CAAC,KAAqB,eAAe,EAAGA,GACxC,CAAC,KAAqB,IAAI,EAAGA,GAC7B,CAAC,KAAqB,IAAI,EAAGO,EAC/B,EAGO,SAASK,GAAgB3X,EAAc+B,EAAkD,CAC9F,MAAMsD,EAAWtD,GAAa,MAAQ,KAAqB,KAC3D,OAAIsD,IAAa,KAAqB,KAC7BuS,GAAsB5X,CAAK,EAE7B0X,GAAerS,CAAQ,CAChC,CAGO,SAASuS,GAAsB5X,EAAiC,CACrE,GAAIA,EAAM,OAAS,MAAU,IAC3B,OAAOkX,GAET,GAAIlX,EAAM,OAAS,MAAU,MAAO,CAClC,MAAM6X,EAAa7X,EAAM,OAAO,CAAC,EACjC,SAAI,OAAY6X,CAAU,MAAK,OAAkBA,CAAU,EAClDb,GAEAC,EAEX,CACA,OAAIjX,EAAM,OAAS,MAAU,MACpBiX,GAEFF,EACT,CCjEO,SAASe,GAAQx9B,EAAqB,CAC3C,KAAM,CACJ,WAAAslB,EACA,KAAAmY,EACA,iBAAAC,EAAmB,GACnB,sBAAAC,EAAwB,GACxB,qBAAA75B,EACA,cAAAuyB,EACA,WAAAxE,EAAa,IAAM,CAAC,EACpB,OAAApoB,EACA,cAAAorB,EACA,SAAA+I,EACA,kBAAAxM,EACA,eAAAlqB,EACA,eAAA22B,EACA,cAAArN,EACA,aAAAsN,EACA,MAAAp+B,CACF,EAAIM,EAEEqlB,KAAQ,OAAU,EAClB6H,KAAS,OAAW6Q,GAAe,CACvC,iBAAAL,EACA,SAAAE,CACF,CAAC,EACKI,KAAe,OAAgB,EAE/BC,KAAiB,eACrB,CAACvY,GAAcppB,KAAmBu1B,EAAW4L,EAAM/X,GAAOppB,EAAM,EAChE,CAACu1B,EAAY4L,CAAI,CACnB,EAEMS,EAAY,CAACN,EACbO,EAAY,GAAQ9H,GAAe,MAAQA,EAAc,SAAS,QAClEC,EAAiB,GACrBD,GAAe,WACbA,EAAc,SACdA,EAAc,QAAQ,QACtBA,EAAc,QAAQ,CAAC,IAAM,MAAU,OAGrC,CAAC+H,EAAkBjN,CAAmB,KAAI,YAAkC,IAAI,EAChF,CAACkN,EAAmBC,CAAoB,KAAI,YAAS,EAAK,EAE1DC,EAAgBpG,GAAgBjxB,CAAc,KAEpD,mBAAgB,IAAM,CACpB,GAAI,CAACm3B,EACH,OAGF,SAASvxB,GAAQyrB,GAAoB,CACnC+F,EAAqB,EAAK,CAC5B,CAEA,cAAO,iBAAiB,QAASxxB,EAAO,EAEjC,IAAM,CACX,OAAO,oBAAoB,QAASA,EAAO,CAC7C,CACF,EAAG,CAACuxB,CAAiB,CAAC,EAEtB,MAAMriC,KAAO,WAAQ,IAAMqtB,GAAeoU,CAAI,EAAG,CAACA,CAAI,CAAC,EACjD/U,KAAkB,WAAQ,IAAMC,GAAiB8U,EAAK,MAAM,EAAG,CAACA,CAAI,CAAC,EAErE,CACJ,KAAMzN,GACN,OAAAlD,EACA,UAAAf,GACA,iBAAA6D,GACA,gBAAAC,EACF,EAAI4E,GAAgBz4B,EAAMyhC,EAAK,OAAQ,CAAE,gBAAA/U,CAAgB,CAAC,EAEpD,CACJ,KAAM8V,GACN,YAAA/tB,GACA,eAAAukB,EACF,EAAIJ,GAAc5E,GAAcyN,EAAK,OAAQ,CAAE,gBAAA/U,EAAiB,cAAAmM,CAAc,CAAC,EAEzE4J,GAAmBrZ,GAAoBC,EAAOC,CAAU,EACxDoZ,GAAsBtZ,GAAoBC,EAAO,KAAgB,EAAE,EACnE,CAACsZ,EAAczN,CAAe,KAAI,YAAS,EAAK,EAChD,CAAC6G,EAAc6G,CAAe,KAAI,YAAkC,CAAC,CAAC,EAGtEC,KAAgB,WAAQ,IAAMvU,GAAiBmT,EAAK,MAAM,EAAG,CAACA,EAAK,MAAM,CAAC,EAC1EqB,KAAiB,WACrB,IAAOpW,EAAkBhpB,EAAQwlB,GAAO,eAAiBxlB,EACzD,CAACA,EAAOgpB,CAAe,CACzB,EACMqW,EAAgBnI,GAAiB,EACjCoI,KAAS,WAAQ,IAAMxU,GAAiBqU,EAAeC,CAAc,EAAG,CAACD,EAAeC,CAAc,CAAC,EACvG3J,GAAekC,GAAgB,CACnC,aAAc2H,EACd,OAAQH,EACR,QAASX,EACT,cAAeQ,GACf,YAAAjuB,GACA,cAAe+f,GAAiB,GAChC,cAAAuO,CACF,CAAC,EACK5zB,GAAY2sB,GAAa,CAC7B,aAAckH,EACd,OAAQH,EACR,gBAAAnW,EACA,cAAe+V,GACf,aAAAtJ,GACA,aAAA4C,EACA,cAAAgH,CACF,CAAC,EAEK,CACJ,KAAME,GACN,KAAA3J,GACA,QAAAC,GACA,SAAAK,GACA,eAAAE,GACA,aAAAC,GACA,gBAAAC,EACF,EAAId,GAAiBsJ,GAAY,CAC/B,QAASd,EACT,MAAOoB,EACP,OAAAr1B,EACA,aAAA0rB,GACA,aAAcgJ,EAAYM,GAAmB,EAC7C,UAAAtzB,EACF,CAAC,EAGK+zB,GAAc9I,GAAeoI,GAAYf,EAAK,OAAQ,CAAE,QAASU,EAAW,cAAA9H,EAAe,eAAAC,CAAe,CAAC,EAC3G6I,MAAiB,WAAQ,IAAMvU,GAAkB6S,EAAK,OAAQpY,CAAK,GAAK,OAAW,CAACoY,EAAK,OAAQpY,CAAK,CAAC,EAEvGjN,MAAY,WAChB,IAAMgnB,GAAiB3B,EAAK,OAAQO,EAAcjG,EAAc4F,CAAqB,EACrF,CAACF,EAAME,EAAuB5F,EAAciG,CAAY,CAC1D,EAEMqB,MAAsB,WAC1B,KACG,CACC,qBAAAv7B,EACA,qBAAsB,CACpB,SAAU,GACV,UAAW,GACX,SAAU,EAEZ,EACA,kBAAmB,CAAC,CAAE,IAAAqmB,GAAK,OAAAnwB,EAAO,EAAGK,KAAU,CAG7C,GAAIL,GAAO,MAAQ,WACjB,OAGFK,GAAM,mBAAmB,EAEzBA,GAAM,eAAe,EAErB,MAAMilC,GAAYnV,GAAInwB,GAAO,GAAG,EAChCm3B,EAAoB,CAElB,MAAO,OAAOmO,IAAa,EAAE,EAC7B,IAAKjlC,GAAM,QACX,KAAMA,GAAM,OACd,CAAC,EAEDikC,EAAqB,EAAI,CAC3B,EACA,eAAgBC,EAChB,oBAAsBgB,IAAiC,CACrDvK,GAAeuK,EAAc,EAC7B1B,IACE0B,GAAe,IAAI,CAAC,CAAE,UAAAvW,GAAW,UAAA3tB,EAAU,KAAO,CAChD,YAAa2tB,GACb,KAAM3tB,KAAc,MACtB,EAAE,CACJ,CACF,EACA,YAAAoV,GACA,UAAAtF,GACA,eAAgB+hB,EAAO,UACvB,gBAAiBiI,GACjB,kBAAmBgJ,EAAY,CAAC,CAAC,CAAC,EAAI,MACxC,GACF,CACEr6B,EACAy6B,EACA9tB,GACA0kB,GACAjI,EAAO,UACP/hB,GACAgzB,EACAnJ,GACA6I,CACF,CACF,EAQM,CAAE,QAAA9hC,GAAS,kBAAAyjC,GAAmB,gBAAAC,EAAgB,KAAI,WAAQ,IAAM,CACpE,MAAMC,GAAa,CAACC,GAAYX,KAAqB,CACnD,MAAMjW,GAAiB,CACrB,QAAS,CAAC,EACV,kBAAmB,CAAC,EACpB,gBAAiB,CAAC,CACpB,EAEA,IAAI6W,GAAa,GACbC,GAAa,EAEjB,OAAAF,GAAE,QAAQ,CAACja,EAAOzf,KAAM,CACtB,MAAM8yB,GAAiBnS,GAAalB,CAAK,EACnCoa,GAAeC,GAAgBhH,EAAc,EAC7CrI,GAAcnK,GAAeb,CAAK,EAClCsa,GAAkBC,GAAoB5a,EAAO0T,EAAc,EAAE,WAC7DtR,GAAc7B,GAAeF,CAAK,EAClCwa,GAAkB7C,GAAgB3X,EAAO+B,EAAW,EAEpD4J,GAAc5L,GAAqBC,CAAK,EACxC4L,GAAc,GAAQ5L,EAAM,OAAO,YAAc0L,GAAqB,MACtE+O,GAAc9O,IAAeC,GAC7B5xB,GAAQs/B,GAAO/4B,EAAC,EAGhBm6B,GAAsBD,MACxB,MACE,qBACAjT,EAAO,YACP6L,KAAmB,WAAa7L,EAAO,eAAiBA,EAAO,gBACjE,EACA,OAEEnC,GAAWtD,GAAY,KACvB4Y,GAAiB1Z,GAAmBjB,CAAK,EACzC4a,GAAa3a,GAAeD,CAAK,EACjC6a,GAAczV,GAA4BpF,EAAOqF,EAAQ,EAE/DhC,GAAO,gBAAgB2H,EAAW,EAAI6P,GAGtC,MAAMC,EAAiB,CAACtlC,GAAU8E,KAAmE,CACnG,MAAM1D,GAAS0D,GAAM,IAAI,QACnBoB,GAAQpB,GAAM,IAAIA,GAAM,OAAO,GAAG,EAGpC1D,KAAWsjC,KACbC,GAAa,OAAO10B,IAAc,WAAaA,GAAUnL,GAAM,GAAG,EAAImL,GACtEy0B,GAAatjC,IAGf,IAAImkC,GAEJ,GAAItB,IAAkB,KACpBsB,GAAStB,GAAen/B,GAAM,MAAM,UAC3B+qB,KAAa,KAAqB,KAAM,CACjD,MAAM/D,GAAetB,EAAM,QAAStkB,EAAK,EACzCq/B,GAASjZ,GAAcnC,EAAOoC,GAAaT,EAAY,CACzD,MACEyZ,GAAS,CAAC,EAGZ,MAAMC,GAAYC,GAActb,EAAOK,EAAOma,GAAYS,GAAYD,GAAgBE,GAAaE,EAAM,EAEzG,SACE,OAAC,IAEE,GAAGzgC,GACJ,aAAW,MAAGA,GAAM,UAAW0gC,GAAU,IAAI,EAC7C,MAAO,CAAE,MAAOD,GAAO,WAAa,SAAU,GAHzCvlC,EAIP,CAEJ,EAEA6tB,GAAO,kBAAkB2H,EAAW,EAAI8P,EA0CxC,MAAMxmC,GAAsB,CAC1B,MAAA0rB,EACA,IAAKgL,GACL,KAAMA,GACN,MAAAhxB,GACA,gBAAAsgC,GACA,WA7CyBhgC,IAAmE,CAC5F,MAAM1D,GAAS0D,GAAM,IAAI,QACnBoB,GAAQpB,GAAM,IAAIA,GAAM,OAAO,GAAG,EAClCspB,GAAQmU,EAEd,SACE,oBACG,UAAAyC,GAAgB,CACf,YAAAzY,GACA,MAAA6B,GACA,MAAA5D,EACA,OAAQma,GACR,eAAA9G,GACA,OAAAz8B,GACA,MAAA+oB,EACA,MAAAjkB,GACA,MAAA1B,GACA,YAAA2xB,GACA,YAAAC,GACA,WAAY2M,CACd,CAAC,EACAkC,OACC,OAAClP,GAAA,CACC,MAAAvL,EACA,MAAAtkB,GACA,YAAAqmB,GACA,YAAAiJ,GACA,YAAAW,GACA,YAAAC,GACA,UAAW8O,GACX,gBAAAlP,EACA,oBAAAC,EACA,kBAAAC,CAAA,CACF,GAEJ,CAEJ,EASE,iBAAkB,CAAC,CAAE,OAAAp3B,GAAQ,cAAAiJ,EAAc,OACzC,OAAC,IACC,OAAQjJ,GACR,KAAAgC,EACA,MAAA0pB,EACA,OAAAoH,EACA,UAAAf,GACA,iBAAA6D,GACA,gBAAAC,GACA,UAAW5sB,GACX,cAAAutB,CAAA,CACF,EAEF,kBAAmB,IACb8F,GAAkBrwB,KAAM,KAExB,QAAC,OAAI,UAAW65B,GAAa,oBAC3B,oBAAC,QACC,mBAAC,MAAK,CAAC,QAAQ,yBAAyB,iBAAK,EAC/C,KACA,OAAC,QAAM,SAAAZ,GAAYj5B,EAAC,EAAE,GACxB,KAGG,OAAC,OAAI,UAAW65B,GAAa,WAAa,SAAAZ,GAAYj5B,EAAC,EAAE,CAEpE,EAEA8iB,GAAO,QAAQ,KAAK/uB,EAAM,CAC5B,CAAC,EAEM+uB,EACT,EAEMA,GAAS2W,GAAWb,EAAeG,CAAM,EAG/C,GAAI,CAACtW,EACH,OAAOK,GAIT,MAAM6X,GAAkB5kC,EAAK,KAAM6kC,IAAMA,GAAE,IAAI,GAAG,KAClD,GAAI,CAACD,GACH,OAAO7X,GAGT,MAAM3Q,GAAYgnB,GAAiBwB,GAAgB,OAAQ5C,EAAcjG,EAAc4F,CAAqB,EACtG,CAAE,QAASmD,GAAe,kBAAmBC,EAAwB,EAAIrB,GAC7EkB,GAAgB,OAChBpW,GAAiBoW,GAAgB,OAAQ9B,CAAc,CACzD,EAEM0B,GAAmC,CAACtlC,GAAK8E,KAAU+gC,GAAwB/gC,GAAM,OAAO,GAAG,EAAE9E,GAAK8E,EAAK,EAE7G,OAAA+oB,GAAO,kBAAkB,SAAW,CAAC7tB,GAAK8E,QAAU,OAAC,GAAI,CAAY,GAAGA,EAAAA,EAAT9E,EAAgB,EAG/E6tB,GAAO,QAAQ,QAAQ,CACrB,IAAK,WACL,KAAM,GACN,MAAO,CACL,KAAM,GACN,KAAM,MAAU,MAChB,OAAQ,CAAC,EACT,OAAQ,CAAC,CACX,EACA,UAAUoB,GAAK,CACb,GAAIA,GAAI,UAAY,EAClB,OAAO+C,EAAO,UAGlB,EACA,QAAQhzB,GAAM,CACZ,OAAOA,GAAK,OAAS,OAASA,GAAK,IAAI,UAAY,EAAIujC,EAAK,OAAO,OAAS,CAC9E,EACA,WAAY,CAAC,CAAE,IAAAtT,EAAI,IAAM,CACvB,GAAIA,GAAI,UAAY,EAClB,SACE,OAAC0G,GAAA,CACC,OAAQ4N,GACR,WAAY1G,EAAa5N,GAAI,OAAO,GAAK,GACzC,aAAc,IAAM,CAClByU,EAAgB,CAAE,GAAG7G,EAAc,CAAC5N,GAAI,OAAO,EAAG,CAAC4N,EAAa5N,GAAI,OAAO,CAAE,CAAC,CAChF,EACF,EAKJ,MAAM6W,GAAa7W,GAAI,KACvB,GAAI,CAAC6W,GACH,OAAO,KAGT,MAAMC,GAAkB1Y,GAAUc,GAAe2X,EAAU,EAAGA,GAAW,OAAQvwB,EAAW,EAE5F,SACE,OAAC+P,GAAA,CACE,GAAG6e,GACJ,aAAW,MAAGnS,EAAO,KAAMA,EAAO,UAAU,EAC5C,QAAS4T,GACT,KAAMG,GACN,UAAW,CAAE,UAAA7oB,GAAW,WAAYooB,EAAe,EACrD,CAEJ,EACA,MAAOtb,GAAO,eACd,SAAUA,GAAO,cACnB,CAAC,EAEM6D,EACT,EAAG,CACDoW,GACAL,EACAO,GACAzP,GACAC,GACA4N,EACAgB,GACAd,EACA5F,EACAjL,EACAoS,GACAxW,EACA4N,EACAlF,EACA4M,EACA7yB,GACAnP,EACA+vB,GACAyE,EACA/f,GACAyc,EACA7H,EACAwZ,EACAG,EACAf,CACF,CAAC,EAIKiD,MAAsB,WAAQ,IAAMnlC,GAAS,CAACA,GAAS+hC,CAAY,CAAC,EAGpEqD,GAAkBrL,GAClBsL,GAAerL,GACfP,GAAUgJ,GAAW,OAErBgC,GAAmC,CAACtlC,GAAK8E,KACtCw/B,GAAkBx/B,GAAM,OAAO,GAAG,EAAE9E,GAAK8E,EAAK,EAGjD,CAACqhC,GAAcC,EAAe,KAAI,YAAuC,EAE/E,SACE,oBACE,oBAAC9gB,GAAA,CACE,GAAG6e,GACJ,UAAWnS,EAAO,KAClB,QAASgU,GACT,KAAMjC,GACN,YAAa,CAAC,CAAE,OAAAjlC,GAAQ,IAAAmwB,EAAI,EAAG,CAAE,QAAAoX,GAAS,QAAAC,GAAS,mBAAAC,EAAmB,IAAM,CAE1E,MAAM/b,GAAQ3pB,GAAQ/B,GAAO,GAAG,EAAE,MAElC,GAAIylC,GAAgBlZ,GAAeb,EAAK,CAAC,EAAG,CAC1C,MAAMppB,GAAS6tB,GAAI,QACnBmX,GAAgB,CACd,OAAQ,CACN,QAAAC,GACA,QAAAC,EACF,EACA,MAAOrZ,GAAazC,GAAOppB,EAAM,EACjC,QAAS2hC,EAAevY,GAAOppB,EAAM,CACvC,CAAC,EAEDmlC,GAAmB,CACrB,CACF,EACA,cACE/Y,EACI,CAACrI,GAAGhmB,KAAU,CACRA,GAAM,mBAAmB,GAE3BA,GAAM,mBAAmB,CAE7B,EACA,KAEN,UAAW,CAAE,UAAA+d,GAAW,WAAYooB,EAAe,EACrD,EAEC9C,MACC,QAAC,OAAI,UAAWxQ,EAAO,oBACrB,oBAACwU,GAAA,GACC,UAAU,sBACV,YAAapM,GAAO,EACpB,cAAeM,GACf,iBAAkBI,GAClB,WAAa2L,IAAW,CACtBpM,GAAQoM,GAAS,CAAC,CACpB,EACF,EACC,CAAC3L,OACA,OAAC,OAAI,UAAW9I,EAAO,kBAGrB,oBAAC,MAAK,CAAC,QAAQ,sCACZ,WAAE,gBAAAiU,EAAgB,EAAE,MAAI,CAAE,aAAAC,EAAa,EAAE,OAAK,CAAE,QAAA5L,EAAQ,EAAE,SAC7D,EACF,GAEJ,EAGD6L,OACC,OAACO,GAAA,GACC,MAAOP,GAAa,OAAS,CAAC,EAC9B,QAASA,GAAa,QACtB,OAAQA,GAAa,OACrB,eAAgB,IAAMC,GAAgB,MAAS,EACjD,EAGDjD,MACC,OAACwD,GAAA,GACC,EAAGzD,GAAkB,MAAQ,EAC7B,EAAGA,GAAkB,KAAO,EAC5B,gBAAiB,OACf,OAAC0D,GAAA,GACC,SAAO,MAAE,sCAAuC,eAAe,EAC/D,QAAS,IAAM5Q,EAAgB,EAAI,EACnC,UAAWhE,EAAO,SACpB,EAEF,YAAa,GACf,EAGDyR,MACC,OAAClN,GAAA,GACC,KAAM2M,GAAkB,MAAQ3M,GAAA,EAAuB,KACvD,MAAO2M,GAAkB,MACzB,UAAW,IAAM,CACflN,EAAgB,EAAK,EACrBC,EAAoB,IAAI,CAC1B,EACF,GAEJ,CAEJ,CAKA,MAAMiO,GACJ,CACErZ,EACAiY,EACAjG,EACA4F,IAEF,CAACziC,EAAgB8E,IAAsE,CACrF,KAAM,CAAE,IAAAmqB,CAAI,EAAInqB,EACV1D,EAAS6tB,EAAI,QACbxpB,EAAa,CAAC,CAACo3B,EAAaz7B,CAAM,EAGxC,GAAI6tB,EAAI,UAAY,GAAK,CAACxpB,EACxB,OAAO,KAIT,GAAIwpB,EAAI,KACN,SAAO,OAAC,GAAG,CAAY,GAAGnqB,EAAO,gBAAeW,CAAA,EAA/BzF,CAA2C,EAG9D,MAAM6mC,EAAkC,CAAC,EACzC,GAAIpE,EAAuB,CACzB,MAAMtB,EAAYtW,EAAO,KAAM,GAAM,EAAE,OAAS,MAAU,IAAI,EAC1DsW,IACF0F,EAAS,aAAe,IAAM,CAC5B/D,EAAa,SAAS,QACpB,IAAI,MAAe,CACjB,MAAO,CACL,KAAM3B,GAAW,OAAO//B,CAAM,CAChC,CACF,CAAC,CACH,CACF,EACAylC,EAAS,aAAe,IAAM,CAC5B/D,EAAa,SAAS,QAAQ,IAAI,KAAqB,CACzD,EAEJ,CAEA,SAAO,OAAC,GAAG,CAAY,GAAGh+B,EAAQ,GAAG+hC,CAAA,EAApB7mC,CAA8B,CACjD,EAEI6iC,GAAgB,CACpB1Y,EACA,CAAE,iBAAAqY,EAAkB,SAAAE,CAAS,KACzB,CACJ,QAAM,OAAI,CACR,yBAA0BvY,EAAM,OAAO,WAAW,QAClD,gCAAiCA,EAAM,OAAO,WAAW,QACzD,qBAAsBA,EAAM,OAAS,UAAY,UACjD,cAAeA,EAAM,OAAO,KAAK,QAIjC,mCAAoCA,EAAM,OAAS,UAAY,UAI/D,UAAWqY,EAAmB,oBAAsB,OACpD,eAAgB,OAChB,eAAgBrY,EAAM,OAAS,cAAgB,cAE/C,OAAQ,OAER,mBAAoB,CAClB,YAAa,CACX,OAAQA,EAAM,OAAO,QAAU,EAC/B,cAAeF,GAAM,aACrB,aAAcA,GAAM,YACtB,CACF,CACF,CAAC,EACD,cAAY,OAAI,CACd,OAAQ,OACR,MAAO,eAAeD,GAAO,eAAiB,CAAC,MAC/C,SAAU,UACV,WAAYA,GAAO,eAAiB,CACtC,CAAC,EACD,cAAY,OAAI,CACd,wBAAyB,CACvB,QAAS,MACX,CACF,CAAC,EACD,eAAa,OAAI,CACf,QAAS,OACT,SAAU,WACV,IAAK,EACL,OAAQ,OACR,OAAQ,OACR,MAAOG,EAAM,OAAO,KAAK,QACzB,WAAYA,EAAM,OAAS,qBAAuB,2BAClD,QAASA,EAAM,QAAQ,KACvB,mBAAoBA,EAAM,QAAQ,EACpC,CAAC,EACD,kBAAgB,OAAI,CAClB,KAAM,CACR,CAAC,EACD,oBAAkB,OAAI,CACpB,MAAO,CACT,CAAC,EACD,aAAW,OAAI,CACb,kBAAmB,EACnB,WAAY,SACZ,GAAIuY,EAAW,CAAE,QAAS,MAAO,EAAI,CAAC,EACtC,cAAe,CACb,OAAQ,OACR,WAAY,UACd,CACF,CAAC,EACD,uBAAqB,OAAI,CACvB,WAAY,SACZ,QAAS,OACT,eAAgB,SAChB,UAAW,MACX,MAAO,MACT,CAAC,EACD,qBAAmB,OAAI,CACrB,MAAOvY,EAAM,OAAO,KAAK,UACzB,SAAUA,EAAM,WAAW,UAAU,SACrC,QAAS,OACT,eAAgB,WAChB,QAASA,EAAM,QAAQ,EAAG,EAAG,EAAG,CAAC,CACnC,CAAC,EACD,YAAU,OAAI,CACZ,SAAU,OACZ,CAAC,CACH,GAEM0a,GAAmBhH,IAA6C,CACpE,uBAAqB,OAAI,CACvB,QAAS,OACT,eAAgB,eAClB,CAAC,EACD,cAAY,OAAI,CACd,QAAS,OACT,eAAgBA,GAAkB,eACpC,CAAC,CACH,GAEMkH,GAAsB,CAAC5a,EAAsB0T,KAA6C,CAC9F,cAAY,OAAI,CACd,QAAS,OACT,IAAK1T,EAAM,QAAQ,EAAG,EACtB,OAAQA,EAAM,OAAO,QAAU,EAC/B,cAAeF,GAAM,aACrB,gBAAiBA,GAAM,aACvB,eAAA4T,EACA,eAAgB,CACd,gBAAiB,MACnB,CACF,CAAC,CACH,GAEM4H,GAAgB,CACpBtb,EACAK,EACAva,EACAm1B,EACAD,EACA2B,EACAvB,KAEO,CACL,QAAM,OAAI,CACR,aAAc,UACd,WAAYA,EAAO,SAAW,UAC9B,aAAc,SACd,eAAgB7Z,GAAalB,CAAK,EAClC,cAAeP,GAAM,aACrB,OAAQ,OACR,UAAWha,EACX,GAAIm1B,GAAc,CAAE,WAAY,UAAW,EAC3C,GAAI0B,GAAc,CAAE,OAAQ,SAAU,EACtC,eAAgB,CACd,gBAAiB,MACnB,EACA,UAAW,CACT,WAAYvB,EAAO,aACnB,sBAAuB,CACrB,QAAS,MACX,EACA,GAAIJ,GAAkB,CACpB,OAAQhb,EAAM,OAAO,QAAU,EAC/B,WAAY,WACZ,OAAQ,cACR,SAAU,aACZ,CACF,CACF,CAAC,CACH,E","sources":["webpack://grafana/./node_modules/react-data-grid/lib/index.js","webpack://grafana/./packages/grafana-ui/src/components/Table/TableNG/constants.ts","webpack://grafana/./packages/grafana-ui/src/components/Table/TableNG/utils.ts","webpack://grafana/./packages/grafana-ui/src/components/Table/TableNG/Filter/utils.ts","webpack://grafana/./packages/grafana-ui/src/components/Table/TableNG/Filter/FilterPopup.tsx","webpack://grafana/./packages/grafana-ui/src/components/Table/TableNG/Filter/FilterList.tsx","webpack://grafana/./packages/grafana-ui/src/components/Table/TableNG/Filter/Filter.tsx","webpack://grafana/./packages/grafana-ui/src/components/Table/TableNG/Cells/HeaderCell.tsx","webpack://grafana/./packages/grafana-ui/src/components/Table/TableNG/Cells/RowExpander.tsx","webpack://grafana/./packages/grafana-ui/src/components/Table/TableNG/types.ts","webpack://grafana/./packages/grafana-ui/src/components/Table/TableNG/Cells/TableCellActions.tsx","webpack://grafana/./packages/grafana-ui/src/components/Table/TableNG/Cells/ActionsCell.tsx","webpack://grafana/./node_modules/uwrap/dist/uWrap.mjs","webpack://grafana/./packages/grafana-ui/src/components/Table/TableNG/hooks.ts","webpack://grafana/./packages/grafana-ui/src/components/Table/TableNG/Cells/AutoCell.tsx","webpack://grafana/./packages/grafana-ui/src/components/Table/TableNG/Cells/BarGaugeCell.tsx","webpack://grafana/./packages/grafana-ui/src/components/Table/TableNG/Cells/DataLinksCell.tsx","webpack://grafana/./packages/grafana-ui/src/components/Table/TableNG/Cells/GeoCell.tsx","webpack://grafana/./packages/grafana-ui/src/components/Table/TableNG/Cells/ImageCell.tsx","webpack://grafana/./packages/grafana-ui/src/components/Table/TableNG/Cells/JSONCell.tsx","webpack://grafana/./packages/grafana-ui/src/components/Table/TableNG/Cells/PillCell.tsx","webpack://grafana/./packages/grafana-ui/src/components/Table/TableNG/Cells/SparklineCell.tsx","webpack://grafana/./packages/grafana-ui/src/components/Table/TableNG/Cells/renderers.tsx","webpack://grafana/./packages/grafana-ui/src/components/Table/TableNG/TableNG.tsx"],"sourcesContent":["import { createContext, forwardRef, memo, useCallback, useContext, useEffect, useImperativeHandle, useLayoutEffect, useMemo, useRef, useState } from \"react\";\nimport { flushSync } from \"react-dom\";\nimport clsx from \"clsx\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\n\n//#region src/utils/colSpanUtils.ts\nfunction getColSpan(column, lastFrozenColumnIndex, args) {\n\tconst colSpan = typeof column.colSpan === \"function\" ? column.colSpan(args) : 1;\n\tif (Number.isInteger(colSpan) && colSpan > 1 && (!column.frozen || column.idx + colSpan - 1 <= lastFrozenColumnIndex)) return colSpan;\n\treturn void 0;\n}\n\n//#endregion\n//#region src/utils/domUtils.ts\nfunction stopPropagation(event) {\n\tevent.stopPropagation();\n}\nfunction scrollIntoView(element, behavior = \"instant\") {\n\telement?.scrollIntoView({\n\t\tinline: \"nearest\",\n\t\tblock: \"nearest\",\n\t\tbehavior\n\t});\n}\n\n//#endregion\n//#region src/utils/eventUtils.ts\nfunction createCellEvent(event) {\n\tlet defaultPrevented = false;\n\tconst cellEvent = {\n\t\t...event,\n\t\tpreventGridDefault() {\n\t\t\tdefaultPrevented = true;\n\t\t},\n\t\tisGridDefaultPrevented() {\n\t\t\treturn defaultPrevented;\n\t\t}\n\t};\n\tObject.setPrototypeOf(cellEvent, Object.getPrototypeOf(event));\n\treturn cellEvent;\n}\n\n//#endregion\n//#region src/utils/keyboardUtils.ts\nconst nonInputKeys = new Set([\n\t\"Unidentified\",\n\t\"Alt\",\n\t\"AltGraph\",\n\t\"CapsLock\",\n\t\"Control\",\n\t\"Fn\",\n\t\"FnLock\",\n\t\"Meta\",\n\t\"NumLock\",\n\t\"ScrollLock\",\n\t\"Shift\",\n\t\"Tab\",\n\t\"ArrowDown\",\n\t\"ArrowLeft\",\n\t\"ArrowRight\",\n\t\"ArrowUp\",\n\t\"End\",\n\t\"Home\",\n\t\"PageDown\",\n\t\"PageUp\",\n\t\"Insert\",\n\t\"ContextMenu\",\n\t\"Escape\",\n\t\"Pause\",\n\t\"Play\",\n\t\"PrintScreen\",\n\t\"F1\",\n\t\"F3\",\n\t\"F4\",\n\t\"F5\",\n\t\"F6\",\n\t\"F7\",\n\t\"F8\",\n\t\"F9\",\n\t\"F10\",\n\t\"F11\",\n\t\"F12\"\n]);\nfunction isCtrlKeyHeldDown(e) {\n\treturn (e.ctrlKey || e.metaKey) && e.key !== \"Control\";\n}\nconst vKey = 86;\nfunction isDefaultCellInput(event, isUserHandlingPaste) {\n\tif (isCtrlKeyHeldDown(event) && (event.keyCode !== vKey || isUserHandlingPaste)) return false;\n\treturn !nonInputKeys.has(event.key);\n}\n/**\n* By default, the following navigation keys are enabled while an editor is open, under specific conditions:\n* - Tab:\n*   - The editor must be an <input>, a <textarea>, or a <select> element.\n*   - The editor element must be the only immediate child of the editor container/a label.\n*/\nfunction onEditorNavigation({ key, target }) {\n\tif (key === \"Tab\" && (target instanceof HTMLInputElement || target instanceof HTMLTextAreaElement || target instanceof HTMLSelectElement)) return target.closest(\".rdg-editor-container\")?.querySelectorAll(\"input, textarea, select\").length === 1;\n\treturn false;\n}\nfunction getLeftRightKey(direction) {\n\tconst isRtl = direction === \"rtl\";\n\treturn {\n\t\tleftKey: isRtl ? \"ArrowRight\" : \"ArrowLeft\",\n\t\trightKey: isRtl ? \"ArrowLeft\" : \"ArrowRight\"\n\t};\n}\n\n//#endregion\n//#region src/utils/renderMeasuringCells.tsx\nconst measuringCellClassname = \"mlln6zg7-0-0-beta-56\";\nfunction renderMeasuringCells(viewportColumns) {\n\treturn viewportColumns.map(({ key, idx, minWidth, maxWidth }) => /* @__PURE__ */ jsx(\"div\", {\n\t\tclassName: measuringCellClassname,\n\t\tstyle: {\n\t\t\tgridColumnStart: idx + 1,\n\t\t\tminWidth,\n\t\t\tmaxWidth\n\t\t},\n\t\t\"data-measuring-cell-key\": key\n\t}, key));\n}\n\n//#endregion\n//#region src/utils/selectedCellUtils.ts\nfunction isSelectedCellEditable({ selectedPosition, columns, rows }) {\n\tconst column = columns[selectedPosition.idx];\n\tconst row$1 = rows[selectedPosition.rowIdx];\n\treturn isCellEditableUtil(column, row$1);\n}\nfunction isCellEditableUtil(column, row$1) {\n\treturn column.renderEditCell != null && (typeof column.editable === \"function\" ? column.editable(row$1) : column.editable) !== false;\n}\nfunction getSelectedCellColSpan({ rows, topSummaryRows, bottomSummaryRows, rowIdx, mainHeaderRowIdx, lastFrozenColumnIndex, column }) {\n\tconst topSummaryRowsCount = topSummaryRows?.length ?? 0;\n\tif (rowIdx === mainHeaderRowIdx) return getColSpan(column, lastFrozenColumnIndex, { type: \"HEADER\" });\n\tif (topSummaryRows && rowIdx > mainHeaderRowIdx && rowIdx <= topSummaryRowsCount + mainHeaderRowIdx) return getColSpan(column, lastFrozenColumnIndex, {\n\t\ttype: \"SUMMARY\",\n\t\trow: topSummaryRows[rowIdx + topSummaryRowsCount]\n\t});\n\tif (rowIdx >= 0 && rowIdx < rows.length) {\n\t\tconst row$1 = rows[rowIdx];\n\t\treturn getColSpan(column, lastFrozenColumnIndex, {\n\t\t\ttype: \"ROW\",\n\t\t\trow: row$1\n\t\t});\n\t}\n\tif (bottomSummaryRows) return getColSpan(column, lastFrozenColumnIndex, {\n\t\ttype: \"SUMMARY\",\n\t\trow: bottomSummaryRows[rowIdx - rows.length]\n\t});\n\treturn void 0;\n}\nfunction getNextSelectedCellPosition({ moveUp, moveNext, cellNavigationMode, columns, colSpanColumns, rows, topSummaryRows, bottomSummaryRows, minRowIdx, mainHeaderRowIdx, maxRowIdx, currentPosition: { idx: currentIdx, rowIdx: currentRowIdx }, nextPosition, lastFrozenColumnIndex, isCellWithinBounds }) {\n\tlet { idx: nextIdx, rowIdx: nextRowIdx } = nextPosition;\n\tconst columnsCount = columns.length;\n\tconst setColSpan = (moveNext$1) => {\n\t\tfor (const column of colSpanColumns) {\n\t\t\tconst colIdx = column.idx;\n\t\t\tif (colIdx > nextIdx) break;\n\t\t\tconst colSpan = getSelectedCellColSpan({\n\t\t\t\trows,\n\t\t\t\ttopSummaryRows,\n\t\t\t\tbottomSummaryRows,\n\t\t\t\trowIdx: nextRowIdx,\n\t\t\t\tmainHeaderRowIdx,\n\t\t\t\tlastFrozenColumnIndex,\n\t\t\t\tcolumn\n\t\t\t});\n\t\t\tif (colSpan && nextIdx > colIdx && nextIdx < colSpan + colIdx) {\n\t\t\t\tnextIdx = colIdx + (moveNext$1 ? colSpan : 0);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t};\n\tconst getParentRowIdx = (parent) => {\n\t\treturn parent.level + mainHeaderRowIdx;\n\t};\n\tconst setHeaderGroupColAndRowSpan = () => {\n\t\tif (moveNext) {\n\t\t\tconst nextColumn = columns[nextIdx];\n\t\t\tlet parent = nextColumn.parent;\n\t\t\twhile (parent !== void 0) {\n\t\t\t\tconst parentRowIdx = getParentRowIdx(parent);\n\t\t\t\tif (nextRowIdx === parentRowIdx) {\n\t\t\t\t\tnextIdx = parent.idx + parent.colSpan;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tparent = parent.parent;\n\t\t\t}\n\t\t} else if (moveUp) {\n\t\t\tconst nextColumn = columns[nextIdx];\n\t\t\tlet parent = nextColumn.parent;\n\t\t\tlet found = false;\n\t\t\twhile (parent !== void 0) {\n\t\t\t\tconst parentRowIdx = getParentRowIdx(parent);\n\t\t\t\tif (nextRowIdx >= parentRowIdx) {\n\t\t\t\t\tnextIdx = parent.idx;\n\t\t\t\t\tnextRowIdx = parentRowIdx;\n\t\t\t\t\tfound = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tparent = parent.parent;\n\t\t\t}\n\t\t\tif (!found) {\n\t\t\t\tnextIdx = currentIdx;\n\t\t\t\tnextRowIdx = currentRowIdx;\n\t\t\t}\n\t\t}\n\t};\n\tif (isCellWithinBounds(nextPosition)) {\n\t\tsetColSpan(moveNext);\n\t\tif (nextRowIdx < mainHeaderRowIdx) setHeaderGroupColAndRowSpan();\n\t}\n\tif (cellNavigationMode === \"CHANGE_ROW\") {\n\t\tconst isAfterLastColumn = nextIdx === columnsCount;\n\t\tconst isBeforeFirstColumn = nextIdx === -1;\n\t\tif (isAfterLastColumn) {\n\t\t\tconst isLastRow = nextRowIdx === maxRowIdx;\n\t\t\tif (!isLastRow) {\n\t\t\t\tnextIdx = 0;\n\t\t\t\tnextRowIdx += 1;\n\t\t\t}\n\t\t} else if (isBeforeFirstColumn) {\n\t\t\tconst isFirstRow = nextRowIdx === minRowIdx;\n\t\t\tif (!isFirstRow) {\n\t\t\t\tnextRowIdx -= 1;\n\t\t\t\tnextIdx = columnsCount - 1;\n\t\t\t}\n\t\t\tsetColSpan(false);\n\t\t}\n\t}\n\tif (nextRowIdx < mainHeaderRowIdx && nextIdx > -1 && nextIdx < columnsCount) {\n\t\tconst nextColumn = columns[nextIdx];\n\t\tlet parent = nextColumn.parent;\n\t\tconst nextParentRowIdx = nextRowIdx;\n\t\tnextRowIdx = mainHeaderRowIdx;\n\t\twhile (parent !== void 0) {\n\t\t\tconst parentRowIdx = getParentRowIdx(parent);\n\t\t\tif (parentRowIdx >= nextParentRowIdx) {\n\t\t\t\tnextRowIdx = parentRowIdx;\n\t\t\t\tnextIdx = parent.idx;\n\t\t\t}\n\t\t\tparent = parent.parent;\n\t\t}\n\t}\n\treturn {\n\t\tidx: nextIdx,\n\t\trowIdx: nextRowIdx\n\t};\n}\nfunction canExitGrid({ maxColIdx, minRowIdx, maxRowIdx, selectedPosition: { rowIdx, idx }, shiftKey }) {\n\tconst atLastCellInRow = idx === maxColIdx;\n\tconst atFirstCellInRow = idx === 0;\n\tconst atLastRow = rowIdx === maxRowIdx;\n\tconst atFirstRow = rowIdx === minRowIdx;\n\treturn shiftKey ? atFirstCellInRow && atFirstRow : atLastCellInRow && atLastRow;\n}\n\n//#endregion\n//#region src/style/cell.ts\nconst cell = \"cj343x07-0-0-beta-56\";\nconst cellClassname = `rdg-cell ${cell}`;\nconst cellFrozen = \"csofj7r7-0-0-beta-56\";\nconst cellFrozenClassname = `rdg-cell-frozen ${cellFrozen}`;\nconst cellDragHandle = \"ch2wcw87-0-0-beta-56\";\nconst cellDragHandleFrozenClassname = \"c1wvphzh7-0-0-beta-56\";\nconst cellDragHandleClassname = `rdg-cell-drag-handle ${cellDragHandle}`;\n\n//#endregion\n//#region src/utils/styleUtils.ts\nfunction getRowStyle(rowIdx) {\n\treturn { \"--rdg-grid-row-start\": rowIdx };\n}\nfunction getHeaderCellStyle(column, rowIdx, rowSpan) {\n\tconst gridRowEnd = rowIdx + 1;\n\tconst paddingBlockStart = `calc(${rowSpan - 1} * var(--rdg-header-row-height))`;\n\tif (column.parent === void 0) return {\n\t\tinsetBlockStart: 0,\n\t\tgridRowStart: 1,\n\t\tgridRowEnd,\n\t\tpaddingBlockStart\n\t};\n\treturn {\n\t\tinsetBlockStart: `calc(${rowIdx - rowSpan} * var(--rdg-header-row-height))`,\n\t\tgridRowStart: gridRowEnd - rowSpan,\n\t\tgridRowEnd,\n\t\tpaddingBlockStart\n\t};\n}\nfunction getCellStyle(column, colSpan = 1) {\n\tconst index = column.idx + 1;\n\treturn {\n\t\tgridColumnStart: index,\n\t\tgridColumnEnd: index + colSpan,\n\t\tinsetInlineStart: column.frozen ? `var(--rdg-frozen-left-${column.idx})` : void 0\n\t};\n}\nfunction getCellClassname(column, ...extraClasses) {\n\treturn clsx(cellClassname, { [cellFrozenClassname]: column.frozen }, ...extraClasses);\n}\n\n//#endregion\n//#region src/utils/index.ts\nconst { min, max, floor, sign, abs } = Math;\nfunction assertIsValidKeyGetter(keyGetter) {\n\tif (typeof keyGetter !== \"function\") throw new Error(\"Please specify the rowKeyGetter prop to use selection\");\n}\nfunction clampColumnWidth(width, { minWidth, maxWidth }) {\n\twidth = max(width, minWidth);\n\tif (typeof maxWidth === \"number\" && maxWidth >= minWidth) return min(width, maxWidth);\n\treturn width;\n}\nfunction getHeaderCellRowSpan(column, rowIdx) {\n\treturn column.parent === void 0 ? rowIdx : column.level - column.parent.level;\n}\n\n//#endregion\n//#region src/cellRenderers/renderCheckbox.tsx\nconst checkbox = \"c1bn88vv7-0-0-beta-56\";\nconst checkboxClassname = `rdg-checkbox-input ${checkbox}`;\nfunction renderCheckbox({ onChange, indeterminate,...props }) {\n\tfunction handleChange(e) {\n\t\tonChange(e.target.checked, e.nativeEvent.shiftKey);\n\t}\n\treturn /* @__PURE__ */ jsx(\"input\", {\n\t\tref: (el) => {\n\t\t\tif (el) el.indeterminate = indeterminate === true;\n\t\t},\n\t\ttype: \"checkbox\",\n\t\tclassName: checkboxClassname,\n\t\tonChange: handleChange,\n\t\t...props\n\t});\n}\n\n//#endregion\n//#region src/cellRenderers/renderToggleGroup.tsx\nconst groupCellContent = \"g1s9ylgp7-0-0-beta-56\";\nconst groupCellContentClassname = `rdg-group-cell-content ${groupCellContent}`;\nconst caret = \"cz54e4y7-0-0-beta-56\";\nconst caretClassname = `rdg-caret ${caret}`;\nfunction renderToggleGroup(props) {\n\treturn /* @__PURE__ */ jsx(ToggleGroup, { ...props });\n}\nfunction ToggleGroup({ groupKey, isExpanded, tabIndex, toggleGroup }) {\n\tfunction handleKeyDown({ key }) {\n\t\tif (key === \"Enter\") toggleGroup();\n\t}\n\tconst d = isExpanded ? \"M1 1 L 7 7 L 13 1\" : \"M1 7 L 7 1 L 13 7\";\n\treturn /* @__PURE__ */ jsxs(\"span\", {\n\t\tclassName: groupCellContentClassname,\n\t\ttabIndex,\n\t\tonKeyDown: handleKeyDown,\n\t\tchildren: [groupKey, /* @__PURE__ */ jsx(\"svg\", {\n\t\t\tviewBox: \"0 0 14 8\",\n\t\t\twidth: \"14\",\n\t\t\theight: \"8\",\n\t\t\tclassName: caretClassname,\n\t\t\t\"aria-hidden\": true,\n\t\t\tchildren: /* @__PURE__ */ jsx(\"path\", { d })\n\t\t})]\n\t});\n}\n\n//#endregion\n//#region src/cellRenderers/renderValue.tsx\nfunction renderValue(props) {\n\ttry {\n\t\treturn props.row[props.column.key];\n\t} catch {\n\t\treturn null;\n\t}\n}\n\n//#endregion\n//#region src/DataGridDefaultRenderersContext.ts\nconst DataGridDefaultRenderersContext = createContext(void 0);\nfunction useDefaultRenderers() {\n\treturn useContext(DataGridDefaultRenderersContext);\n}\n\n//#endregion\n//#region src/cellRenderers/SelectCellFormatter.tsx\nfunction SelectCellFormatter({ value, tabIndex, indeterminate, disabled, onChange, \"aria-label\": ariaLabel, \"aria-labelledby\": ariaLabelledBy }) {\n\tconst renderCheckbox$1 = useDefaultRenderers().renderCheckbox;\n\treturn renderCheckbox$1({\n\t\t\"aria-label\": ariaLabel,\n\t\t\"aria-labelledby\": ariaLabelledBy,\n\t\ttabIndex,\n\t\tindeterminate,\n\t\tdisabled,\n\t\tchecked: value,\n\t\tonChange\n\t});\n}\n\n//#endregion\n//#region src/hooks/useRowSelection.ts\nconst RowSelectionContext = createContext(void 0);\nconst RowSelectionChangeContext = createContext(void 0);\nfunction useRowSelection() {\n\tconst rowSelectionContext = useContext(RowSelectionContext);\n\tconst rowSelectionChangeContext = useContext(RowSelectionChangeContext);\n\tif (rowSelectionContext === void 0 || rowSelectionChangeContext === void 0) throw new Error(\"useRowSelection must be used within renderCell\");\n\treturn {\n\t\tisRowSelectionDisabled: rowSelectionContext.isRowSelectionDisabled,\n\t\tisRowSelected: rowSelectionContext.isRowSelected,\n\t\tonRowSelectionChange: rowSelectionChangeContext\n\t};\n}\nconst HeaderRowSelectionContext = createContext(void 0);\nconst HeaderRowSelectionChangeContext = createContext(void 0);\nfunction useHeaderRowSelection() {\n\tconst headerRowSelectionContext = useContext(HeaderRowSelectionContext);\n\tconst headerRowSelectionChangeContext = useContext(HeaderRowSelectionChangeContext);\n\tif (headerRowSelectionContext === void 0 || headerRowSelectionChangeContext === void 0) throw new Error(\"useHeaderRowSelection must be used within renderHeaderCell\");\n\treturn {\n\t\tisIndeterminate: headerRowSelectionContext.isIndeterminate,\n\t\tisRowSelected: headerRowSelectionContext.isRowSelected,\n\t\tonRowSelectionChange: headerRowSelectionChangeContext\n\t};\n}\n\n//#endregion\n//#region src/Columns.tsx\nconst SELECT_COLUMN_KEY = \"rdg-select-column\";\nfunction HeaderRenderer(props) {\n\tconst { isIndeterminate, isRowSelected, onRowSelectionChange } = useHeaderRowSelection();\n\treturn /* @__PURE__ */ jsx(SelectCellFormatter, {\n\t\t\"aria-label\": \"Select All\",\n\t\ttabIndex: props.tabIndex,\n\t\tindeterminate: isIndeterminate,\n\t\tvalue: isRowSelected,\n\t\tonChange: (checked) => {\n\t\t\tonRowSelectionChange({ checked: isIndeterminate ? false : checked });\n\t\t}\n\t});\n}\nfunction SelectFormatter(props) {\n\tconst { isRowSelectionDisabled, isRowSelected, onRowSelectionChange } = useRowSelection();\n\treturn /* @__PURE__ */ jsx(SelectCellFormatter, {\n\t\t\"aria-label\": \"Select\",\n\t\ttabIndex: props.tabIndex,\n\t\tdisabled: isRowSelectionDisabled,\n\t\tvalue: isRowSelected,\n\t\tonChange: (checked, isShiftClick) => {\n\t\t\tonRowSelectionChange({\n\t\t\t\trow: props.row,\n\t\t\t\tchecked,\n\t\t\t\tisShiftClick\n\t\t\t});\n\t\t}\n\t});\n}\nfunction SelectGroupFormatter(props) {\n\tconst { isRowSelected, onRowSelectionChange } = useRowSelection();\n\treturn /* @__PURE__ */ jsx(SelectCellFormatter, {\n\t\t\"aria-label\": \"Select Group\",\n\t\ttabIndex: props.tabIndex,\n\t\tvalue: isRowSelected,\n\t\tonChange: (checked) => {\n\t\t\tonRowSelectionChange({\n\t\t\t\trow: props.row,\n\t\t\t\tchecked,\n\t\t\t\tisShiftClick: false\n\t\t\t});\n\t\t}\n\t});\n}\nconst SelectColumn = {\n\tkey: SELECT_COLUMN_KEY,\n\tname: \"\",\n\twidth: 35,\n\tminWidth: 35,\n\tmaxWidth: 35,\n\tresizable: false,\n\tsortable: false,\n\tfrozen: true,\n\trenderHeaderCell(props) {\n\t\treturn /* @__PURE__ */ jsx(HeaderRenderer, { ...props });\n\t},\n\trenderCell(props) {\n\t\treturn /* @__PURE__ */ jsx(SelectFormatter, { ...props });\n\t},\n\trenderGroupCell(props) {\n\t\treturn /* @__PURE__ */ jsx(SelectGroupFormatter, { ...props });\n\t}\n};\n\n//#endregion\n//#region src/renderHeaderCell.tsx\nconst headerSortCellClassname = \"h44jtk67-0-0-beta-56\";\nconst headerSortName = \"hcgkhxz7-0-0-beta-56\";\nconst headerSortNameClassname = `rdg-header-sort-name ${headerSortName}`;\nfunction renderHeaderCell({ column, sortDirection, priority }) {\n\tif (!column.sortable) return column.name;\n\treturn /* @__PURE__ */ jsx(SortableHeaderCell, {\n\t\tsortDirection,\n\t\tpriority,\n\t\tchildren: column.name\n\t});\n}\nfunction SortableHeaderCell({ sortDirection, priority, children }) {\n\tconst renderSortStatus$1 = useDefaultRenderers().renderSortStatus;\n\treturn /* @__PURE__ */ jsxs(\"span\", {\n\t\tclassName: headerSortCellClassname,\n\t\tchildren: [/* @__PURE__ */ jsx(\"span\", {\n\t\t\tclassName: headerSortNameClassname,\n\t\t\tchildren\n\t\t}), /* @__PURE__ */ jsx(\"span\", { children: renderSortStatus$1({\n\t\t\tsortDirection,\n\t\t\tpriority\n\t\t}) })]\n\t});\n}\n\n//#endregion\n//#region src/hooks/useCalculatedColumns.ts\nconst DEFAULT_COLUMN_WIDTH = \"auto\";\nconst DEFAULT_COLUMN_MIN_WIDTH = 50;\nfunction useCalculatedColumns({ rawColumns, defaultColumnOptions, getColumnWidth, viewportWidth, scrollLeft, enableVirtualization }) {\n\tconst defaultWidth = defaultColumnOptions?.width ?? DEFAULT_COLUMN_WIDTH;\n\tconst defaultMinWidth = defaultColumnOptions?.minWidth ?? DEFAULT_COLUMN_MIN_WIDTH;\n\tconst defaultMaxWidth = defaultColumnOptions?.maxWidth ?? void 0;\n\tconst defaultRenderCell$1 = defaultColumnOptions?.renderCell ?? renderValue;\n\tconst defaultRenderHeaderCell = defaultColumnOptions?.renderHeaderCell ?? renderHeaderCell;\n\tconst defaultSortable = defaultColumnOptions?.sortable ?? false;\n\tconst defaultResizable = defaultColumnOptions?.resizable ?? false;\n\tconst defaultDraggable = defaultColumnOptions?.draggable ?? false;\n\tconst { columns, colSpanColumns, lastFrozenColumnIndex, headerRowsCount } = useMemo(() => {\n\t\tlet lastFrozenColumnIndex$1 = -1;\n\t\tlet headerRowsCount$1 = 1;\n\t\tconst columns$1 = [];\n\t\tcollectColumns(rawColumns, 1);\n\t\tfunction collectColumns(rawColumns$1, level, parent) {\n\t\t\tfor (const rawColumn of rawColumns$1) {\n\t\t\t\tif (\"children\" in rawColumn) {\n\t\t\t\t\tconst calculatedColumnParent = {\n\t\t\t\t\t\tname: rawColumn.name,\n\t\t\t\t\t\tparent,\n\t\t\t\t\t\tidx: -1,\n\t\t\t\t\t\tcolSpan: 0,\n\t\t\t\t\t\tlevel: 0,\n\t\t\t\t\t\theaderCellClass: rawColumn.headerCellClass\n\t\t\t\t\t};\n\t\t\t\t\tcollectColumns(rawColumn.children, level + 1, calculatedColumnParent);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tconst frozen = rawColumn.frozen ?? false;\n\t\t\t\tconst column = {\n\t\t\t\t\t...rawColumn,\n\t\t\t\t\tparent,\n\t\t\t\t\tidx: 0,\n\t\t\t\t\tlevel: 0,\n\t\t\t\t\tfrozen,\n\t\t\t\t\twidth: rawColumn.width ?? defaultWidth,\n\t\t\t\t\tminWidth: rawColumn.minWidth ?? defaultMinWidth,\n\t\t\t\t\tmaxWidth: rawColumn.maxWidth ?? defaultMaxWidth,\n\t\t\t\t\tsortable: rawColumn.sortable ?? defaultSortable,\n\t\t\t\t\tresizable: rawColumn.resizable ?? defaultResizable,\n\t\t\t\t\tdraggable: rawColumn.draggable ?? defaultDraggable,\n\t\t\t\t\trenderCell: rawColumn.renderCell ?? defaultRenderCell$1,\n\t\t\t\t\trenderHeaderCell: rawColumn.renderHeaderCell ?? defaultRenderHeaderCell\n\t\t\t\t};\n\t\t\t\tcolumns$1.push(column);\n\t\t\t\tif (frozen) lastFrozenColumnIndex$1++;\n\t\t\t\tif (level > headerRowsCount$1) headerRowsCount$1 = level;\n\t\t\t}\n\t\t}\n\t\tcolumns$1.sort(({ key: aKey, frozen: frozenA }, { key: bKey, frozen: frozenB }) => {\n\t\t\tif (aKey === SELECT_COLUMN_KEY) return -1;\n\t\t\tif (bKey === SELECT_COLUMN_KEY) return 1;\n\t\t\tif (frozenA) {\n\t\t\t\tif (frozenB) return 0;\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif (frozenB) return 1;\n\t\t\treturn 0;\n\t\t});\n\t\tconst colSpanColumns$1 = [];\n\t\tcolumns$1.forEach((column, idx) => {\n\t\t\tcolumn.idx = idx;\n\t\t\tupdateColumnParent(column, idx, 0);\n\t\t\tif (column.colSpan != null) colSpanColumns$1.push(column);\n\t\t});\n\t\treturn {\n\t\t\tcolumns: columns$1,\n\t\t\tcolSpanColumns: colSpanColumns$1,\n\t\t\tlastFrozenColumnIndex: lastFrozenColumnIndex$1,\n\t\t\theaderRowsCount: headerRowsCount$1\n\t\t};\n\t}, [\n\t\trawColumns,\n\t\tdefaultWidth,\n\t\tdefaultMinWidth,\n\t\tdefaultMaxWidth,\n\t\tdefaultRenderCell$1,\n\t\tdefaultRenderHeaderCell,\n\t\tdefaultResizable,\n\t\tdefaultSortable,\n\t\tdefaultDraggable\n\t]);\n\tconst { templateColumns, layoutCssVars, totalFrozenColumnWidth, columnMetrics } = useMemo(() => {\n\t\tconst columnMetrics$1 = /* @__PURE__ */ new Map();\n\t\tlet left = 0;\n\t\tlet totalFrozenColumnWidth$1 = 0;\n\t\tconst templateColumns$1 = [];\n\t\tfor (const column of columns) {\n\t\t\tlet width = getColumnWidth(column);\n\t\t\tif (typeof width === \"number\") width = clampColumnWidth(width, column);\n\t\t\telse width = column.minWidth;\n\t\t\ttemplateColumns$1.push(`${width}px`);\n\t\t\tcolumnMetrics$1.set(column, {\n\t\t\t\twidth,\n\t\t\t\tleft\n\t\t\t});\n\t\t\tleft += width;\n\t\t}\n\t\tif (lastFrozenColumnIndex !== -1) {\n\t\t\tconst columnMetric = columnMetrics$1.get(columns[lastFrozenColumnIndex]);\n\t\t\ttotalFrozenColumnWidth$1 = columnMetric.left + columnMetric.width;\n\t\t}\n\t\tconst layoutCssVars$1 = {};\n\t\tfor (let i = 0; i <= lastFrozenColumnIndex; i++) {\n\t\t\tconst column = columns[i];\n\t\t\tlayoutCssVars$1[`--rdg-frozen-left-${column.idx}`] = `${columnMetrics$1.get(column).left}px`;\n\t\t}\n\t\treturn {\n\t\t\ttemplateColumns: templateColumns$1,\n\t\t\tlayoutCssVars: layoutCssVars$1,\n\t\t\ttotalFrozenColumnWidth: totalFrozenColumnWidth$1,\n\t\t\tcolumnMetrics: columnMetrics$1\n\t\t};\n\t}, [\n\t\tgetColumnWidth,\n\t\tcolumns,\n\t\tlastFrozenColumnIndex\n\t]);\n\tconst [colOverscanStartIdx, colOverscanEndIdx] = useMemo(() => {\n\t\tif (!enableVirtualization) return [0, columns.length - 1];\n\t\tconst viewportLeft = scrollLeft + totalFrozenColumnWidth;\n\t\tconst viewportRight = scrollLeft + viewportWidth;\n\t\tconst lastColIdx = columns.length - 1;\n\t\tconst firstUnfrozenColumnIdx = min(lastFrozenColumnIndex + 1, lastColIdx);\n\t\tif (viewportLeft >= viewportRight) return [firstUnfrozenColumnIdx, firstUnfrozenColumnIdx];\n\t\tlet colVisibleStartIdx = firstUnfrozenColumnIdx;\n\t\twhile (colVisibleStartIdx < lastColIdx) {\n\t\t\tconst { left, width } = columnMetrics.get(columns[colVisibleStartIdx]);\n\t\t\tif (left + width > viewportLeft) break;\n\t\t\tcolVisibleStartIdx++;\n\t\t}\n\t\tlet colVisibleEndIdx = colVisibleStartIdx;\n\t\twhile (colVisibleEndIdx < lastColIdx) {\n\t\t\tconst { left, width } = columnMetrics.get(columns[colVisibleEndIdx]);\n\t\t\tif (left + width >= viewportRight) break;\n\t\t\tcolVisibleEndIdx++;\n\t\t}\n\t\tconst colOverscanStartIdx$1 = max(firstUnfrozenColumnIdx, colVisibleStartIdx - 1);\n\t\tconst colOverscanEndIdx$1 = min(lastColIdx, colVisibleEndIdx + 1);\n\t\treturn [colOverscanStartIdx$1, colOverscanEndIdx$1];\n\t}, [\n\t\tcolumnMetrics,\n\t\tcolumns,\n\t\tlastFrozenColumnIndex,\n\t\tscrollLeft,\n\t\ttotalFrozenColumnWidth,\n\t\tviewportWidth,\n\t\tenableVirtualization\n\t]);\n\treturn {\n\t\tcolumns,\n\t\tcolSpanColumns,\n\t\tcolOverscanStartIdx,\n\t\tcolOverscanEndIdx,\n\t\ttemplateColumns,\n\t\tlayoutCssVars,\n\t\theaderRowsCount,\n\t\tlastFrozenColumnIndex,\n\t\ttotalFrozenColumnWidth\n\t};\n}\nfunction updateColumnParent(column, index, level) {\n\tif (level < column.level) column.level = level;\n\tif (column.parent !== void 0) {\n\t\tconst { parent } = column;\n\t\tif (parent.idx === -1) parent.idx = index;\n\t\tparent.colSpan += 1;\n\t\tupdateColumnParent(parent, index, level - 1);\n\t}\n}\n\n//#endregion\n//#region src/hooks/useLayoutEffect.ts\nconst useLayoutEffect$1 = typeof window === \"undefined\" ? useEffect : useLayoutEffect;\n\n//#endregion\n//#region src/hooks/useColumnWidths.ts\nfunction useColumnWidths(columns, viewportColumns, templateColumns, gridRef, gridWidth, columnWidths, onColumnWidthsChange, onColumnResize, setColumnResizing) {\n\tconst [columnToAutoResize, setColumnToAutoResize] = useState(null);\n\tconst [columnsToMeasureOnResize, setColumnsToMeasureOnResize] = useState(null);\n\tconst [prevGridWidth, setPreviousGridWidth] = useState(gridWidth);\n\tconst columnsCanFlex = columns.length === viewportColumns.length;\n\tconst ignorePreviouslyMeasuredColumnsOnGridWidthChange = columnsCanFlex && gridWidth !== prevGridWidth;\n\tconst newTemplateColumns = [...templateColumns];\n\tconst columnsToMeasure = [];\n\tfor (const { key, idx, width } of viewportColumns) {\n\t\tconst columnWidth = columnWidths.get(key);\n\t\tif (key === columnToAutoResize?.key) {\n\t\t\tnewTemplateColumns[idx] = columnToAutoResize.width === \"max-content\" ? columnToAutoResize.width : `${columnToAutoResize.width}px`;\n\t\t\tcolumnsToMeasure.push(key);\n\t\t} else if (typeof width === \"string\" && columnWidth?.type !== \"resized\" && (ignorePreviouslyMeasuredColumnsOnGridWidthChange || columnsToMeasureOnResize?.has(key) === true || columnWidth === void 0)) {\n\t\t\tnewTemplateColumns[idx] = width;\n\t\t\tcolumnsToMeasure.push(key);\n\t\t}\n\t}\n\tconst gridTemplateColumns = newTemplateColumns.join(\" \");\n\tuseLayoutEffect$1(updateMeasuredAndResizedWidths);\n\tfunction updateMeasuredAndResizedWidths() {\n\t\tsetPreviousGridWidth(gridWidth);\n\t\tif (columnsToMeasure.length === 0) return;\n\t\tconst newColumnWidths = new Map(columnWidths);\n\t\tlet hasChanges = false;\n\t\tfor (const key of columnsToMeasure) {\n\t\t\tconst measuredWidth = measureColumnWidth(gridRef, key);\n\t\t\thasChanges ||= measuredWidth !== columnWidths.get(key)?.width;\n\t\t\tif (measuredWidth === void 0) newColumnWidths.delete(key);\n\t\t\telse newColumnWidths.set(key, {\n\t\t\t\ttype: \"measured\",\n\t\t\t\twidth: measuredWidth\n\t\t\t});\n\t\t}\n\t\tif (columnToAutoResize !== null) {\n\t\t\tconst resizingKey = columnToAutoResize.key;\n\t\t\tconst oldWidth = columnWidths.get(resizingKey)?.width;\n\t\t\tconst newWidth = measureColumnWidth(gridRef, resizingKey);\n\t\t\tif (newWidth !== void 0 && oldWidth !== newWidth) {\n\t\t\t\thasChanges = true;\n\t\t\t\tnewColumnWidths.set(resizingKey, {\n\t\t\t\t\ttype: \"resized\",\n\t\t\t\t\twidth: newWidth\n\t\t\t\t});\n\t\t\t}\n\t\t\tsetColumnToAutoResize(null);\n\t\t}\n\t\tif (hasChanges) onColumnWidthsChange(newColumnWidths);\n\t}\n\tfunction handleColumnResize(column, nextWidth) {\n\t\tconst { key: resizingKey } = column;\n\t\tflushSync(() => {\n\t\t\tif (columnsCanFlex) {\n\t\t\t\tconst columnsToRemeasure = /* @__PURE__ */ new Set();\n\t\t\t\tfor (const { key, width } of viewportColumns) if (resizingKey !== key && typeof width === \"string\" && columnWidths.get(key)?.type !== \"resized\") columnsToRemeasure.add(key);\n\t\t\t\tsetColumnsToMeasureOnResize(columnsToRemeasure);\n\t\t\t}\n\t\t\tsetColumnToAutoResize({\n\t\t\t\tkey: resizingKey,\n\t\t\t\twidth: nextWidth\n\t\t\t});\n\t\t\tsetColumnResizing(typeof nextWidth === \"number\");\n\t\t});\n\t\tsetColumnsToMeasureOnResize(null);\n\t\tif (onColumnResize) {\n\t\t\tconst previousWidth = columnWidths.get(resizingKey)?.width;\n\t\t\tconst newWidth = typeof nextWidth === \"number\" ? nextWidth : measureColumnWidth(gridRef, resizingKey);\n\t\t\tif (newWidth !== void 0 && newWidth !== previousWidth) onColumnResize(column, newWidth);\n\t\t}\n\t}\n\treturn {\n\t\tgridTemplateColumns,\n\t\thandleColumnResize\n\t};\n}\nfunction measureColumnWidth(gridRef, key) {\n\tconst selector = `[data-measuring-cell-key=\"${CSS.escape(key)}\"]`;\n\tconst measuringCell = gridRef.current?.querySelector(selector);\n\treturn measuringCell?.getBoundingClientRect().width;\n}\n\n//#endregion\n//#region src/hooks/useGridDimensions.ts\nfunction useGridDimensions() {\n\tconst gridRef = useRef(null);\n\tconst [inlineSize, setInlineSize] = useState(1);\n\tconst [blockSize, setBlockSize] = useState(1);\n\tconst [horizontalScrollbarHeight, setHorizontalScrollbarHeight] = useState(0);\n\tuseLayoutEffect$1(() => {\n\t\tconst { ResizeObserver } = window;\n\t\tif (ResizeObserver == null) return;\n\t\tconst { clientWidth, clientHeight, offsetWidth, offsetHeight } = gridRef.current;\n\t\tconst { width, height } = gridRef.current.getBoundingClientRect();\n\t\tconst initialHorizontalScrollbarHeight = offsetHeight - clientHeight;\n\t\tconst initialWidth = width - offsetWidth + clientWidth;\n\t\tconst initialHeight = height - initialHorizontalScrollbarHeight;\n\t\tsetInlineSize(initialWidth);\n\t\tsetBlockSize(initialHeight);\n\t\tsetHorizontalScrollbarHeight(initialHorizontalScrollbarHeight);\n\t\tconst resizeObserver = new ResizeObserver((entries) => {\n\t\t\tconst size = entries[0].contentBoxSize[0];\n\t\t\tconst { clientHeight: clientHeight$1, offsetHeight: offsetHeight$1 } = gridRef.current;\n\t\t\tflushSync(() => {\n\t\t\t\tsetInlineSize(size.inlineSize);\n\t\t\t\tsetBlockSize(size.blockSize);\n\t\t\t\tsetHorizontalScrollbarHeight(offsetHeight$1 - clientHeight$1);\n\t\t\t});\n\t\t});\n\t\tresizeObserver.observe(gridRef.current);\n\t\treturn () => {\n\t\t\tresizeObserver.disconnect();\n\t\t};\n\t}, []);\n\treturn [\n\t\tgridRef,\n\t\tinlineSize,\n\t\tblockSize,\n\t\thorizontalScrollbarHeight\n\t];\n}\n\n//#endregion\n//#region src/hooks/useLatestFunc.ts\nfunction useLatestFunc(fn) {\n\tconst ref = useRef(fn);\n\tuseLayoutEffect(() => {\n\t\tref.current = fn;\n\t});\n\tconst callbackFn = useCallback((...args) => {\n\t\tref.current(...args);\n\t}, []);\n\treturn fn ? callbackFn : fn;\n}\n\n//#endregion\n//#region src/hooks/useRovingTabIndex.ts\nfunction useRovingTabIndex(isSelected) {\n\tconst [isChildFocused, setIsChildFocused] = useState(false);\n\tif (isChildFocused && !isSelected) setIsChildFocused(false);\n\tfunction onFocus(event) {\n\t\tif (event.target === event.currentTarget) {\n\t\t\tconst elementToFocus = event.currentTarget.querySelector(\"[tabindex=\\\"0\\\"]\");\n\t\t\tif (elementToFocus !== null) {\n\t\t\t\telementToFocus.focus({ preventScroll: true });\n\t\t\t\tsetIsChildFocused(true);\n\t\t\t} else setIsChildFocused(false);\n\t\t} else setIsChildFocused(true);\n\t}\n\tconst isFocusable = isSelected && !isChildFocused;\n\treturn {\n\t\ttabIndex: isFocusable ? 0 : -1,\n\t\tchildTabIndex: isSelected ? 0 : -1,\n\t\tonFocus: isSelected ? onFocus : void 0\n\t};\n}\n\n//#endregion\n//#region src/hooks/useViewportColumns.ts\nfunction useViewportColumns({ columns, colSpanColumns, rows, topSummaryRows, bottomSummaryRows, colOverscanStartIdx, colOverscanEndIdx, lastFrozenColumnIndex, rowOverscanStartIdx, rowOverscanEndIdx }) {\n\tconst startIdx = useMemo(() => {\n\t\tif (colOverscanStartIdx === 0) return 0;\n\t\tlet startIdx$1 = colOverscanStartIdx;\n\t\tconst updateStartIdx = (colIdx, colSpan) => {\n\t\t\tif (colSpan !== void 0 && colIdx + colSpan > colOverscanStartIdx) {\n\t\t\t\tstartIdx$1 = colIdx;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\tfor (const column of colSpanColumns) {\n\t\t\tconst colIdx = column.idx;\n\t\t\tif (colIdx >= startIdx$1) break;\n\t\t\tif (updateStartIdx(colIdx, getColSpan(column, lastFrozenColumnIndex, { type: \"HEADER\" }))) break;\n\t\t\tfor (let rowIdx = rowOverscanStartIdx; rowIdx <= rowOverscanEndIdx; rowIdx++) {\n\t\t\t\tconst row$1 = rows[rowIdx];\n\t\t\t\tif (updateStartIdx(colIdx, getColSpan(column, lastFrozenColumnIndex, {\n\t\t\t\t\ttype: \"ROW\",\n\t\t\t\t\trow: row$1\n\t\t\t\t}))) break;\n\t\t\t}\n\t\t\tif (topSummaryRows != null) {\n\t\t\t\tfor (const row$1 of topSummaryRows) if (updateStartIdx(colIdx, getColSpan(column, lastFrozenColumnIndex, {\n\t\t\t\t\ttype: \"SUMMARY\",\n\t\t\t\t\trow: row$1\n\t\t\t\t}))) break;\n\t\t\t}\n\t\t\tif (bottomSummaryRows != null) {\n\t\t\t\tfor (const row$1 of bottomSummaryRows) if (updateStartIdx(colIdx, getColSpan(column, lastFrozenColumnIndex, {\n\t\t\t\t\ttype: \"SUMMARY\",\n\t\t\t\t\trow: row$1\n\t\t\t\t}))) break;\n\t\t\t}\n\t\t}\n\t\treturn startIdx$1;\n\t}, [\n\t\trowOverscanStartIdx,\n\t\trowOverscanEndIdx,\n\t\trows,\n\t\ttopSummaryRows,\n\t\tbottomSummaryRows,\n\t\tcolOverscanStartIdx,\n\t\tlastFrozenColumnIndex,\n\t\tcolSpanColumns\n\t]);\n\treturn useMemo(() => {\n\t\tconst viewportColumns = [];\n\t\tfor (let colIdx = 0; colIdx <= colOverscanEndIdx; colIdx++) {\n\t\t\tconst column = columns[colIdx];\n\t\t\tif (colIdx < startIdx && !column.frozen) continue;\n\t\t\tviewportColumns.push(column);\n\t\t}\n\t\treturn viewportColumns;\n\t}, [\n\t\tstartIdx,\n\t\tcolOverscanEndIdx,\n\t\tcolumns\n\t]);\n}\n\n//#endregion\n//#region src/hooks/useViewportRows.ts\nfunction useViewportRows({ rows, rowHeight, clientHeight, scrollTop, enableVirtualization }) {\n\tconst { totalRowHeight, gridTemplateRows, getRowTop, getRowHeight, findRowIdx } = useMemo(() => {\n\t\tif (typeof rowHeight === \"number\") return {\n\t\t\ttotalRowHeight: rowHeight * rows.length,\n\t\t\tgridTemplateRows: ` repeat(${rows.length}, ${rowHeight}px)`,\n\t\t\tgetRowTop: (rowIdx) => rowIdx * rowHeight,\n\t\t\tgetRowHeight: () => rowHeight,\n\t\t\tfindRowIdx: (offset) => floor(offset / rowHeight)\n\t\t};\n\t\tlet totalRowHeight$1 = 0;\n\t\tlet gridTemplateRows$1 = \" \";\n\t\tconst rowPositions = rows.map((row$1) => {\n\t\t\tconst currentRowHeight = rowHeight(row$1);\n\t\t\tconst position = {\n\t\t\t\ttop: totalRowHeight$1,\n\t\t\t\theight: currentRowHeight\n\t\t\t};\n\t\t\tgridTemplateRows$1 += `${currentRowHeight}px `;\n\t\t\ttotalRowHeight$1 += currentRowHeight;\n\t\t\treturn position;\n\t\t});\n\t\tconst validateRowIdx = (rowIdx) => {\n\t\t\treturn max(0, min(rows.length - 1, rowIdx));\n\t\t};\n\t\treturn {\n\t\t\ttotalRowHeight: totalRowHeight$1,\n\t\t\tgridTemplateRows: gridTemplateRows$1,\n\t\t\tgetRowTop: (rowIdx) => rowPositions[validateRowIdx(rowIdx)].top,\n\t\t\tgetRowHeight: (rowIdx) => rowPositions[validateRowIdx(rowIdx)].height,\n\t\t\tfindRowIdx(offset) {\n\t\t\t\tlet start = 0;\n\t\t\t\tlet end = rowPositions.length - 1;\n\t\t\t\twhile (start <= end) {\n\t\t\t\t\tconst middle = start + floor((end - start) / 2);\n\t\t\t\t\tconst currentOffset = rowPositions[middle].top;\n\t\t\t\t\tif (currentOffset === offset) return middle;\n\t\t\t\t\tif (currentOffset < offset) start = middle + 1;\n\t\t\t\t\telse if (currentOffset > offset) end = middle - 1;\n\t\t\t\t\tif (start > end) return end;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t};\n\t}, [rowHeight, rows]);\n\tlet rowOverscanStartIdx = 0;\n\tlet rowOverscanEndIdx = rows.length - 1;\n\tif (enableVirtualization) {\n\t\tconst overscanThreshold = 4;\n\t\tconst rowVisibleStartIdx = findRowIdx(scrollTop);\n\t\tconst rowVisibleEndIdx = findRowIdx(scrollTop + clientHeight);\n\t\trowOverscanStartIdx = max(0, rowVisibleStartIdx - overscanThreshold);\n\t\trowOverscanEndIdx = min(rows.length - 1, rowVisibleEndIdx + overscanThreshold);\n\t}\n\treturn {\n\t\trowOverscanStartIdx,\n\t\trowOverscanEndIdx,\n\t\ttotalRowHeight,\n\t\tgridTemplateRows,\n\t\tgetRowTop,\n\t\tgetRowHeight,\n\t\tfindRowIdx\n\t};\n}\n\n//#endregion\n//#region src/Cell.tsx\nconst cellDraggedOver = \"c6ra8a37-0-0-beta-56\";\nconst cellDraggedOverClassname = `rdg-cell-dragged-over ${cellDraggedOver}`;\nfunction Cell({ column, colSpan, isCellSelected, isDraggedOver, row: row$1, rowIdx, className, onMouseDown, onCellMouseDown, onClick, onCellClick, onDoubleClick, onCellDoubleClick, onContextMenu, onCellContextMenu, onRowChange, selectCell, style,...props }, ref) {\n\tconst { tabIndex, childTabIndex, onFocus } = useRovingTabIndex(isCellSelected);\n\tconst { cellClass } = column;\n\tclassName = getCellClassname(column, { [cellDraggedOverClassname]: isDraggedOver }, typeof cellClass === \"function\" ? cellClass(row$1) : cellClass, className);\n\tconst isEditable = isCellEditableUtil(column, row$1);\n\tfunction selectCellWrapper(enableEditor) {\n\t\tselectCell({\n\t\t\trowIdx,\n\t\t\tidx: column.idx\n\t\t}, { enableEditor });\n\t}\n\tfunction handleMouseEvent(event, eventHandler) {\n\t\tlet eventHandled = false;\n\t\tif (eventHandler) {\n\t\t\tconst cellEvent = createCellEvent(event);\n\t\t\teventHandler({\n\t\t\t\trowIdx,\n\t\t\t\trow: row$1,\n\t\t\t\tcolumn,\n\t\t\t\tselectCell: selectCellWrapper\n\t\t\t}, cellEvent);\n\t\t\teventHandled = cellEvent.isGridDefaultPrevented();\n\t\t}\n\t\treturn eventHandled;\n\t}\n\tfunction handleMouseDown(event) {\n\t\tonMouseDown?.(event);\n\t\tif (!handleMouseEvent(event, onCellMouseDown)) selectCellWrapper();\n\t}\n\tfunction handleClick(event) {\n\t\tonClick?.(event);\n\t\thandleMouseEvent(event, onCellClick);\n\t}\n\tfunction handleDoubleClick(event) {\n\t\tonDoubleClick?.(event);\n\t\tif (!handleMouseEvent(event, onCellDoubleClick)) selectCellWrapper(true);\n\t}\n\tfunction handleContextMenu(event) {\n\t\tonContextMenu?.(event);\n\t\thandleMouseEvent(event, onCellContextMenu);\n\t}\n\tfunction handleRowChange(newRow) {\n\t\tonRowChange(column, newRow);\n\t}\n\treturn /* @__PURE__ */ jsx(\"div\", {\n\t\trole: \"gridcell\",\n\t\t\"aria-colindex\": column.idx + 1,\n\t\t\"aria-colspan\": colSpan,\n\t\t\"aria-selected\": isCellSelected,\n\t\t\"aria-readonly\": !isEditable || void 0,\n\t\tref,\n\t\ttabIndex,\n\t\tclassName,\n\t\tstyle: {\n\t\t\t...getCellStyle(column, colSpan),\n\t\t\t...style\n\t\t},\n\t\tonClick: handleClick,\n\t\tonMouseDown: handleMouseDown,\n\t\tonDoubleClick: handleDoubleClick,\n\t\tonContextMenu: handleContextMenu,\n\t\tonFocus,\n\t\t...props,\n\t\tchildren: column.renderCell({\n\t\t\tcolumn,\n\t\t\trow: row$1,\n\t\t\trowIdx,\n\t\t\tisCellEditable: isEditable,\n\t\t\ttabIndex: childTabIndex,\n\t\t\tonRowChange: handleRowChange\n\t\t})\n\t});\n}\nconst CellComponent = memo(forwardRef(Cell));\nvar Cell_default = CellComponent;\nfunction defaultRenderCell(key, props) {\n\treturn /* @__PURE__ */ jsx(CellComponent, { ...props }, key);\n}\n\n//#endregion\n//#region src/EditCell.tsx\nconst canUsePostTask = typeof scheduler === \"object\" && typeof scheduler.postTask === \"function\";\nconst cellEditing = \"cis5rrm7-0-0-beta-56\";\nfunction EditCell({ column, colSpan, row: row$1, rowIdx, onRowChange, closeEditor, onKeyDown, navigate }) {\n\tconst captureEventRef = useRef(void 0);\n\tconst abortControllerRef = useRef(void 0);\n\tconst frameRequestRef = useRef(void 0);\n\tconst commitOnOutsideClick = column.editorOptions?.commitOnOutsideClick ?? true;\n\tconst commitOnOutsideMouseDown = useLatestFunc(() => {\n\t\tonClose(true, false);\n\t});\n\tuseLayoutEffect(() => {\n\t\tif (!commitOnOutsideClick) return;\n\t\tfunction onWindowCaptureMouseDown(event) {\n\t\t\tcaptureEventRef.current = event;\n\t\t\tif (canUsePostTask) {\n\t\t\t\tconst abortController = new AbortController();\n\t\t\t\tconst { signal } = abortController;\n\t\t\t\tabortControllerRef.current = abortController;\n\t\t\t\tscheduler.postTask(commitOnOutsideMouseDown, {\n\t\t\t\t\tpriority: \"user-blocking\",\n\t\t\t\t\tsignal\n\t\t\t\t}).catch(() => {});\n\t\t\t} else frameRequestRef.current = requestAnimationFrame(commitOnOutsideMouseDown);\n\t\t}\n\t\tfunction onWindowMouseDown(event) {\n\t\t\tif (captureEventRef.current === event) commitOnOutsideMouseDown();\n\t\t}\n\t\taddEventListener(\"mousedown\", onWindowCaptureMouseDown, { capture: true });\n\t\taddEventListener(\"mousedown\", onWindowMouseDown);\n\t\treturn () => {\n\t\t\tremoveEventListener(\"mousedown\", onWindowCaptureMouseDown, { capture: true });\n\t\t\tremoveEventListener(\"mousedown\", onWindowMouseDown);\n\t\t\tcancelTask();\n\t\t};\n\t}, [commitOnOutsideClick, commitOnOutsideMouseDown]);\n\tfunction cancelTask() {\n\t\tcaptureEventRef.current = void 0;\n\t\tif (abortControllerRef.current !== void 0) {\n\t\t\tabortControllerRef.current.abort();\n\t\t\tabortControllerRef.current = void 0;\n\t\t}\n\t\tif (frameRequestRef.current !== void 0) {\n\t\t\tcancelAnimationFrame(frameRequestRef.current);\n\t\t\tframeRequestRef.current = void 0;\n\t\t}\n\t}\n\tfunction handleKeyDown(event) {\n\t\tif (onKeyDown) {\n\t\t\tconst cellEvent = createCellEvent(event);\n\t\t\tonKeyDown({\n\t\t\t\tmode: \"EDIT\",\n\t\t\t\trow: row$1,\n\t\t\t\tcolumn,\n\t\t\t\trowIdx,\n\t\t\t\tnavigate() {\n\t\t\t\t\tnavigate(event);\n\t\t\t\t},\n\t\t\t\tonClose\n\t\t\t}, cellEvent);\n\t\t\tif (cellEvent.isGridDefaultPrevented()) return;\n\t\t}\n\t\tif (event.key === \"Escape\") onClose();\n\t\telse if (event.key === \"Enter\") onClose(true);\n\t\telse if (onEditorNavigation(event)) navigate(event);\n\t}\n\tfunction onClose(commitChanges = false, shouldFocusCell = true) {\n\t\tif (commitChanges) onRowChange(row$1, true, shouldFocusCell);\n\t\telse closeEditor(shouldFocusCell);\n\t}\n\tfunction onEditorRowChange(row$2, commitChangesAndFocus = false) {\n\t\tonRowChange(row$2, commitChangesAndFocus, commitChangesAndFocus);\n\t}\n\tconst { cellClass } = column;\n\tconst className = getCellClassname(column, \"rdg-editor-container\", !column.editorOptions?.displayCellContent && cellEditing, typeof cellClass === \"function\" ? cellClass(row$1) : cellClass);\n\treturn /* @__PURE__ */ jsx(\"div\", {\n\t\trole: \"gridcell\",\n\t\t\"aria-colindex\": column.idx + 1,\n\t\t\"aria-colspan\": colSpan,\n\t\t\"aria-selected\": true,\n\t\tclassName,\n\t\tstyle: getCellStyle(column, colSpan),\n\t\tonKeyDown: handleKeyDown,\n\t\tonMouseDownCapture: cancelTask,\n\t\tchildren: column.renderEditCell != null && /* @__PURE__ */ jsxs(Fragment, { children: [column.renderEditCell({\n\t\t\tcolumn,\n\t\t\trow: row$1,\n\t\t\trowIdx,\n\t\t\tonRowChange: onEditorRowChange,\n\t\t\tonClose\n\t\t}), column.editorOptions?.displayCellContent && column.renderCell({\n\t\t\tcolumn,\n\t\t\trow: row$1,\n\t\t\trowIdx,\n\t\t\tisCellEditable: true,\n\t\t\ttabIndex: -1,\n\t\t\tonRowChange: onEditorRowChange\n\t\t})] })\n\t});\n}\n\n//#endregion\n//#region src/GroupedColumnHeaderCell.tsx\nfunction GroupedColumnHeaderCell({ column, rowIdx, isCellSelected, selectCell }) {\n\tconst { tabIndex, onFocus } = useRovingTabIndex(isCellSelected);\n\tconst { colSpan } = column;\n\tconst rowSpan = getHeaderCellRowSpan(column, rowIdx);\n\tconst index = column.idx + 1;\n\tfunction onMouseDown() {\n\t\tselectCell({\n\t\t\tidx: column.idx,\n\t\t\trowIdx\n\t\t});\n\t}\n\treturn /* @__PURE__ */ jsx(\"div\", {\n\t\trole: \"columnheader\",\n\t\t\"aria-colindex\": index,\n\t\t\"aria-colspan\": colSpan,\n\t\t\"aria-rowspan\": rowSpan,\n\t\t\"aria-selected\": isCellSelected,\n\t\ttabIndex,\n\t\tclassName: clsx(cellClassname, column.headerCellClass),\n\t\tstyle: {\n\t\t\t...getHeaderCellStyle(column, rowIdx, rowSpan),\n\t\t\tgridColumnStart: index,\n\t\t\tgridColumnEnd: index + colSpan\n\t\t},\n\t\tonFocus,\n\t\tonMouseDown,\n\t\tchildren: column.name\n\t});\n}\n\n//#endregion\n//#region src/HeaderCell.tsx\nconst cellSortableClassname = \"c6l2wv17-0-0-beta-56\";\nconst cellResizable = \"c1kqdw7y7-0-0-beta-56\";\nconst cellResizableClassname = `rdg-cell-resizable ${cellResizable}`;\nconst resizeHandleClassname = \"r1y6ywlx7-0-0-beta-56\";\nconst cellDraggableClassname = \"rdg-cell-draggable\";\nconst cellDragging = \"c1bezg5o7-0-0-beta-56\";\nconst cellDraggingClassname = `rdg-cell-dragging ${cellDragging}`;\nconst cellOver = \"c1vc96037-0-0-beta-56\";\nconst cellOverClassname = `rdg-cell-drag-over ${cellOver}`;\nconst dragImageClassname = \"d8rwc9w7-0-0-beta-56\";\nfunction HeaderCell({ column, colSpan, rowIdx, isCellSelected, onColumnResize, onColumnResizeEnd, onColumnsReorder, sortColumns, onSortColumnsChange, selectCell, shouldFocusGrid, direction, draggedColumnKey, setDraggedColumnKey }) {\n\tconst [isOver, setIsOver] = useState(false);\n\tconst dragImageRef = useRef(null);\n\tconst isDragging = draggedColumnKey === column.key;\n\tconst rowSpan = getHeaderCellRowSpan(column, rowIdx);\n\tconst { tabIndex, childTabIndex, onFocus } = useRovingTabIndex(shouldFocusGrid || isCellSelected);\n\tconst sortIndex = sortColumns?.findIndex((sort) => sort.columnKey === column.key);\n\tconst sortColumn = sortIndex !== void 0 && sortIndex > -1 ? sortColumns[sortIndex] : void 0;\n\tconst sortDirection = sortColumn?.direction;\n\tconst priority = sortColumn !== void 0 && sortColumns.length > 1 ? sortIndex + 1 : void 0;\n\tconst ariaSort = sortDirection && !priority ? sortDirection === \"ASC\" ? \"ascending\" : \"descending\" : void 0;\n\tconst { sortable, resizable, draggable } = column;\n\tconst className = getCellClassname(column, column.headerCellClass, {\n\t\t[cellSortableClassname]: sortable,\n\t\t[cellResizableClassname]: resizable,\n\t\t[cellDraggableClassname]: draggable,\n\t\t[cellDraggingClassname]: isDragging,\n\t\t[cellOverClassname]: isOver\n\t});\n\tfunction onSort(ctrlClick) {\n\t\tif (onSortColumnsChange == null) return;\n\t\tconst { sortDescendingFirst } = column;\n\t\tif (sortColumn === void 0) {\n\t\t\tconst nextSort = {\n\t\t\t\tcolumnKey: column.key,\n\t\t\t\tdirection: sortDescendingFirst ? \"DESC\" : \"ASC\"\n\t\t\t};\n\t\t\tonSortColumnsChange(sortColumns && ctrlClick ? [...sortColumns, nextSort] : [nextSort]);\n\t\t} else {\n\t\t\tlet nextSortColumn;\n\t\t\tif (sortDescendingFirst === true && sortDirection === \"DESC\" || sortDescendingFirst !== true && sortDirection === \"ASC\") nextSortColumn = {\n\t\t\t\tcolumnKey: column.key,\n\t\t\t\tdirection: sortDirection === \"ASC\" ? \"DESC\" : \"ASC\"\n\t\t\t};\n\t\t\tif (ctrlClick) {\n\t\t\t\tconst nextSortColumns = [...sortColumns];\n\t\t\t\tif (nextSortColumn) nextSortColumns[sortIndex] = nextSortColumn;\n\t\t\t\telse nextSortColumns.splice(sortIndex, 1);\n\t\t\t\tonSortColumnsChange(nextSortColumns);\n\t\t\t} else onSortColumnsChange(nextSortColumn ? [nextSortColumn] : []);\n\t\t}\n\t}\n\tfunction handleFocus(event) {\n\t\tonFocus?.(event);\n\t\tif (shouldFocusGrid) selectCell({\n\t\t\tidx: 0,\n\t\t\trowIdx\n\t\t});\n\t}\n\tfunction onMouseDown() {\n\t\tselectCell({\n\t\t\tidx: column.idx,\n\t\t\trowIdx\n\t\t});\n\t}\n\tfunction onClick(event) {\n\t\tif (sortable) onSort(event.ctrlKey || event.metaKey);\n\t}\n\tfunction onKeyDown(event) {\n\t\tconst { key } = event;\n\t\tif (sortable && (key === \" \" || key === \"Enter\")) {\n\t\t\tevent.preventDefault();\n\t\t\tonSort(event.ctrlKey || event.metaKey);\n\t\t} else if (resizable && isCtrlKeyHeldDown(event) && (key === \"ArrowLeft\" || key === \"ArrowRight\")) {\n\t\t\tevent.stopPropagation();\n\t\t\tconst { width } = event.currentTarget.getBoundingClientRect();\n\t\t\tconst { leftKey } = getLeftRightKey(direction);\n\t\t\tconst offset = key === leftKey ? -10 : 10;\n\t\t\tconst newWidth = clampColumnWidth(width + offset, column);\n\t\t\tif (newWidth !== width) onColumnResize(column, newWidth);\n\t\t}\n\t}\n\tfunction onDragStart(event) {\n\t\tflushSync(() => {\n\t\t\tsetDraggedColumnKey(column.key);\n\t\t});\n\t\tevent.dataTransfer.setDragImage(dragImageRef.current, 0, 0);\n\t\tevent.dataTransfer.dropEffect = \"move\";\n\t}\n\tfunction onDragEnd() {\n\t\tsetDraggedColumnKey(void 0);\n\t}\n\tfunction onDragOver(event) {\n\t\tevent.preventDefault();\n\t\tevent.dataTransfer.dropEffect = \"move\";\n\t}\n\tfunction onDrop(event) {\n\t\tsetIsOver(false);\n\t\tevent.preventDefault();\n\t\tonColumnsReorder?.(draggedColumnKey, column.key);\n\t}\n\tfunction onDragEnter(event) {\n\t\tif (isEventPertinent(event)) setIsOver(true);\n\t}\n\tfunction onDragLeave(event) {\n\t\tif (isEventPertinent(event)) setIsOver(false);\n\t}\n\tlet dragTargetProps;\n\tlet dropTargetProps;\n\tif (draggable) {\n\t\tdragTargetProps = {\n\t\t\tdraggable: true,\n\t\t\tonDragStart,\n\t\t\tonDragEnd\n\t\t};\n\t\tif (draggedColumnKey !== void 0 && draggedColumnKey !== column.key) dropTargetProps = {\n\t\t\tonDragOver,\n\t\t\tonDragEnter,\n\t\t\tonDragLeave,\n\t\t\tonDrop\n\t\t};\n\t}\n\tconst style = {\n\t\t...getHeaderCellStyle(column, rowIdx, rowSpan),\n\t\t...getCellStyle(column, colSpan)\n\t};\n\tconst content = column.renderHeaderCell({\n\t\tcolumn,\n\t\tsortDirection,\n\t\tpriority,\n\t\ttabIndex: childTabIndex\n\t});\n\treturn /* @__PURE__ */ jsxs(Fragment, { children: [isDragging && /* @__PURE__ */ jsx(\"div\", {\n\t\tref: dragImageRef,\n\t\tstyle,\n\t\tclassName: getCellClassname(column, column.headerCellClass, dragImageClassname),\n\t\tchildren: content\n\t}), /* @__PURE__ */ jsxs(\"div\", {\n\t\trole: \"columnheader\",\n\t\t\"aria-colindex\": column.idx + 1,\n\t\t\"aria-colspan\": colSpan,\n\t\t\"aria-rowspan\": rowSpan,\n\t\t\"aria-selected\": isCellSelected,\n\t\t\"aria-sort\": ariaSort,\n\t\ttabIndex,\n\t\tclassName,\n\t\tstyle,\n\t\tonMouseDown,\n\t\tonFocus: handleFocus,\n\t\tonClick,\n\t\tonKeyDown,\n\t\t...dragTargetProps,\n\t\t...dropTargetProps,\n\t\tchildren: [content, resizable && /* @__PURE__ */ jsx(ResizeHandle, {\n\t\t\tdirection,\n\t\t\tcolumn,\n\t\t\tonColumnResize,\n\t\t\tonColumnResizeEnd\n\t\t})]\n\t})] });\n}\nfunction ResizeHandle({ direction, column, onColumnResize, onColumnResizeEnd }) {\n\tconst resizingOffsetRef = useRef(void 0);\n\tconst isRtl = direction === \"rtl\";\n\tfunction onPointerDown(event) {\n\t\tif (event.pointerType === \"mouse\" && event.buttons !== 1) return;\n\t\tevent.preventDefault();\n\t\tconst { currentTarget, pointerId } = event;\n\t\tcurrentTarget.setPointerCapture(pointerId);\n\t\tconst headerCell = currentTarget.parentElement;\n\t\tconst { right, left } = headerCell.getBoundingClientRect();\n\t\tresizingOffsetRef.current = isRtl ? event.clientX - left : right - event.clientX;\n\t}\n\tfunction onPointerMove(event) {\n\t\tconst offset = resizingOffsetRef.current;\n\t\tif (offset === void 0) return;\n\t\tconst { width, right, left } = event.currentTarget.parentElement.getBoundingClientRect();\n\t\tlet newWidth = isRtl ? right + offset - event.clientX : event.clientX + offset - left;\n\t\tnewWidth = clampColumnWidth(newWidth, column);\n\t\tif (width > 0 && newWidth !== width) onColumnResize(column, newWidth);\n\t}\n\tfunction onLostPointerCapture() {\n\t\tonColumnResizeEnd();\n\t\tresizingOffsetRef.current = void 0;\n\t}\n\tfunction onDoubleClick() {\n\t\tonColumnResize(column, \"max-content\");\n\t}\n\treturn /* @__PURE__ */ jsx(\"div\", {\n\t\tclassName: resizeHandleClassname,\n\t\tonClick: stopPropagation,\n\t\tonPointerDown,\n\t\tonPointerMove,\n\t\tonLostPointerCapture,\n\t\tonDoubleClick\n\t});\n}\nfunction isEventPertinent(event) {\n\tconst relatedTarget = event.relatedTarget;\n\treturn !event.currentTarget.contains(relatedTarget);\n}\n\n//#endregion\n//#region src/style/row.ts\nconst row = \"r1upfr807-0-0-beta-56\";\nconst rowClassname = `rdg-row ${row}`;\nconst rowSelected = \"r190mhd37-0-0-beta-56\";\nconst rowSelectedClassname = \"rdg-row-selected\";\nconst rowSelectedWithFrozenCell = \"r139qu9m7-0-0-beta-56\";\nconst topSummaryRowClassname = \"rdg-top-summary-row\";\nconst bottomSummaryRowClassname = \"rdg-bottom-summary-row\";\n\n//#endregion\n//#region src/HeaderRow.tsx\nconst headerRow = \"h10tskcx7-0-0-beta-56\";\nconst headerRowClassname = `rdg-header-row ${headerRow}`;\nfunction HeaderRow({ headerRowClass, rowIdx, columns, onColumnResize, onColumnResizeEnd, onColumnsReorder, sortColumns, onSortColumnsChange, lastFrozenColumnIndex, selectedCellIdx, selectCell, shouldFocusGrid, direction }) {\n\tconst [draggedColumnKey, setDraggedColumnKey] = useState();\n\tconst cells = [];\n\tfor (let index = 0; index < columns.length; index++) {\n\t\tconst column = columns[index];\n\t\tconst colSpan = getColSpan(column, lastFrozenColumnIndex, { type: \"HEADER\" });\n\t\tif (colSpan !== void 0) index += colSpan - 1;\n\t\tcells.push(/* @__PURE__ */ jsx(HeaderCell, {\n\t\t\tcolumn,\n\t\t\tcolSpan,\n\t\t\trowIdx,\n\t\t\tisCellSelected: selectedCellIdx === column.idx,\n\t\t\tonColumnResize,\n\t\t\tonColumnResizeEnd,\n\t\t\tonColumnsReorder,\n\t\t\tonSortColumnsChange,\n\t\t\tsortColumns,\n\t\t\tselectCell,\n\t\t\tshouldFocusGrid: shouldFocusGrid && index === 0,\n\t\t\tdirection,\n\t\t\tdraggedColumnKey,\n\t\t\tsetDraggedColumnKey\n\t\t}, column.key));\n\t}\n\treturn /* @__PURE__ */ jsx(\"div\", {\n\t\trole: \"row\",\n\t\t\"aria-rowindex\": rowIdx,\n\t\tclassName: clsx(headerRowClassname, { [rowSelectedClassname]: selectedCellIdx === -1 }, headerRowClass),\n\t\tchildren: cells\n\t});\n}\nvar HeaderRow_default = memo(HeaderRow);\n\n//#endregion\n//#region src/GroupedColumnHeaderRow.tsx\nfunction GroupedColumnHeaderRow({ rowIdx, level, columns, selectedCellIdx, selectCell }) {\n\tconst cells = [];\n\tconst renderedParents = /* @__PURE__ */ new Set();\n\tfor (const column of columns) {\n\t\tlet { parent } = column;\n\t\tif (parent === void 0) continue;\n\t\twhile (parent.level > level) {\n\t\t\tif (parent.parent === void 0) break;\n\t\t\tparent = parent.parent;\n\t\t}\n\t\tif (parent.level === level && !renderedParents.has(parent)) {\n\t\t\trenderedParents.add(parent);\n\t\t\tconst { idx } = parent;\n\t\t\tcells.push(/* @__PURE__ */ jsx(GroupedColumnHeaderCell, {\n\t\t\t\tcolumn: parent,\n\t\t\t\trowIdx,\n\t\t\t\tisCellSelected: selectedCellIdx === idx,\n\t\t\t\tselectCell\n\t\t\t}, idx));\n\t\t}\n\t}\n\treturn /* @__PURE__ */ jsx(\"div\", {\n\t\trole: \"row\",\n\t\t\"aria-rowindex\": rowIdx,\n\t\tclassName: headerRowClassname,\n\t\tchildren: cells\n\t});\n}\nvar GroupedColumnHeaderRow_default = memo(GroupedColumnHeaderRow);\n\n//#endregion\n//#region src/Row.tsx\nfunction Row({ className, rowIdx, gridRowStart, selectedCellIdx, isRowSelectionDisabled, isRowSelected, draggedOverCellIdx, lastFrozenColumnIndex, row: row$1, viewportColumns, selectedCellEditor, onCellMouseDown, onCellClick, onCellDoubleClick, onCellContextMenu, rowClass, onRowChange, selectCell, style,...props }, ref) {\n\tconst renderCell = useDefaultRenderers().renderCell;\n\tconst handleRowChange = useLatestFunc((column, newRow) => {\n\t\tonRowChange(column, rowIdx, newRow);\n\t});\n\tclassName = clsx(rowClassname, `rdg-row-${rowIdx % 2 === 0 ? \"even\" : \"odd\"}`, { [rowSelectedClassname]: selectedCellIdx === -1 }, rowClass?.(row$1, rowIdx), className);\n\tconst cells = [];\n\tfor (let index = 0; index < viewportColumns.length; index++) {\n\t\tconst column = viewportColumns[index];\n\t\tconst { idx } = column;\n\t\tconst colSpan = getColSpan(column, lastFrozenColumnIndex, {\n\t\t\ttype: \"ROW\",\n\t\t\trow: row$1\n\t\t});\n\t\tif (colSpan !== void 0) index += colSpan - 1;\n\t\tconst isCellSelected = selectedCellIdx === idx;\n\t\tif (isCellSelected && selectedCellEditor) cells.push(selectedCellEditor);\n\t\telse cells.push(renderCell(column.key, {\n\t\t\tcolumn,\n\t\t\tcolSpan,\n\t\t\trow: row$1,\n\t\t\trowIdx,\n\t\t\tisDraggedOver: draggedOverCellIdx === idx,\n\t\t\tisCellSelected,\n\t\t\tonCellMouseDown,\n\t\t\tonCellClick,\n\t\t\tonCellDoubleClick,\n\t\t\tonCellContextMenu,\n\t\t\tonRowChange: handleRowChange,\n\t\t\tselectCell\n\t\t}));\n\t}\n\tconst selectionValue = useMemo(() => ({\n\t\tisRowSelected,\n\t\tisRowSelectionDisabled\n\t}), [isRowSelectionDisabled, isRowSelected]);\n\treturn /* @__PURE__ */ jsx(RowSelectionContext.Provider, {\n\t\tvalue: selectionValue,\n\t\tchildren: /* @__PURE__ */ jsx(\"div\", {\n\t\t\trole: \"row\",\n\t\t\tref,\n\t\t\tclassName,\n\t\t\tstyle: {\n\t\t\t\t...getRowStyle(gridRowStart),\n\t\t\t\t...style\n\t\t\t},\n\t\t\t...props,\n\t\t\tchildren: cells\n\t\t})\n\t});\n}\nconst RowComponent = memo(forwardRef(Row));\nvar Row_default = RowComponent;\nfunction defaultRenderRow(key, props) {\n\treturn /* @__PURE__ */ jsx(RowComponent, { ...props }, key);\n}\n\n//#endregion\n//#region src/ScrollToCell.tsx\nfunction ScrollToCell({ scrollToPosition: { idx, rowIdx }, gridRef, setScrollToCellPosition }) {\n\tconst ref = useRef(null);\n\tuseLayoutEffect$1(() => {\n\t\tscrollIntoView(ref.current, \"auto\");\n\t});\n\tuseLayoutEffect$1(() => {\n\t\tfunction removeScrollToCell() {\n\t\t\tsetScrollToCellPosition(null);\n\t\t}\n\t\tconst observer = new IntersectionObserver(removeScrollToCell, {\n\t\t\troot: gridRef.current,\n\t\t\tthreshold: 1\n\t\t});\n\t\tobserver.observe(ref.current);\n\t\treturn () => {\n\t\t\tobserver.disconnect();\n\t\t};\n\t}, [gridRef, setScrollToCellPosition]);\n\treturn /* @__PURE__ */ jsx(\"div\", {\n\t\tref,\n\t\tstyle: {\n\t\t\tgridColumn: idx === void 0 ? \"1/-1\" : idx + 1,\n\t\t\tgridRow: rowIdx === void 0 ? \"1/-1\" : rowIdx + 2\n\t\t}\n\t});\n}\n\n//#endregion\n//#region src/sortStatus.tsx\nconst arrow = \"a3ejtar7-0-0-beta-56\";\nconst arrowClassname = `rdg-sort-arrow ${arrow}`;\nfunction renderSortStatus({ sortDirection, priority }) {\n\treturn /* @__PURE__ */ jsxs(Fragment, { children: [renderSortIcon({ sortDirection }), renderSortPriority({ priority })] });\n}\nfunction renderSortIcon({ sortDirection }) {\n\tif (sortDirection === void 0) return null;\n\treturn /* @__PURE__ */ jsx(\"svg\", {\n\t\tviewBox: \"0 0 12 8\",\n\t\twidth: \"12\",\n\t\theight: \"8\",\n\t\tclassName: arrowClassname,\n\t\t\"aria-hidden\": true,\n\t\tchildren: /* @__PURE__ */ jsx(\"path\", { d: sortDirection === \"ASC\" ? \"M0 8 6 0 12 8\" : \"M0 0 6 8 12 0\" })\n\t});\n}\nfunction renderSortPriority({ priority }) {\n\treturn priority;\n}\n\n//#endregion\n//#region src/style/core.ts\nconst root = \"rnvodz57-0-0-beta-56\";\nconst rootClassname = `rdg ${root}`;\nconst viewportDragging = \"vlqv91k7-0-0-beta-56\";\nconst viewportDraggingClassname = `rdg-viewport-dragging ${viewportDragging}`;\nconst focusSinkClassname = \"f1lsfrzw7-0-0-beta-56\";\nconst focusSinkHeaderAndSummaryClassname = \"f1cte0lg7-0-0-beta-56\";\n\n//#endregion\n//#region src/SummaryCell.tsx\nconst summaryCellClassname = \"s8wc6fl7-0-0-beta-56\";\nfunction SummaryCell({ column, colSpan, row: row$1, rowIdx, isCellSelected, selectCell }) {\n\tconst { tabIndex, childTabIndex, onFocus } = useRovingTabIndex(isCellSelected);\n\tconst { summaryCellClass } = column;\n\tconst className = getCellClassname(column, summaryCellClassname, typeof summaryCellClass === \"function\" ? summaryCellClass(row$1) : summaryCellClass);\n\tfunction onMouseDown() {\n\t\tselectCell({\n\t\t\trowIdx,\n\t\t\tidx: column.idx\n\t\t});\n\t}\n\treturn /* @__PURE__ */ jsx(\"div\", {\n\t\trole: \"gridcell\",\n\t\t\"aria-colindex\": column.idx + 1,\n\t\t\"aria-colspan\": colSpan,\n\t\t\"aria-selected\": isCellSelected,\n\t\ttabIndex,\n\t\tclassName,\n\t\tstyle: getCellStyle(column, colSpan),\n\t\tonMouseDown,\n\t\tonFocus,\n\t\tchildren: column.renderSummaryCell?.({\n\t\t\tcolumn,\n\t\t\trow: row$1,\n\t\t\ttabIndex: childTabIndex\n\t\t})\n\t});\n}\nvar SummaryCell_default = memo(SummaryCell);\n\n//#endregion\n//#region src/SummaryRow.tsx\nconst summaryRow = \"skuhp557-0-0-beta-56\";\nconst topSummaryRow = \"tf8l5ub7-0-0-beta-56\";\nconst summaryRowClassname = `rdg-summary-row ${summaryRow}`;\nfunction SummaryRow({ rowIdx, gridRowStart, row: row$1, viewportColumns, top, bottom, lastFrozenColumnIndex, selectedCellIdx, isTop, selectCell, \"aria-rowindex\": ariaRowIndex }) {\n\tconst cells = [];\n\tfor (let index = 0; index < viewportColumns.length; index++) {\n\t\tconst column = viewportColumns[index];\n\t\tconst colSpan = getColSpan(column, lastFrozenColumnIndex, {\n\t\t\ttype: \"SUMMARY\",\n\t\t\trow: row$1\n\t\t});\n\t\tif (colSpan !== void 0) index += colSpan - 1;\n\t\tconst isCellSelected = selectedCellIdx === column.idx;\n\t\tcells.push(/* @__PURE__ */ jsx(SummaryCell_default, {\n\t\t\tcolumn,\n\t\t\tcolSpan,\n\t\t\trow: row$1,\n\t\t\trowIdx,\n\t\t\tisCellSelected,\n\t\t\tselectCell\n\t\t}, column.key));\n\t}\n\treturn /* @__PURE__ */ jsx(\"div\", {\n\t\trole: \"row\",\n\t\t\"aria-rowindex\": ariaRowIndex,\n\t\tclassName: clsx(rowClassname, `rdg-row-${rowIdx % 2 === 0 ? \"even\" : \"odd\"}`, summaryRowClassname, {\n\t\t\t[rowSelectedClassname]: selectedCellIdx === -1,\n\t\t\t[`${topSummaryRowClassname} ${topSummaryRow}`]: isTop,\n\t\t\t[bottomSummaryRowClassname]: !isTop\n\t\t}),\n\t\tstyle: {\n\t\t\t...getRowStyle(gridRowStart),\n\t\t\t\"--rdg-summary-row-top\": top !== void 0 ? `${top}px` : void 0,\n\t\t\t\"--rdg-summary-row-bottom\": bottom !== void 0 ? `${bottom}px` : void 0\n\t\t},\n\t\tchildren: cells\n\t});\n}\nvar SummaryRow_default = memo(SummaryRow);\n\n//#endregion\n//#region src/DataGrid.tsx\n/**\n* Main API Component to render a data grid of rows and columns\n*\n* @example\n*\n* <DataGrid columns={columns} rows={rows} />\n*/\nfunction DataGridBase(props, ref) {\n\tconst { columns: rawColumns, rows, topSummaryRows, bottomSummaryRows, rowKeyGetter, onRowsChange, rowHeight: rawRowHeight, headerRowHeight: rawHeaderRowHeight, summaryRowHeight: rawSummaryRowHeight, columnWidths: columnWidthsRaw, onColumnWidthsChange: onColumnWidthsChangeRaw, selectedRows, isRowSelectionDisabled, onSelectedRowsChange, sortColumns, onSortColumnsChange, defaultColumnOptions, onCellMouseDown, onCellClick, onCellDoubleClick, onCellContextMenu, onCellKeyDown, onSelectedCellChange, onScroll, onColumnResize, onColumnsReorder, onFill, onCellCopy, onCellPaste, enableVirtualization: rawEnableVirtualization, renderers, className, style, rowClass, headerRowClass, direction: rawDirection, role: rawRole, \"aria-label\": ariaLabel, \"aria-labelledby\": ariaLabelledBy, \"aria-description\": ariaDescription, \"aria-describedby\": ariaDescribedBy, \"aria-rowcount\": rawAriaRowCount, \"data-testid\": testId, \"data-cy\": dataCy } = props;\n\t/**\n\t* defaults\n\t*/\n\tconst defaultRenderers = useDefaultRenderers();\n\tconst role = rawRole ?? \"grid\";\n\tconst rowHeight = rawRowHeight ?? 35;\n\tconst headerRowHeight = rawHeaderRowHeight ?? (typeof rowHeight === \"number\" ? rowHeight : 35);\n\tconst summaryRowHeight = rawSummaryRowHeight ?? (typeof rowHeight === \"number\" ? rowHeight : 35);\n\tconst renderRow = renderers?.renderRow ?? defaultRenderers?.renderRow ?? defaultRenderRow;\n\tconst renderCell = renderers?.renderCell ?? defaultRenderers?.renderCell ?? defaultRenderCell;\n\tconst renderSortStatus$1 = renderers?.renderSortStatus ?? defaultRenderers?.renderSortStatus ?? renderSortStatus;\n\tconst renderCheckbox$1 = renderers?.renderCheckbox ?? defaultRenderers?.renderCheckbox ?? renderCheckbox;\n\tconst noRowsFallback = renderers?.noRowsFallback ?? defaultRenderers?.noRowsFallback;\n\tconst enableVirtualization = rawEnableVirtualization ?? true;\n\tconst direction = rawDirection ?? \"ltr\";\n\t/**\n\t* states\n\t*/\n\tconst [scrollTop, setScrollTop] = useState(0);\n\tconst [scrollLeft, setScrollLeft] = useState(0);\n\tconst [columnWidthsInternal, setColumnWidthsInternal] = useState(() => columnWidthsRaw ?? /* @__PURE__ */ new Map());\n\tconst [isColumnResizing, setColumnResizing] = useState(false);\n\tconst [isDragging, setDragging] = useState(false);\n\tconst [draggedOverRowIdx, setDraggedOverRowIdx] = useState(void 0);\n\tconst [scrollToPosition, setScrollToPosition] = useState(null);\n\tconst [shouldFocusCell, setShouldFocusCell] = useState(false);\n\tconst [previousRowIdx, setPreviousRowIdx] = useState(-1);\n\tconst isColumnWidthsControlled = columnWidthsRaw != null && onColumnWidthsChangeRaw != null && !isColumnResizing;\n\tconst columnWidths = isColumnWidthsControlled ? columnWidthsRaw : columnWidthsInternal;\n\tconst onColumnWidthsChange = isColumnWidthsControlled ? (columnWidths$1) => {\n\t\tsetColumnWidthsInternal(columnWidths$1);\n\t\tonColumnWidthsChangeRaw(columnWidths$1);\n\t} : setColumnWidthsInternal;\n\tconst getColumnWidth = useCallback((column) => {\n\t\treturn columnWidths.get(column.key)?.width ?? column.width;\n\t}, [columnWidths]);\n\tconst [gridRef, gridWidth, gridHeight, horizontalScrollbarHeight] = useGridDimensions();\n\tconst { columns, colSpanColumns, lastFrozenColumnIndex, headerRowsCount, colOverscanStartIdx, colOverscanEndIdx, templateColumns, layoutCssVars, totalFrozenColumnWidth } = useCalculatedColumns({\n\t\trawColumns,\n\t\tdefaultColumnOptions,\n\t\tgetColumnWidth,\n\t\tscrollLeft,\n\t\tviewportWidth: gridWidth,\n\t\tenableVirtualization\n\t});\n\tconst topSummaryRowsCount = topSummaryRows?.length ?? 0;\n\tconst bottomSummaryRowsCount = bottomSummaryRows?.length ?? 0;\n\tconst summaryRowsCount = topSummaryRowsCount + bottomSummaryRowsCount;\n\tconst headerAndTopSummaryRowsCount = headerRowsCount + topSummaryRowsCount;\n\tconst groupedColumnHeaderRowsCount = headerRowsCount - 1;\n\tconst minRowIdx = -headerAndTopSummaryRowsCount;\n\tconst mainHeaderRowIdx = minRowIdx + groupedColumnHeaderRowsCount;\n\tconst maxRowIdx = rows.length + bottomSummaryRowsCount - 1;\n\tconst [selectedPosition, setSelectedPosition] = useState(() => ({\n\t\tidx: -1,\n\t\trowIdx: minRowIdx - 1,\n\t\tmode: \"SELECT\"\n\t}));\n\t/**\n\t* refs\n\t*/\n\tconst focusSinkRef = useRef(null);\n\t/**\n\t* computed values\n\t*/\n\tconst isTreeGrid = role === \"treegrid\";\n\tconst headerRowsHeight = headerRowsCount * headerRowHeight;\n\tconst summaryRowsHeight = summaryRowsCount * summaryRowHeight;\n\tconst clientHeight = gridHeight - headerRowsHeight - summaryRowsHeight;\n\tconst isSelectable = selectedRows != null && onSelectedRowsChange != null;\n\tconst { leftKey, rightKey } = getLeftRightKey(direction);\n\tconst ariaRowCount = rawAriaRowCount ?? headerRowsCount + rows.length + summaryRowsCount;\n\tconst defaultGridComponents = useMemo(() => ({\n\t\trenderCheckbox: renderCheckbox$1,\n\t\trenderSortStatus: renderSortStatus$1,\n\t\trenderCell\n\t}), [\n\t\trenderCheckbox$1,\n\t\trenderSortStatus$1,\n\t\trenderCell\n\t]);\n\tconst headerSelectionValue = useMemo(() => {\n\t\tlet hasSelectedRow = false;\n\t\tlet hasUnselectedRow = false;\n\t\tif (rowKeyGetter != null && selectedRows != null && selectedRows.size > 0) for (const row$1 of rows) {\n\t\t\tif (selectedRows.has(rowKeyGetter(row$1))) hasSelectedRow = true;\n\t\t\telse hasUnselectedRow = true;\n\t\t\tif (hasSelectedRow && hasUnselectedRow) break;\n\t\t}\n\t\treturn {\n\t\t\tisRowSelected: hasSelectedRow && !hasUnselectedRow,\n\t\t\tisIndeterminate: hasSelectedRow && hasUnselectedRow\n\t\t};\n\t}, [\n\t\trows,\n\t\tselectedRows,\n\t\trowKeyGetter\n\t]);\n\tconst { rowOverscanStartIdx, rowOverscanEndIdx, totalRowHeight, gridTemplateRows, getRowTop, getRowHeight, findRowIdx } = useViewportRows({\n\t\trows,\n\t\trowHeight,\n\t\tclientHeight,\n\t\tscrollTop,\n\t\tenableVirtualization\n\t});\n\tconst viewportColumns = useViewportColumns({\n\t\tcolumns,\n\t\tcolSpanColumns,\n\t\tcolOverscanStartIdx,\n\t\tcolOverscanEndIdx,\n\t\tlastFrozenColumnIndex,\n\t\trowOverscanStartIdx,\n\t\trowOverscanEndIdx,\n\t\trows,\n\t\ttopSummaryRows,\n\t\tbottomSummaryRows\n\t});\n\tconst { gridTemplateColumns, handleColumnResize } = useColumnWidths(columns, viewportColumns, templateColumns, gridRef, gridWidth, columnWidths, onColumnWidthsChange, onColumnResize, setColumnResizing);\n\tconst minColIdx = isTreeGrid ? -1 : 0;\n\tconst maxColIdx = columns.length - 1;\n\tconst selectedCellIsWithinSelectionBounds = isCellWithinSelectionBounds(selectedPosition);\n\tconst selectedCellIsWithinViewportBounds = isCellWithinViewportBounds(selectedPosition);\n\tconst scrollHeight = headerRowHeight + totalRowHeight + summaryRowsHeight + horizontalScrollbarHeight;\n\t/**\n\t* The identity of the wrapper function is stable so it won't break memoization\n\t*/\n\tconst handleColumnResizeLatest = useLatestFunc(handleColumnResize);\n\tconst handleColumnResizeEndLatest = useLatestFunc(handleColumnResizeEnd);\n\tconst onColumnsReorderLastest = useLatestFunc(onColumnsReorder);\n\tconst onSortColumnsChangeLatest = useLatestFunc(onSortColumnsChange);\n\tconst onCellMouseDownLatest = useLatestFunc(onCellMouseDown);\n\tconst onCellClickLatest = useLatestFunc(onCellClick);\n\tconst onCellDoubleClickLatest = useLatestFunc(onCellDoubleClick);\n\tconst onCellContextMenuLatest = useLatestFunc(onCellContextMenu);\n\tconst selectHeaderRowLatest = useLatestFunc(selectHeaderRow);\n\tconst selectRowLatest = useLatestFunc(selectRow);\n\tconst handleFormatterRowChangeLatest = useLatestFunc(updateRow);\n\tconst selectCellLatest = useLatestFunc(selectCell);\n\tconst selectHeaderCellLatest = useLatestFunc(selectHeaderCell);\n\t/**\n\t* callbacks\n\t*/\n\tconst focusCell = useCallback((shouldScroll = true) => {\n\t\tconst cell$1 = getCellToScroll(gridRef.current);\n\t\tif (cell$1 === null) return;\n\t\tif (shouldScroll) scrollIntoView(cell$1);\n\t\tcell$1.focus({ preventScroll: true });\n\t}, [gridRef]);\n\t/**\n\t* effects\n\t*/\n\tuseLayoutEffect$1(() => {\n\t\tif (shouldFocusCell) {\n\t\t\tif (focusSinkRef.current !== null && selectedPosition.idx === -1) {\n\t\t\t\tfocusSinkRef.current.focus({ preventScroll: true });\n\t\t\t\tscrollIntoView(focusSinkRef.current);\n\t\t\t} else focusCell();\n\t\t\tsetShouldFocusCell(false);\n\t\t}\n\t}, [\n\t\tshouldFocusCell,\n\t\tfocusCell,\n\t\tselectedPosition.idx\n\t]);\n\tuseImperativeHandle(ref, () => ({\n\t\telement: gridRef.current,\n\t\tscrollToCell({ idx, rowIdx }) {\n\t\t\tconst scrollToIdx = idx !== void 0 && idx > lastFrozenColumnIndex && idx < columns.length ? idx : void 0;\n\t\t\tconst scrollToRowIdx = rowIdx !== void 0 && isRowIdxWithinViewportBounds(rowIdx) ? rowIdx : void 0;\n\t\t\tif (scrollToIdx !== void 0 || scrollToRowIdx !== void 0) setScrollToPosition({\n\t\t\t\tidx: scrollToIdx,\n\t\t\t\trowIdx: scrollToRowIdx\n\t\t\t});\n\t\t},\n\t\tselectCell\n\t}));\n\t/**\n\t* event handlers\n\t*/\n\tfunction selectHeaderRow(args) {\n\t\tif (!onSelectedRowsChange) return;\n\t\tassertIsValidKeyGetter(rowKeyGetter);\n\t\tconst newSelectedRows = new Set(selectedRows);\n\t\tfor (const row$1 of rows) {\n\t\t\tif (isRowSelectionDisabled?.(row$1) === true) continue;\n\t\t\tconst rowKey = rowKeyGetter(row$1);\n\t\t\tif (args.checked) newSelectedRows.add(rowKey);\n\t\t\telse newSelectedRows.delete(rowKey);\n\t\t}\n\t\tonSelectedRowsChange(newSelectedRows);\n\t}\n\tfunction selectRow(args) {\n\t\tif (!onSelectedRowsChange) return;\n\t\tassertIsValidKeyGetter(rowKeyGetter);\n\t\tconst { row: row$1, checked, isShiftClick } = args;\n\t\tif (isRowSelectionDisabled?.(row$1) === true) return;\n\t\tconst newSelectedRows = new Set(selectedRows);\n\t\tconst rowKey = rowKeyGetter(row$1);\n\t\tconst rowIdx = rows.indexOf(row$1);\n\t\tsetPreviousRowIdx(rowIdx);\n\t\tif (checked) newSelectedRows.add(rowKey);\n\t\telse newSelectedRows.delete(rowKey);\n\t\tif (isShiftClick && previousRowIdx !== -1 && previousRowIdx !== rowIdx && previousRowIdx < rows.length) {\n\t\t\tconst step = sign(rowIdx - previousRowIdx);\n\t\t\tfor (let i = previousRowIdx + step; i !== rowIdx; i += step) {\n\t\t\t\tconst row$2 = rows[i];\n\t\t\t\tif (isRowSelectionDisabled?.(row$2) === true) continue;\n\t\t\t\tif (checked) newSelectedRows.add(rowKeyGetter(row$2));\n\t\t\t\telse newSelectedRows.delete(rowKeyGetter(row$2));\n\t\t\t}\n\t\t}\n\t\tonSelectedRowsChange(newSelectedRows);\n\t}\n\tfunction handleKeyDown(event) {\n\t\tconst { idx, rowIdx, mode } = selectedPosition;\n\t\tif (mode === \"EDIT\") return;\n\t\tif (onCellKeyDown && isRowIdxWithinViewportBounds(rowIdx)) {\n\t\t\tconst row$1 = rows[rowIdx];\n\t\t\tconst cellEvent = createCellEvent(event);\n\t\t\tonCellKeyDown({\n\t\t\t\tmode: \"SELECT\",\n\t\t\t\trow: row$1,\n\t\t\t\tcolumn: columns[idx],\n\t\t\t\trowIdx,\n\t\t\t\tselectCell\n\t\t\t}, cellEvent);\n\t\t\tif (cellEvent.isGridDefaultPrevented()) return;\n\t\t}\n\t\tif (!(event.target instanceof Element)) return;\n\t\tconst isCellEvent = event.target.closest(\".rdg-cell\") !== null;\n\t\tconst isRowEvent = isTreeGrid && event.target === focusSinkRef.current;\n\t\tif (!isCellEvent && !isRowEvent) return;\n\t\tswitch (event.key) {\n\t\t\tcase \"ArrowUp\":\n\t\t\tcase \"ArrowDown\":\n\t\t\tcase \"ArrowLeft\":\n\t\t\tcase \"ArrowRight\":\n\t\t\tcase \"Tab\":\n\t\t\tcase \"Home\":\n\t\t\tcase \"End\":\n\t\t\tcase \"PageUp\":\n\t\t\tcase \"PageDown\":\n\t\t\t\tnavigate(event);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\thandleCellInput(event);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\tfunction handleScroll(event) {\n\t\tconst { scrollTop: scrollTop$1, scrollLeft: scrollLeft$1 } = event.currentTarget;\n\t\tflushSync(() => {\n\t\t\tsetScrollTop(scrollTop$1);\n\t\t\tsetScrollLeft(abs(scrollLeft$1));\n\t\t});\n\t\tonScroll?.(event);\n\t}\n\tfunction updateRow(column, rowIdx, row$1) {\n\t\tif (typeof onRowsChange !== \"function\") return;\n\t\tif (row$1 === rows[rowIdx]) return;\n\t\tconst updatedRows = rows.with(rowIdx, row$1);\n\t\tonRowsChange(updatedRows, {\n\t\t\tindexes: [rowIdx],\n\t\t\tcolumn\n\t\t});\n\t}\n\tfunction commitEditorChanges() {\n\t\tif (selectedPosition.mode !== \"EDIT\") return;\n\t\tupdateRow(columns[selectedPosition.idx], selectedPosition.rowIdx, selectedPosition.row);\n\t}\n\tfunction handleCellCopy(event) {\n\t\tif (!selectedCellIsWithinViewportBounds) return;\n\t\tconst { idx, rowIdx } = selectedPosition;\n\t\tonCellCopy?.({\n\t\t\trow: rows[rowIdx],\n\t\t\tcolumn: columns[idx]\n\t\t}, event);\n\t}\n\tfunction handleCellPaste(event) {\n\t\tif (!onCellPaste || !onRowsChange || !isCellEditable(selectedPosition)) return;\n\t\tconst { idx, rowIdx } = selectedPosition;\n\t\tconst column = columns[idx];\n\t\tconst updatedRow = onCellPaste({\n\t\t\trow: rows[rowIdx],\n\t\t\tcolumn\n\t\t}, event);\n\t\tupdateRow(column, rowIdx, updatedRow);\n\t}\n\tfunction handleCellInput(event) {\n\t\tif (!selectedCellIsWithinViewportBounds) return;\n\t\tconst row$1 = rows[selectedPosition.rowIdx];\n\t\tconst { key, shiftKey } = event;\n\t\tif (isSelectable && shiftKey && key === \" \") {\n\t\t\tassertIsValidKeyGetter(rowKeyGetter);\n\t\t\tconst rowKey = rowKeyGetter(row$1);\n\t\t\tselectRow({\n\t\t\t\trow: row$1,\n\t\t\t\tchecked: !selectedRows.has(rowKey),\n\t\t\t\tisShiftClick: false\n\t\t\t});\n\t\t\tevent.preventDefault();\n\t\t\treturn;\n\t\t}\n\t\tif (isCellEditable(selectedPosition) && isDefaultCellInput(event, onCellPaste != null)) setSelectedPosition(({ idx, rowIdx }) => ({\n\t\t\tidx,\n\t\t\trowIdx,\n\t\t\tmode: \"EDIT\",\n\t\t\trow: row$1,\n\t\t\toriginalRow: row$1\n\t\t}));\n\t}\n\tfunction handleColumnResizeEnd() {\n\t\tif (isColumnResizing) {\n\t\t\tonColumnWidthsChangeRaw?.(columnWidths);\n\t\t\tsetColumnResizing(false);\n\t\t}\n\t}\n\tfunction handleDragHandlePointerDown(event) {\n\t\tevent.preventDefault();\n\t\tif (event.pointerType === \"mouse\" && event.buttons !== 1) return;\n\t\tsetDragging(true);\n\t\tevent.currentTarget.setPointerCapture(event.pointerId);\n\t}\n\tfunction handleDragHandlePointerMove(event) {\n\t\tconst gridEl = gridRef.current;\n\t\tconst headerAndTopSummaryRowsHeight = headerRowsHeight + topSummaryRowsCount * summaryRowHeight;\n\t\tconst offset = scrollTop - headerAndTopSummaryRowsHeight + event.clientY - gridEl.getBoundingClientRect().top;\n\t\tconst overRowIdx = findRowIdx(offset);\n\t\tsetDraggedOverRowIdx(overRowIdx);\n\t\tconst ariaRowIndex = headerAndTopSummaryRowsCount + overRowIdx + 1;\n\t\tconst el = gridEl.querySelector(`:scope > [aria-rowindex=\"${ariaRowIndex}\"] > [aria-colindex=\"${selectedPosition.idx + 1}\"]`);\n\t\tscrollIntoView(el);\n\t}\n\tfunction handleDragHandleLostPointerCapture() {\n\t\tsetDragging(false);\n\t\tif (draggedOverRowIdx === void 0) return;\n\t\tconst { rowIdx } = selectedPosition;\n\t\tconst [startRowIndex, endRowIndex] = rowIdx < draggedOverRowIdx ? [rowIdx + 1, draggedOverRowIdx + 1] : [draggedOverRowIdx, rowIdx];\n\t\tupdateRows(startRowIndex, endRowIndex);\n\t\tsetDraggedOverRowIdx(void 0);\n\t}\n\tfunction handleDragHandleClick() {\n\t\tfocusCell(false);\n\t}\n\tfunction handleDragHandleDoubleClick(event) {\n\t\tevent.stopPropagation();\n\t\tupdateRows(selectedPosition.rowIdx + 1, rows.length);\n\t}\n\tfunction updateRows(startRowIdx, endRowIdx) {\n\t\tif (onRowsChange == null) return;\n\t\tconst { rowIdx, idx } = selectedPosition;\n\t\tconst column = columns[idx];\n\t\tconst sourceRow = rows[rowIdx];\n\t\tconst updatedRows = [...rows];\n\t\tconst indexes = [];\n\t\tfor (let i = startRowIdx; i < endRowIdx; i++) if (isCellEditable({\n\t\t\trowIdx: i,\n\t\t\tidx\n\t\t})) {\n\t\t\tconst updatedRow = onFill({\n\t\t\t\tcolumnKey: column.key,\n\t\t\t\tsourceRow,\n\t\t\t\ttargetRow: rows[i]\n\t\t\t});\n\t\t\tif (updatedRow !== rows[i]) {\n\t\t\t\tupdatedRows[i] = updatedRow;\n\t\t\t\tindexes.push(i);\n\t\t\t}\n\t\t}\n\t\tif (indexes.length > 0) onRowsChange(updatedRows, {\n\t\t\tindexes,\n\t\t\tcolumn\n\t\t});\n\t}\n\t/**\n\t* utils\n\t*/\n\tfunction isColIdxWithinSelectionBounds(idx) {\n\t\treturn idx >= minColIdx && idx <= maxColIdx;\n\t}\n\tfunction isRowIdxWithinViewportBounds(rowIdx) {\n\t\treturn rowIdx >= 0 && rowIdx < rows.length;\n\t}\n\tfunction isCellWithinSelectionBounds({ idx, rowIdx }) {\n\t\treturn rowIdx >= minRowIdx && rowIdx <= maxRowIdx && isColIdxWithinSelectionBounds(idx);\n\t}\n\tfunction isCellWithinEditBounds({ idx, rowIdx }) {\n\t\treturn isRowIdxWithinViewportBounds(rowIdx) && idx >= 0 && idx <= maxColIdx;\n\t}\n\tfunction isCellWithinViewportBounds({ idx, rowIdx }) {\n\t\treturn isRowIdxWithinViewportBounds(rowIdx) && isColIdxWithinSelectionBounds(idx);\n\t}\n\tfunction isCellEditable(position) {\n\t\treturn isCellWithinEditBounds(position) && isSelectedCellEditable({\n\t\t\tcolumns,\n\t\t\trows,\n\t\t\tselectedPosition: position\n\t\t});\n\t}\n\tfunction selectCell(position, options) {\n\t\tif (!isCellWithinSelectionBounds(position)) return;\n\t\tcommitEditorChanges();\n\t\tconst samePosition = isSamePosition(selectedPosition, position);\n\t\tif (options?.enableEditor && isCellEditable(position)) {\n\t\t\tconst row$1 = rows[position.rowIdx];\n\t\t\tsetSelectedPosition({\n\t\t\t\t...position,\n\t\t\t\tmode: \"EDIT\",\n\t\t\t\trow: row$1,\n\t\t\t\toriginalRow: row$1\n\t\t\t});\n\t\t} else if (samePosition) scrollIntoView(getCellToScroll(gridRef.current));\n\t\telse {\n\t\t\tsetShouldFocusCell(options?.shouldFocusCell === true);\n\t\t\tsetSelectedPosition({\n\t\t\t\t...position,\n\t\t\t\tmode: \"SELECT\"\n\t\t\t});\n\t\t}\n\t\tif (onSelectedCellChange && !samePosition) onSelectedCellChange({\n\t\t\trowIdx: position.rowIdx,\n\t\t\trow: isRowIdxWithinViewportBounds(position.rowIdx) ? rows[position.rowIdx] : void 0,\n\t\t\tcolumn: columns[position.idx]\n\t\t});\n\t}\n\tfunction selectHeaderCell({ idx, rowIdx }) {\n\t\tselectCell({\n\t\t\trowIdx: minRowIdx + rowIdx - 1,\n\t\t\tidx\n\t\t});\n\t}\n\tfunction getNextPosition(key, ctrlKey, shiftKey) {\n\t\tconst { idx, rowIdx } = selectedPosition;\n\t\tconst isRowSelected = selectedCellIsWithinSelectionBounds && idx === -1;\n\t\tswitch (key) {\n\t\t\tcase \"ArrowUp\": return {\n\t\t\t\tidx,\n\t\t\t\trowIdx: rowIdx - 1\n\t\t\t};\n\t\t\tcase \"ArrowDown\": return {\n\t\t\t\tidx,\n\t\t\t\trowIdx: rowIdx + 1\n\t\t\t};\n\t\t\tcase leftKey: return {\n\t\t\t\tidx: idx - 1,\n\t\t\t\trowIdx\n\t\t\t};\n\t\t\tcase rightKey: return {\n\t\t\t\tidx: idx + 1,\n\t\t\t\trowIdx\n\t\t\t};\n\t\t\tcase \"Tab\": return {\n\t\t\t\tidx: idx + (shiftKey ? -1 : 1),\n\t\t\t\trowIdx\n\t\t\t};\n\t\t\tcase \"Home\":\n\t\t\t\tif (isRowSelected) return {\n\t\t\t\t\tidx,\n\t\t\t\t\trowIdx: minRowIdx\n\t\t\t\t};\n\t\t\t\treturn {\n\t\t\t\t\tidx: 0,\n\t\t\t\t\trowIdx: ctrlKey ? minRowIdx : rowIdx\n\t\t\t\t};\n\t\t\tcase \"End\":\n\t\t\t\tif (isRowSelected) return {\n\t\t\t\t\tidx,\n\t\t\t\t\trowIdx: maxRowIdx\n\t\t\t\t};\n\t\t\t\treturn {\n\t\t\t\t\tidx: maxColIdx,\n\t\t\t\t\trowIdx: ctrlKey ? maxRowIdx : rowIdx\n\t\t\t\t};\n\t\t\tcase \"PageUp\": {\n\t\t\t\tif (selectedPosition.rowIdx === minRowIdx) return selectedPosition;\n\t\t\t\tconst nextRowY = getRowTop(rowIdx) + getRowHeight(rowIdx) - clientHeight;\n\t\t\t\treturn {\n\t\t\t\t\tidx,\n\t\t\t\t\trowIdx: nextRowY > 0 ? findRowIdx(nextRowY) : 0\n\t\t\t\t};\n\t\t\t}\n\t\t\tcase \"PageDown\": {\n\t\t\t\tif (selectedPosition.rowIdx >= rows.length) return selectedPosition;\n\t\t\t\tconst nextRowY = getRowTop(rowIdx) + clientHeight;\n\t\t\t\treturn {\n\t\t\t\t\tidx,\n\t\t\t\t\trowIdx: nextRowY < totalRowHeight ? findRowIdx(nextRowY) : rows.length - 1\n\t\t\t\t};\n\t\t\t}\n\t\t\tdefault: return selectedPosition;\n\t\t}\n\t}\n\tfunction navigate(event) {\n\t\tconst { key, shiftKey } = event;\n\t\tlet cellNavigationMode = \"NONE\";\n\t\tif (key === \"Tab\") {\n\t\t\tif (canExitGrid({\n\t\t\t\tshiftKey,\n\t\t\t\tmaxColIdx,\n\t\t\t\tminRowIdx,\n\t\t\t\tmaxRowIdx,\n\t\t\t\tselectedPosition\n\t\t\t})) {\n\t\t\t\tcommitEditorChanges();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcellNavigationMode = \"CHANGE_ROW\";\n\t\t}\n\t\tevent.preventDefault();\n\t\tconst ctrlKey = isCtrlKeyHeldDown(event);\n\t\tconst nextPosition = getNextPosition(key, ctrlKey, shiftKey);\n\t\tif (isSamePosition(selectedPosition, nextPosition)) return;\n\t\tconst nextSelectedCellPosition = getNextSelectedCellPosition({\n\t\t\tmoveUp: key === \"ArrowUp\",\n\t\t\tmoveNext: key === rightKey || key === \"Tab\" && !shiftKey,\n\t\t\tcolumns,\n\t\t\tcolSpanColumns,\n\t\t\trows,\n\t\t\ttopSummaryRows,\n\t\t\tbottomSummaryRows,\n\t\t\tminRowIdx,\n\t\t\tmainHeaderRowIdx,\n\t\t\tmaxRowIdx,\n\t\t\tlastFrozenColumnIndex,\n\t\t\tcellNavigationMode,\n\t\t\tcurrentPosition: selectedPosition,\n\t\t\tnextPosition,\n\t\t\tisCellWithinBounds: isCellWithinSelectionBounds\n\t\t});\n\t\tselectCell(nextSelectedCellPosition, { shouldFocusCell: true });\n\t}\n\tfunction getDraggedOverCellIdx(currentRowIdx) {\n\t\tif (draggedOverRowIdx === void 0) return;\n\t\tconst { rowIdx } = selectedPosition;\n\t\tconst isDraggedOver = rowIdx < draggedOverRowIdx ? rowIdx < currentRowIdx && currentRowIdx <= draggedOverRowIdx : rowIdx > currentRowIdx && currentRowIdx >= draggedOverRowIdx;\n\t\treturn isDraggedOver ? selectedPosition.idx : void 0;\n\t}\n\tfunction getDragHandle() {\n\t\tif (onFill == null || selectedPosition.mode === \"EDIT\" || !isCellWithinViewportBounds(selectedPosition)) return;\n\t\tconst { idx, rowIdx } = selectedPosition;\n\t\tconst column = columns[idx];\n\t\tif (column.renderEditCell == null || column.editable === false) return;\n\t\tconst isLastRow = rowIdx === maxRowIdx;\n\t\tconst columnWidth = getColumnWidth(column);\n\t\tconst colSpan = column.colSpan?.({\n\t\t\ttype: \"ROW\",\n\t\t\trow: rows[rowIdx]\n\t\t}) ?? 1;\n\t\tconst { insetInlineStart,...style$1 } = getCellStyle(column, colSpan);\n\t\tconst marginEnd = \"calc(var(--rdg-drag-handle-size) * -0.5 + 1px)\";\n\t\tconst isLastColumn = column.idx + colSpan - 1 === maxColIdx;\n\t\tconst dragHandleStyle = {\n\t\t\t...style$1,\n\t\t\tgridRowStart: headerAndTopSummaryRowsCount + rowIdx + 1,\n\t\t\tmarginInlineEnd: isLastColumn ? void 0 : marginEnd,\n\t\t\tmarginBlockEnd: isLastRow ? void 0 : marginEnd,\n\t\t\tinsetInlineStart: insetInlineStart ? `calc(${insetInlineStart} + ${columnWidth}px + var(--rdg-drag-handle-size) * -0.5 - 1px)` : void 0\n\t\t};\n\t\treturn /* @__PURE__ */ jsx(\"div\", {\n\t\t\tstyle: dragHandleStyle,\n\t\t\tclassName: clsx(cellDragHandleClassname, column.frozen && cellDragHandleFrozenClassname),\n\t\t\tonPointerDown: handleDragHandlePointerDown,\n\t\t\tonPointerMove: isDragging ? handleDragHandlePointerMove : void 0,\n\t\t\tonLostPointerCapture: isDragging ? handleDragHandleLostPointerCapture : void 0,\n\t\t\tonClick: handleDragHandleClick,\n\t\t\tonDoubleClick: handleDragHandleDoubleClick\n\t\t});\n\t}\n\tfunction getCellEditor(rowIdx) {\n\t\tif (selectedPosition.rowIdx !== rowIdx || selectedPosition.mode === \"SELECT\") return;\n\t\tconst { idx, row: row$1 } = selectedPosition;\n\t\tconst column = columns[idx];\n\t\tconst colSpan = getColSpan(column, lastFrozenColumnIndex, {\n\t\t\ttype: \"ROW\",\n\t\t\trow: row$1\n\t\t});\n\t\tconst closeOnExternalRowChange = column.editorOptions?.closeOnExternalRowChange ?? true;\n\t\tconst closeEditor = (shouldFocusCell$1) => {\n\t\t\tsetShouldFocusCell(shouldFocusCell$1);\n\t\t\tsetSelectedPosition(({ idx: idx$1, rowIdx: rowIdx$1 }) => ({\n\t\t\t\tidx: idx$1,\n\t\t\t\trowIdx: rowIdx$1,\n\t\t\t\tmode: \"SELECT\"\n\t\t\t}));\n\t\t};\n\t\tconst onRowChange = (row$2, commitChanges, shouldFocusCell$1) => {\n\t\t\tif (commitChanges) flushSync(() => {\n\t\t\t\tupdateRow(column, selectedPosition.rowIdx, row$2);\n\t\t\t\tcloseEditor(shouldFocusCell$1);\n\t\t\t});\n\t\t\telse setSelectedPosition((position) => ({\n\t\t\t\t...position,\n\t\t\t\trow: row$2\n\t\t\t}));\n\t\t};\n\t\tif (closeOnExternalRowChange && rows[selectedPosition.rowIdx] !== selectedPosition.originalRow) closeEditor(false);\n\t\treturn /* @__PURE__ */ jsx(EditCell, {\n\t\t\tcolumn,\n\t\t\tcolSpan,\n\t\t\trow: row$1,\n\t\t\trowIdx,\n\t\t\tonRowChange,\n\t\t\tcloseEditor,\n\t\t\tonKeyDown: onCellKeyDown,\n\t\t\tnavigate\n\t\t}, column.key);\n\t}\n\tfunction getRowViewportColumns(rowIdx) {\n\t\tconst selectedColumn = selectedPosition.idx === -1 ? void 0 : columns[selectedPosition.idx];\n\t\tif (selectedColumn !== void 0 && selectedPosition.rowIdx === rowIdx && !viewportColumns.includes(selectedColumn)) return selectedPosition.idx > colOverscanEndIdx ? [...viewportColumns, selectedColumn] : [\n\t\t\t...viewportColumns.slice(0, lastFrozenColumnIndex + 1),\n\t\t\tselectedColumn,\n\t\t\t...viewportColumns.slice(lastFrozenColumnIndex + 1)\n\t\t];\n\t\treturn viewportColumns;\n\t}\n\tfunction getViewportRows() {\n\t\tconst rowElements = [];\n\t\tconst { idx: selectedIdx, rowIdx: selectedRowIdx } = selectedPosition;\n\t\tconst startRowIdx = selectedCellIsWithinViewportBounds && selectedRowIdx < rowOverscanStartIdx ? rowOverscanStartIdx - 1 : rowOverscanStartIdx;\n\t\tconst endRowIdx = selectedCellIsWithinViewportBounds && selectedRowIdx > rowOverscanEndIdx ? rowOverscanEndIdx + 1 : rowOverscanEndIdx;\n\t\tfor (let viewportRowIdx = startRowIdx; viewportRowIdx <= endRowIdx; viewportRowIdx++) {\n\t\t\tconst isRowOutsideViewport = viewportRowIdx === rowOverscanStartIdx - 1 || viewportRowIdx === rowOverscanEndIdx + 1;\n\t\t\tconst rowIdx = isRowOutsideViewport ? selectedRowIdx : viewportRowIdx;\n\t\t\tlet rowColumns = viewportColumns;\n\t\t\tconst selectedColumn = selectedIdx === -1 ? void 0 : columns[selectedIdx];\n\t\t\tif (selectedColumn !== void 0) if (isRowOutsideViewport) rowColumns = [selectedColumn];\n\t\t\telse rowColumns = getRowViewportColumns(rowIdx);\n\t\t\tconst row$1 = rows[rowIdx];\n\t\t\tconst gridRowStart = headerAndTopSummaryRowsCount + rowIdx + 1;\n\t\t\tlet key = rowIdx;\n\t\t\tlet isRowSelected = false;\n\t\t\tif (typeof rowKeyGetter === \"function\") {\n\t\t\t\tkey = rowKeyGetter(row$1);\n\t\t\t\tisRowSelected = selectedRows?.has(key) ?? false;\n\t\t\t}\n\t\t\trowElements.push(renderRow(key, {\n\t\t\t\t\"aria-rowindex\": headerAndTopSummaryRowsCount + rowIdx + 1,\n\t\t\t\t\"aria-selected\": isSelectable ? isRowSelected : void 0,\n\t\t\t\trowIdx,\n\t\t\t\trow: row$1,\n\t\t\t\tviewportColumns: rowColumns,\n\t\t\t\tisRowSelectionDisabled: isRowSelectionDisabled?.(row$1) ?? false,\n\t\t\t\tisRowSelected,\n\t\t\t\tonCellMouseDown: onCellMouseDownLatest,\n\t\t\t\tonCellClick: onCellClickLatest,\n\t\t\t\tonCellDoubleClick: onCellDoubleClickLatest,\n\t\t\t\tonCellContextMenu: onCellContextMenuLatest,\n\t\t\t\trowClass,\n\t\t\t\tgridRowStart,\n\t\t\t\tselectedCellIdx: selectedRowIdx === rowIdx ? selectedIdx : void 0,\n\t\t\t\tdraggedOverCellIdx: getDraggedOverCellIdx(rowIdx),\n\t\t\t\tlastFrozenColumnIndex,\n\t\t\t\tonRowChange: handleFormatterRowChangeLatest,\n\t\t\t\tselectCell: selectCellLatest,\n\t\t\t\tselectedCellEditor: getCellEditor(rowIdx)\n\t\t\t}));\n\t\t}\n\t\treturn rowElements;\n\t}\n\tif (selectedPosition.idx > maxColIdx || selectedPosition.rowIdx > maxRowIdx) {\n\t\tsetSelectedPosition({\n\t\t\tidx: -1,\n\t\t\trowIdx: minRowIdx - 1,\n\t\t\tmode: \"SELECT\"\n\t\t});\n\t\tsetDraggedOverRowIdx(void 0);\n\t}\n\tif (isColumnWidthsControlled && columnWidthsInternal !== columnWidthsRaw) setColumnWidthsInternal(columnWidthsRaw);\n\tlet templateRows = `repeat(${headerRowsCount}, ${headerRowHeight}px)`;\n\tif (topSummaryRowsCount > 0) templateRows += ` repeat(${topSummaryRowsCount}, ${summaryRowHeight}px)`;\n\tif (rows.length > 0) templateRows += gridTemplateRows;\n\tif (bottomSummaryRowsCount > 0) templateRows += ` repeat(${bottomSummaryRowsCount}, ${summaryRowHeight}px)`;\n\tconst isGroupRowFocused = selectedPosition.idx === -1 && selectedPosition.rowIdx !== minRowIdx - 1;\n\treturn /* @__PURE__ */ jsxs(\"div\", {\n\t\trole,\n\t\t\"aria-label\": ariaLabel,\n\t\t\"aria-labelledby\": ariaLabelledBy,\n\t\t\"aria-description\": ariaDescription,\n\t\t\"aria-describedby\": ariaDescribedBy,\n\t\t\"aria-multiselectable\": isSelectable ? true : void 0,\n\t\t\"aria-colcount\": columns.length,\n\t\t\"aria-rowcount\": ariaRowCount,\n\t\ttabIndex: -1,\n\t\tclassName: clsx(rootClassname, { [viewportDraggingClassname]: isDragging }, className),\n\t\tstyle: {\n\t\t\t...style,\n\t\t\tscrollPaddingInlineStart: selectedPosition.idx > lastFrozenColumnIndex || scrollToPosition?.idx !== void 0 ? `${totalFrozenColumnWidth}px` : void 0,\n\t\t\tscrollPaddingBlock: isRowIdxWithinViewportBounds(selectedPosition.rowIdx) || scrollToPosition?.rowIdx !== void 0 ? `${headerRowsHeight + topSummaryRowsCount * summaryRowHeight}px ${bottomSummaryRowsCount * summaryRowHeight}px` : void 0,\n\t\t\tgridTemplateColumns,\n\t\t\tgridTemplateRows: templateRows,\n\t\t\t\"--rdg-header-row-height\": `${headerRowHeight}px`,\n\t\t\t\"--rdg-scroll-height\": `${scrollHeight}px`,\n\t\t\t...layoutCssVars\n\t\t},\n\t\tdir: direction,\n\t\tref: gridRef,\n\t\tonScroll: handleScroll,\n\t\tonKeyDown: handleKeyDown,\n\t\tonCopy: handleCellCopy,\n\t\tonPaste: handleCellPaste,\n\t\t\"data-testid\": testId,\n\t\t\"data-cy\": dataCy,\n\t\tchildren: [\n\t\t\t/* @__PURE__ */ jsxs(DataGridDefaultRenderersContext.Provider, {\n\t\t\t\tvalue: defaultGridComponents,\n\t\t\t\tchildren: [/* @__PURE__ */ jsx(HeaderRowSelectionChangeContext.Provider, {\n\t\t\t\t\tvalue: selectHeaderRowLatest,\n\t\t\t\t\tchildren: /* @__PURE__ */ jsxs(HeaderRowSelectionContext.Provider, {\n\t\t\t\t\t\tvalue: headerSelectionValue,\n\t\t\t\t\t\tchildren: [Array.from({ length: groupedColumnHeaderRowsCount }, (_, index) => /* @__PURE__ */ jsx(GroupedColumnHeaderRow_default, {\n\t\t\t\t\t\t\trowIdx: index + 1,\n\t\t\t\t\t\t\tlevel: -groupedColumnHeaderRowsCount + index,\n\t\t\t\t\t\t\tcolumns: getRowViewportColumns(minRowIdx + index),\n\t\t\t\t\t\t\tselectedCellIdx: selectedPosition.rowIdx === minRowIdx + index ? selectedPosition.idx : void 0,\n\t\t\t\t\t\t\tselectCell: selectHeaderCellLatest\n\t\t\t\t\t\t}, index)), /* @__PURE__ */ jsx(HeaderRow_default, {\n\t\t\t\t\t\t\theaderRowClass,\n\t\t\t\t\t\t\trowIdx: headerRowsCount,\n\t\t\t\t\t\t\tcolumns: getRowViewportColumns(mainHeaderRowIdx),\n\t\t\t\t\t\t\tonColumnResize: handleColumnResizeLatest,\n\t\t\t\t\t\t\tonColumnResizeEnd: handleColumnResizeEndLatest,\n\t\t\t\t\t\t\tonColumnsReorder: onColumnsReorderLastest,\n\t\t\t\t\t\t\tsortColumns,\n\t\t\t\t\t\t\tonSortColumnsChange: onSortColumnsChangeLatest,\n\t\t\t\t\t\t\tlastFrozenColumnIndex,\n\t\t\t\t\t\t\tselectedCellIdx: selectedPosition.rowIdx === mainHeaderRowIdx ? selectedPosition.idx : void 0,\n\t\t\t\t\t\t\tselectCell: selectHeaderCellLatest,\n\t\t\t\t\t\t\tshouldFocusGrid: !selectedCellIsWithinSelectionBounds,\n\t\t\t\t\t\t\tdirection\n\t\t\t\t\t\t})]\n\t\t\t\t\t})\n\t\t\t\t}), rows.length === 0 && noRowsFallback ? noRowsFallback : /* @__PURE__ */ jsxs(Fragment, { children: [\n\t\t\t\t\ttopSummaryRows?.map((row$1, rowIdx) => {\n\t\t\t\t\t\tconst gridRowStart = headerRowsCount + 1 + rowIdx;\n\t\t\t\t\t\tconst summaryRowIdx = mainHeaderRowIdx + 1 + rowIdx;\n\t\t\t\t\t\tconst isSummaryRowSelected = selectedPosition.rowIdx === summaryRowIdx;\n\t\t\t\t\t\tconst top = headerRowsHeight + summaryRowHeight * rowIdx;\n\t\t\t\t\t\treturn /* @__PURE__ */ jsx(SummaryRow_default, {\n\t\t\t\t\t\t\t\"aria-rowindex\": gridRowStart,\n\t\t\t\t\t\t\trowIdx: summaryRowIdx,\n\t\t\t\t\t\t\tgridRowStart,\n\t\t\t\t\t\t\trow: row$1,\n\t\t\t\t\t\t\ttop,\n\t\t\t\t\t\t\tbottom: void 0,\n\t\t\t\t\t\t\tviewportColumns: getRowViewportColumns(summaryRowIdx),\n\t\t\t\t\t\t\tlastFrozenColumnIndex,\n\t\t\t\t\t\t\tselectedCellIdx: isSummaryRowSelected ? selectedPosition.idx : void 0,\n\t\t\t\t\t\t\tisTop: true,\n\t\t\t\t\t\t\tselectCell: selectCellLatest\n\t\t\t\t\t\t}, rowIdx);\n\t\t\t\t\t}),\n\t\t\t\t\t/* @__PURE__ */ jsx(RowSelectionChangeContext.Provider, {\n\t\t\t\t\t\tvalue: selectRowLatest,\n\t\t\t\t\t\tchildren: getViewportRows()\n\t\t\t\t\t}),\n\t\t\t\t\tbottomSummaryRows?.map((row$1, rowIdx) => {\n\t\t\t\t\t\tconst gridRowStart = headerAndTopSummaryRowsCount + rows.length + rowIdx + 1;\n\t\t\t\t\t\tconst summaryRowIdx = rows.length + rowIdx;\n\t\t\t\t\t\tconst isSummaryRowSelected = selectedPosition.rowIdx === summaryRowIdx;\n\t\t\t\t\t\tconst top = clientHeight > totalRowHeight ? gridHeight - summaryRowHeight * (bottomSummaryRows.length - rowIdx) : void 0;\n\t\t\t\t\t\tconst bottom = top === void 0 ? summaryRowHeight * (bottomSummaryRows.length - 1 - rowIdx) : void 0;\n\t\t\t\t\t\treturn /* @__PURE__ */ jsx(SummaryRow_default, {\n\t\t\t\t\t\t\t\"aria-rowindex\": ariaRowCount - bottomSummaryRowsCount + rowIdx + 1,\n\t\t\t\t\t\t\trowIdx: summaryRowIdx,\n\t\t\t\t\t\t\tgridRowStart,\n\t\t\t\t\t\t\trow: row$1,\n\t\t\t\t\t\t\ttop,\n\t\t\t\t\t\t\tbottom,\n\t\t\t\t\t\t\tviewportColumns: getRowViewportColumns(summaryRowIdx),\n\t\t\t\t\t\t\tlastFrozenColumnIndex,\n\t\t\t\t\t\t\tselectedCellIdx: isSummaryRowSelected ? selectedPosition.idx : void 0,\n\t\t\t\t\t\t\tisTop: false,\n\t\t\t\t\t\t\tselectCell: selectCellLatest\n\t\t\t\t\t\t}, rowIdx);\n\t\t\t\t\t})\n\t\t\t\t] })]\n\t\t\t}),\n\t\t\tgetDragHandle(),\n\t\t\trenderMeasuringCells(viewportColumns),\n\t\t\tisTreeGrid && /* @__PURE__ */ jsx(\"div\", {\n\t\t\t\tref: focusSinkRef,\n\t\t\t\ttabIndex: isGroupRowFocused ? 0 : -1,\n\t\t\t\tclassName: clsx(focusSinkClassname, {\n\t\t\t\t\t[focusSinkHeaderAndSummaryClassname]: !isRowIdxWithinViewportBounds(selectedPosition.rowIdx),\n\t\t\t\t\t[rowSelected]: isGroupRowFocused,\n\t\t\t\t\t[rowSelectedWithFrozenCell]: isGroupRowFocused && lastFrozenColumnIndex !== -1\n\t\t\t\t}),\n\t\t\t\tstyle: { gridRowStart: selectedPosition.rowIdx + headerAndTopSummaryRowsCount + 1 }\n\t\t\t}),\n\t\t\tscrollToPosition !== null && /* @__PURE__ */ jsx(ScrollToCell, {\n\t\t\t\tscrollToPosition,\n\t\t\t\tsetScrollToCellPosition: setScrollToPosition,\n\t\t\t\tgridRef\n\t\t\t})\n\t\t]\n\t});\n}\nconst DataGrid = forwardRef(DataGridBase);\nfunction getCellToScroll(gridEl) {\n\treturn gridEl.querySelector(\":scope > [role=\\\"row\\\"] > [tabindex=\\\"0\\\"]\");\n}\nfunction isSamePosition(p1, p2) {\n\treturn p1.idx === p2.idx && p1.rowIdx === p2.rowIdx;\n}\n\n//#endregion\n//#region src/GroupCell.tsx\nfunction GroupCell({ id, groupKey, childRows, isExpanded, isCellSelected, column, row: row$1, groupColumnIndex, isGroupByColumn, toggleGroup: toggleGroupWrapper }) {\n\tconst { tabIndex, childTabIndex, onFocus } = useRovingTabIndex(isCellSelected);\n\tfunction toggleGroup() {\n\t\ttoggleGroupWrapper(id);\n\t}\n\tconst isLevelMatching = isGroupByColumn && groupColumnIndex === column.idx;\n\treturn /* @__PURE__ */ jsx(\"div\", {\n\t\trole: \"gridcell\",\n\t\t\"aria-colindex\": column.idx + 1,\n\t\t\"aria-selected\": isCellSelected,\n\t\ttabIndex,\n\t\tclassName: getCellClassname(column),\n\t\tstyle: {\n\t\t\t...getCellStyle(column),\n\t\t\tcursor: isLevelMatching ? \"pointer\" : \"default\"\n\t\t},\n\t\tonMouseDown: (event) => {\n\t\t\tevent.preventDefault();\n\t\t},\n\t\tonClick: isLevelMatching ? toggleGroup : void 0,\n\t\tonFocus,\n\t\tchildren: (!isGroupByColumn || isLevelMatching) && column.renderGroupCell?.({\n\t\t\tgroupKey,\n\t\t\tchildRows,\n\t\t\tcolumn,\n\t\t\trow: row$1,\n\t\t\tisExpanded,\n\t\t\ttabIndex: childTabIndex,\n\t\t\ttoggleGroup\n\t\t})\n\t}, column.key);\n}\nvar GroupCell_default = memo(GroupCell);\n\n//#endregion\n//#region src/GroupRow.tsx\nconst groupRow = \"g1yxluv37-0-0-beta-56\";\nconst groupRowClassname = `rdg-group-row ${groupRow}`;\nfunction GroupedRow({ className, row: row$1, rowIdx, viewportColumns, selectedCellIdx, isRowSelected, selectCell, gridRowStart, groupBy, toggleGroup, isRowSelectionDisabled,...props }) {\n\tconst idx = viewportColumns[0].key === SELECT_COLUMN_KEY ? row$1.level + 1 : row$1.level;\n\tfunction handleSelectGroup() {\n\t\tselectCell({\n\t\t\trowIdx,\n\t\t\tidx: -1\n\t\t}, { shouldFocusCell: true });\n\t}\n\tconst selectionValue = useMemo(() => ({\n\t\tisRowSelectionDisabled: false,\n\t\tisRowSelected\n\t}), [isRowSelected]);\n\treturn /* @__PURE__ */ jsx(RowSelectionContext.Provider, {\n\t\tvalue: selectionValue,\n\t\tchildren: /* @__PURE__ */ jsx(\"div\", {\n\t\t\trole: \"row\",\n\t\t\t\"aria-level\": row$1.level + 1,\n\t\t\t\"aria-setsize\": row$1.setSize,\n\t\t\t\"aria-posinset\": row$1.posInSet + 1,\n\t\t\t\"aria-expanded\": row$1.isExpanded,\n\t\t\tclassName: clsx(rowClassname, groupRowClassname, `rdg-row-${rowIdx % 2 === 0 ? \"even\" : \"odd\"}`, selectedCellIdx === -1 && rowSelectedClassname, className),\n\t\t\tonMouseDown: handleSelectGroup,\n\t\t\tstyle: getRowStyle(gridRowStart),\n\t\t\t...props,\n\t\t\tchildren: viewportColumns.map((column) => /* @__PURE__ */ jsx(GroupCell_default, {\n\t\t\t\tid: row$1.id,\n\t\t\t\tgroupKey: row$1.groupKey,\n\t\t\t\tchildRows: row$1.childRows,\n\t\t\t\tisExpanded: row$1.isExpanded,\n\t\t\t\tisCellSelected: selectedCellIdx === column.idx,\n\t\t\t\tcolumn,\n\t\t\t\trow: row$1,\n\t\t\t\tgroupColumnIndex: idx,\n\t\t\t\ttoggleGroup,\n\t\t\t\tisGroupByColumn: groupBy.includes(column.key)\n\t\t\t}, column.key))\n\t\t})\n\t});\n}\nvar GroupRow_default = memo(GroupedRow);\n\n//#endregion\n//#region src/TreeDataGrid.tsx\nfunction TreeDataGrid({ columns: rawColumns, rows: rawRows, rowHeight: rawRowHeight, rowKeyGetter: rawRowKeyGetter, onCellKeyDown: rawOnCellKeyDown, onCellCopy: rawOnCellCopy, onCellPaste: rawOnCellPaste, onRowsChange, selectedRows: rawSelectedRows, onSelectedRowsChange: rawOnSelectedRowsChange, renderers, groupBy: rawGroupBy, rowGrouper, expandedGroupIds, onExpandedGroupIdsChange, groupIdGetter: rawGroupIdGetter,...props }) {\n\tconst defaultRenderers = useDefaultRenderers();\n\tconst rawRenderRow = renderers?.renderRow ?? defaultRenderers?.renderRow ?? defaultRenderRow;\n\tconst headerAndTopSummaryRowsCount = 1 + (props.topSummaryRows?.length ?? 0);\n\tconst { leftKey, rightKey } = getLeftRightKey(props.direction);\n\tconst toggleGroupLatest = useLatestFunc(toggleGroup);\n\tconst groupIdGetter = rawGroupIdGetter ?? defaultGroupIdGetter;\n\tconst { columns, groupBy } = useMemo(() => {\n\t\tconst columns$1 = rawColumns.toSorted(({ key: aKey }, { key: bKey }) => {\n\t\t\tif (aKey === SELECT_COLUMN_KEY) return -1;\n\t\t\tif (bKey === SELECT_COLUMN_KEY) return 1;\n\t\t\tif (rawGroupBy.includes(aKey)) {\n\t\t\t\tif (rawGroupBy.includes(bKey)) return rawGroupBy.indexOf(aKey) - rawGroupBy.indexOf(bKey);\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif (rawGroupBy.includes(bKey)) return 1;\n\t\t\treturn 0;\n\t\t});\n\t\tconst groupBy$1 = [];\n\t\tfor (const [index, column] of columns$1.entries()) if (rawGroupBy.includes(column.key)) {\n\t\t\tgroupBy$1.push(column.key);\n\t\t\tcolumns$1[index] = {\n\t\t\t\t...column,\n\t\t\t\tfrozen: true,\n\t\t\t\trenderCell: () => null,\n\t\t\t\trenderGroupCell: column.renderGroupCell ?? renderToggleGroup,\n\t\t\t\teditable: false\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\tcolumns: columns$1,\n\t\t\tgroupBy: groupBy$1\n\t\t};\n\t}, [rawColumns, rawGroupBy]);\n\tconst [groupedRows, rowsCount] = useMemo(() => {\n\t\tif (groupBy.length === 0) return [void 0, rawRows.length];\n\t\tconst groupRows = (rows$1, [groupByKey, ...remainingGroupByKeys], startRowIndex) => {\n\t\t\tlet groupRowsCount = 0;\n\t\t\tconst groups = {};\n\t\t\tfor (const [key, childRows] of Object.entries(rowGrouper(rows$1, groupByKey))) {\n\t\t\t\tconst [childGroups, childRowsCount] = remainingGroupByKeys.length === 0 ? [childRows, childRows.length] : groupRows(childRows, remainingGroupByKeys, startRowIndex + groupRowsCount + 1);\n\t\t\t\tgroups[key] = {\n\t\t\t\t\tchildRows,\n\t\t\t\t\tchildGroups,\n\t\t\t\t\tstartRowIndex: startRowIndex + groupRowsCount\n\t\t\t\t};\n\t\t\t\tgroupRowsCount += childRowsCount + 1;\n\t\t\t}\n\t\t\treturn [groups, groupRowsCount];\n\t\t};\n\t\treturn groupRows(rawRows, groupBy, 0);\n\t}, [\n\t\tgroupBy,\n\t\trowGrouper,\n\t\trawRows\n\t]);\n\tconst [rows, isGroupRow] = useMemo(() => {\n\t\tconst allGroupRows = /* @__PURE__ */ new Set();\n\t\tif (!groupedRows) return [rawRows, isGroupRow$1];\n\t\tconst flattenedRows = [];\n\t\tconst expandGroup = (rows$1, parentId, level) => {\n\t\t\tif (isReadonlyArray(rows$1)) {\n\t\t\t\tflattenedRows.push(...rows$1);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tObject.keys(rows$1).forEach((groupKey, posInSet, keys) => {\n\t\t\t\tconst id = groupIdGetter(groupKey, parentId);\n\t\t\t\tconst isExpanded = expandedGroupIds.has(id);\n\t\t\t\tconst { childRows, childGroups, startRowIndex } = rows$1[groupKey];\n\t\t\t\tconst groupRow$1 = {\n\t\t\t\t\tid,\n\t\t\t\t\tparentId,\n\t\t\t\t\tgroupKey,\n\t\t\t\t\tisExpanded,\n\t\t\t\t\tchildRows,\n\t\t\t\t\tlevel,\n\t\t\t\t\tposInSet,\n\t\t\t\t\tstartRowIndex,\n\t\t\t\t\tsetSize: keys.length\n\t\t\t\t};\n\t\t\t\tflattenedRows.push(groupRow$1);\n\t\t\t\tallGroupRows.add(groupRow$1);\n\t\t\t\tif (isExpanded) expandGroup(childGroups, id, level + 1);\n\t\t\t});\n\t\t};\n\t\texpandGroup(groupedRows, void 0, 0);\n\t\treturn [flattenedRows, isGroupRow$1];\n\t\tfunction isGroupRow$1(row$1) {\n\t\t\treturn allGroupRows.has(row$1);\n\t\t}\n\t}, [\n\t\texpandedGroupIds,\n\t\tgroupedRows,\n\t\trawRows,\n\t\tgroupIdGetter\n\t]);\n\tconst rowHeight = useMemo(() => {\n\t\tif (typeof rawRowHeight === \"function\") return (row$1) => {\n\t\t\tif (isGroupRow(row$1)) return rawRowHeight({\n\t\t\t\ttype: \"GROUP\",\n\t\t\t\trow: row$1\n\t\t\t});\n\t\t\treturn rawRowHeight({\n\t\t\t\ttype: \"ROW\",\n\t\t\t\trow: row$1\n\t\t\t});\n\t\t};\n\t\treturn rawRowHeight;\n\t}, [isGroupRow, rawRowHeight]);\n\tconst getParentRowAndIndex = useCallback((row$1) => {\n\t\tconst rowIdx = rows.indexOf(row$1);\n\t\tfor (let i = rowIdx - 1; i >= 0; i--) {\n\t\t\tconst parentRow = rows[i];\n\t\t\tif (isGroupRow(parentRow) && (!isGroupRow(row$1) || row$1.parentId === parentRow.id)) return [parentRow, i];\n\t\t}\n\t\treturn void 0;\n\t}, [isGroupRow, rows]);\n\tconst rowKeyGetter = useCallback((row$1) => {\n\t\tif (isGroupRow(row$1)) return row$1.id;\n\t\tif (typeof rawRowKeyGetter === \"function\") return rawRowKeyGetter(row$1);\n\t\tconst parentRowAndIndex = getParentRowAndIndex(row$1);\n\t\tif (parentRowAndIndex !== void 0) {\n\t\t\tconst { startRowIndex, childRows } = parentRowAndIndex[0];\n\t\t\tconst groupIndex = childRows.indexOf(row$1);\n\t\t\treturn startRowIndex + groupIndex + 1;\n\t\t}\n\t\treturn rows.indexOf(row$1);\n\t}, [\n\t\tgetParentRowAndIndex,\n\t\tisGroupRow,\n\t\trawRowKeyGetter,\n\t\trows\n\t]);\n\tconst selectedRows = useMemo(() => {\n\t\tif (rawSelectedRows == null) return null;\n\t\tassertIsValidKeyGetter(rawRowKeyGetter);\n\t\tconst selectedRows$1 = new Set(rawSelectedRows);\n\t\tfor (const row$1 of rows) if (isGroupRow(row$1)) {\n\t\t\tconst isGroupRowSelected = row$1.childRows.every((cr) => rawSelectedRows.has(rawRowKeyGetter(cr)));\n\t\t\tif (isGroupRowSelected) selectedRows$1.add(row$1.id);\n\t\t}\n\t\treturn selectedRows$1;\n\t}, [\n\t\tisGroupRow,\n\t\trawRowKeyGetter,\n\t\trawSelectedRows,\n\t\trows\n\t]);\n\tfunction onSelectedRowsChange(newSelectedRows) {\n\t\tif (!rawOnSelectedRowsChange) return;\n\t\tassertIsValidKeyGetter(rawRowKeyGetter);\n\t\tconst newRawSelectedRows = new Set(rawSelectedRows);\n\t\tfor (const row$1 of rows) {\n\t\t\tconst key = rowKeyGetter(row$1);\n\t\t\tif (selectedRows?.has(key) && !newSelectedRows.has(key)) if (isGroupRow(row$1)) for (const cr of row$1.childRows) newRawSelectedRows.delete(rawRowKeyGetter(cr));\n\t\t\telse newRawSelectedRows.delete(key);\n\t\t\telse if (!selectedRows?.has(key) && newSelectedRows.has(key)) if (isGroupRow(row$1)) for (const cr of row$1.childRows) newRawSelectedRows.add(rawRowKeyGetter(cr));\n\t\t\telse newRawSelectedRows.add(key);\n\t\t}\n\t\trawOnSelectedRowsChange(newRawSelectedRows);\n\t}\n\tfunction handleKeyDown(args, event) {\n\t\trawOnCellKeyDown?.(args, event);\n\t\tif (event.isGridDefaultPrevented()) return;\n\t\tif (args.mode === \"EDIT\") return;\n\t\tconst { column, rowIdx, selectCell } = args;\n\t\tconst idx = column?.idx ?? -1;\n\t\tconst row$1 = rows[rowIdx];\n\t\tif (!isGroupRow(row$1)) return;\n\t\tif (idx === -1 && (event.key === leftKey && row$1.isExpanded || event.key === rightKey && !row$1.isExpanded)) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.preventGridDefault();\n\t\t\ttoggleGroup(row$1.id);\n\t\t}\n\t\tif (idx === -1 && event.key === leftKey && !row$1.isExpanded && row$1.level !== 0) {\n\t\t\tconst parentRowAndIndex = getParentRowAndIndex(row$1);\n\t\t\tif (parentRowAndIndex !== void 0) {\n\t\t\t\tevent.preventGridDefault();\n\t\t\t\tselectCell({\n\t\t\t\t\tidx,\n\t\t\t\t\trowIdx: parentRowAndIndex[1]\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\tfunction handleCellCopy({ row: row$1, column }, event) {\n\t\tif (!isGroupRow(row$1)) rawOnCellCopy?.({\n\t\t\trow: row$1,\n\t\t\tcolumn\n\t\t}, event);\n\t}\n\tfunction handleCellPaste({ row: row$1, column }, event) {\n\t\treturn isGroupRow(row$1) ? row$1 : rawOnCellPaste({\n\t\t\trow: row$1,\n\t\t\tcolumn\n\t\t}, event);\n\t}\n\tfunction handleRowsChange(updatedRows, { indexes, column }) {\n\t\tif (!onRowsChange) return;\n\t\tconst updatedRawRows = [...rawRows];\n\t\tconst rawIndexes = [];\n\t\tfor (const index of indexes) {\n\t\t\tconst rawIndex = rawRows.indexOf(rows[index]);\n\t\t\tupdatedRawRows[rawIndex] = updatedRows[index];\n\t\t\trawIndexes.push(rawIndex);\n\t\t}\n\t\tonRowsChange(updatedRawRows, {\n\t\t\tindexes: rawIndexes,\n\t\t\tcolumn\n\t\t});\n\t}\n\tfunction toggleGroup(groupId) {\n\t\tconst newExpandedGroupIds = new Set(expandedGroupIds);\n\t\tif (newExpandedGroupIds.has(groupId)) newExpandedGroupIds.delete(groupId);\n\t\telse newExpandedGroupIds.add(groupId);\n\t\tonExpandedGroupIdsChange(newExpandedGroupIds);\n\t}\n\tfunction renderRow(key, { row: row$1, rowClass, onCellMouseDown, onCellClick, onCellDoubleClick, onCellContextMenu, onRowChange, lastFrozenColumnIndex, draggedOverCellIdx, selectedCellEditor,...rowProps }) {\n\t\tif (isGroupRow(row$1)) {\n\t\t\tconst { startRowIndex } = row$1;\n\t\t\treturn /* @__PURE__ */ jsx(GroupRow_default, {\n\t\t\t\t...rowProps,\n\t\t\t\t\"aria-rowindex\": headerAndTopSummaryRowsCount + startRowIndex + 1,\n\t\t\t\trow: row$1,\n\t\t\t\tgroupBy,\n\t\t\t\ttoggleGroup: toggleGroupLatest\n\t\t\t}, key);\n\t\t}\n\t\tlet ariaRowIndex = rowProps[\"aria-rowindex\"];\n\t\tconst parentRowAndIndex = getParentRowAndIndex(row$1);\n\t\tif (parentRowAndIndex !== void 0) {\n\t\t\tconst { startRowIndex, childRows } = parentRowAndIndex[0];\n\t\t\tconst groupIndex = childRows.indexOf(row$1);\n\t\t\tariaRowIndex = startRowIndex + headerAndTopSummaryRowsCount + groupIndex + 2;\n\t\t}\n\t\treturn rawRenderRow(key, {\n\t\t\t...rowProps,\n\t\t\t\"aria-rowindex\": ariaRowIndex,\n\t\t\trow: row$1,\n\t\t\trowClass,\n\t\t\tonCellMouseDown,\n\t\t\tonCellClick,\n\t\t\tonCellDoubleClick,\n\t\t\tonCellContextMenu,\n\t\t\tonRowChange,\n\t\t\tlastFrozenColumnIndex,\n\t\t\tdraggedOverCellIdx,\n\t\t\tselectedCellEditor\n\t\t});\n\t}\n\treturn /* @__PURE__ */ jsx(DataGrid, {\n\t\t...props,\n\t\trole: \"treegrid\",\n\t\t\"aria-rowcount\": rowsCount + 1 + (props.topSummaryRows?.length ?? 0) + (props.bottomSummaryRows?.length ?? 0),\n\t\tcolumns,\n\t\trows,\n\t\trowHeight,\n\t\trowKeyGetter,\n\t\tonRowsChange: handleRowsChange,\n\t\tselectedRows,\n\t\tonSelectedRowsChange,\n\t\tonCellKeyDown: handleKeyDown,\n\t\tonCellCopy: handleCellCopy,\n\t\tonCellPaste: rawOnCellPaste ? handleCellPaste : void 0,\n\t\trenderers: {\n\t\t\t...renderers,\n\t\t\trenderRow\n\t\t}\n\t});\n}\nfunction defaultGroupIdGetter(groupKey, parentId) {\n\treturn parentId !== void 0 ? `${parentId}__${groupKey}` : groupKey;\n}\nfunction isReadonlyArray(arr) {\n\treturn Array.isArray(arr);\n}\n\n//#endregion\n//#region src/editors/textEditor.tsx\nconst textEditorInternalClassname = \"t7vyx3i7-0-0-beta-56\";\nconst textEditorClassname = `rdg-text-editor ${textEditorInternalClassname}`;\nfunction autoFocusAndSelect(input) {\n\tinput?.focus();\n\tinput?.select();\n}\nfunction textEditor({ row: row$1, column, onRowChange, onClose }) {\n\treturn /* @__PURE__ */ jsx(\"input\", {\n\t\tclassName: textEditorClassname,\n\t\tref: autoFocusAndSelect,\n\t\tvalue: row$1[column.key],\n\t\tonChange: (event) => onRowChange({\n\t\t\t...row$1,\n\t\t\t[column.key]: event.target.value\n\t\t}),\n\t\tonBlur: () => onClose(true, false)\n\t});\n}\n\n//#endregion\nexport { Cell_default as Cell, DataGrid, DataGridDefaultRenderersContext, Row_default as Row, SELECT_COLUMN_KEY, SelectCellFormatter, SelectColumn, ToggleGroup, TreeDataGrid, renderCheckbox, renderHeaderCell, renderSortIcon, renderSortPriority, renderToggleGroup, renderValue, textEditor, useHeaderRowSelection, useRowSelection };\n//# sourceMappingURL=index.js.map","/** Column width and sizing configuration */\nexport const COLUMN = {\n  DEFAULT_WIDTH: 150,\n  EXPANDER_WIDTH: 50,\n  // This will need to eventually change to 36\n  MIN_WIDTH: 50,\n};\n\n/** Table layout and display constants */\nexport const TABLE = {\n  CELL_PADDING: 6,\n  MAX_CELL_HEIGHT: 48,\n  PAGINATION_LIMIT: 750,\n  SCROLL_BAR_WIDTH: 8,\n  SCROLL_BAR_MARGIN: 2,\n  LINE_HEIGHT: 22,\n  BORDER_RIGHT: 0.666667,\n};\n","import { Property } from 'csstype';\nimport { SortColumn } from 'react-data-grid';\nimport tinycolor from 'tinycolor2';\n\nimport {\n  FieldType,\n  Field,\n  formattedValueToString,\n  GrafanaTheme2,\n  DisplayValue,\n  LinkModel,\n  DisplayValueAlignmentFactors,\n  DataFrame,\n} from '@grafana/data';\nimport {\n  BarGaugeDisplayMode,\n  TableCellBackgroundDisplayMode,\n  TableCellDisplayMode,\n  TableCellHeight,\n} from '@grafana/schema';\n\nimport { getTextColorForAlphaBackground } from '../../../utils/colors';\nimport { TableCellOptions } from '../types';\n\nimport { COLUMN, TABLE } from './constants';\nimport { CellColors, TableRow, TableFieldOptionsType, ColumnTypes, FrameToRowsConverter, Comparator } from './types';\n\n/* ---------------------------- Cell calculations --------------------------- */\nexport type CellHeightCalculator = (text: string, cellWidth: number) => number;\n\n/**\n * @internal\n * Returns the default row height based on the theme and cell height setting.\n */\nexport function getDefaultRowHeight(theme: GrafanaTheme2, cellHeight?: TableCellHeight): number {\n  const bodyFontSize = theme.typography.fontSize;\n  const lineHeight = theme.typography.body.lineHeight;\n\n  switch (cellHeight) {\n    case TableCellHeight.Sm:\n      return 36;\n    case TableCellHeight.Md:\n      return 42;\n    case TableCellHeight.Lg:\n      return TABLE.MAX_CELL_HEIGHT;\n  }\n\n  return TABLE.CELL_PADDING * 2 + bodyFontSize * lineHeight;\n}\n\n/**\n * @internal\n * Returns true if cell inspection (hover to see full content) is enabled for the field.\n */\nexport function isCellInspectEnabled(field: Field): boolean {\n  return field.config?.custom?.inspect ?? false;\n}\n\n/**\n * @internal\n * Returns true if text wrapping should be applied to the cell.\n */\nexport function shouldTextWrap(field: Field): boolean {\n  const cellOptions = getCellOptions(field);\n  // @ts-ignore - a handful of cellTypes have boolean wrapText, but not all of them.\n  // we should be very careful to only use boolean type for cellOptions.wrapText.\n  // TBH we will probably move this up to a field option which is showIf rendered anyway,\n  // but that'll be a migration to do, so it needs to happen post-GA.\n  return Boolean(cellOptions?.wrapText);\n}\n\n// matches characters which CSS\nconst spaceRegex = /[\\s-]/;\n\nexport interface GetMaxWrapCellOptions {\n  colWidths: number[];\n  avgCharWidth: number;\n  wrappedColIdxs: boolean[];\n}\n\n/**\n * @internal\n * loop through the fields and their values, determine which cell is going to determine the\n * height of the row based on its content and width, and then return the text, index, and number of lines for that cell.\n */\nexport function getMaxWrapCell(\n  fields: Field[],\n  rowIdx: number,\n  { colWidths, avgCharWidth, wrappedColIdxs }: GetMaxWrapCellOptions\n): {\n  text: string;\n  idx: number;\n  numLines: number;\n} {\n  let maxLines = 1;\n  let maxLinesIdx = -1;\n  let maxLinesText = '';\n\n  // TODO: consider changing how we store this, using a record by column key instead of an array\n  for (let i = 0; i < colWidths.length; i++) {\n    if (wrappedColIdxs[i]) {\n      const field = fields[i];\n      // special case: for the header, provide `-1` as the row index.\n      const cellTextRaw = rowIdx === -1 ? getDisplayName(field) : field.values[rowIdx];\n\n      if (cellTextRaw != null) {\n        const cellText = String(cellTextRaw);\n\n        if (spaceRegex.test(cellText)) {\n          const charsPerLine = colWidths[i] / avgCharWidth;\n          const approxLines = cellText.length / charsPerLine;\n\n          if (approxLines > maxLines) {\n            maxLines = approxLines;\n            maxLinesIdx = i;\n            maxLinesText = cellText;\n          }\n        }\n      }\n    }\n  }\n\n  return { text: maxLinesText, idx: maxLinesIdx, numLines: maxLines };\n}\n\n/**\n * @internal\n * Returns true if text overflow handling should be applied to the cell.\n */\nexport function shouldTextOverflow(field: Field): boolean {\n  return (\n    field.type === FieldType.string &&\n    // Tech debt: Technically image cells are of type string, which is misleading (kinda?)\n    // so we need to ensure we don't apply overflow hover states for type image\n    getCellOptions(field).type !== TableCellDisplayMode.Image &&\n    !shouldTextWrap(field) &&\n    !isCellInspectEnabled(field)\n  );\n}\n\n/**\n * @internal\n * Returns the text alignment for a field based on its type and configuration.\n */\nexport function getTextAlign(field?: Field): Property.JustifyContent {\n  if (!field) {\n    return 'flex-start';\n  }\n\n  if (field.config.custom) {\n    const custom: TableFieldOptionsType = field.config.custom;\n\n    switch (custom.align) {\n      case 'right':\n        return 'flex-end';\n      case 'left':\n        return 'flex-start';\n      case 'center':\n        return 'center';\n    }\n  }\n\n  if (field.type === FieldType.number) {\n    return 'flex-end';\n  }\n\n  return 'flex-start';\n}\n\nconst DEFAULT_CELL_OPTIONS = { type: TableCellDisplayMode.Auto } as const;\n\n/**\n * @internal\n * Returns the cell options for a field, migrating from legacy displayMode if necessary.\n * TODO: remove live migration in favor of doing it in dashboard or panel migrator\n */\nexport function getCellOptions(field: Field): TableCellOptions {\n  if (field.config.custom?.displayMode) {\n    return migrateTableDisplayModeToCellOptions(field.config.custom?.displayMode);\n  }\n\n  return field.config.custom?.cellOptions ?? DEFAULT_CELL_OPTIONS;\n}\n\n/**\n * @internal\n * Getting gauge or sparkline values to align is very tricky without looking at all values and passing them through display processor.\n * For very large tables that could pretty expensive. So this is kind of a compromise. We look at the first 1000 rows and cache the longest value.\n * If we have a cached value we just check if the current value is longer and update the alignmentFactor. This can obviously still lead to\n * unaligned gauges but it should a lot less common.\n **/\nexport function getAlignmentFactor(\n  field: Field,\n  displayValue: DisplayValue,\n  rowIndex: number\n): DisplayValueAlignmentFactors {\n  let alignmentFactor = field.state?.alignmentFactors;\n\n  if (alignmentFactor) {\n    // check if current alignmentFactor is still the longest\n    if (formattedValueToString(alignmentFactor).length < formattedValueToString(displayValue).length) {\n      alignmentFactor = { ...displayValue };\n      field.state!.alignmentFactors = alignmentFactor;\n    }\n    return alignmentFactor;\n  } else {\n    // look at the next 1000 rows\n    alignmentFactor = { ...displayValue };\n    const maxIndex = Math.min(field.values.length, rowIndex + 1000);\n\n    for (let i = rowIndex + 1; i < maxIndex; i++) {\n      const nextDisplayValue = field.display?.(field.values[i]) ?? field.values[i];\n      if (formattedValueToString(alignmentFactor).length > formattedValueToString(nextDisplayValue).length) {\n        alignmentFactor.text = displayValue.text;\n      }\n    }\n\n    if (field.state) {\n      field.state.alignmentFactors = alignmentFactor;\n    } else {\n      field.state = { alignmentFactors: alignmentFactor };\n    }\n\n    return alignmentFactor;\n  }\n}\n\n/* ------------------------- Cell color calculation ------------------------- */\nconst CELL_COLOR_DARKENING_MULTIPLIER = 10;\nconst CELL_GRADIENT_DARKENING_MULTIPLIER = 15;\nconst CELL_GRADIENT_HUE_ROTATION_DEGREES = 5;\n\n/**\n * @internal\n * Returns the text and background colors for a table cell based on its options and display value.\n */\nexport function getCellColors(\n  theme: GrafanaTheme2,\n  cellOptions: TableCellOptions,\n  displayValue: DisplayValue\n): CellColors {\n  // How much to darken elements depends upon if we're in dark mode\n  const darkeningFactor = theme.isDark ? 1 : -0.7;\n\n  // Setup color variables\n  let textColor: string | undefined = undefined;\n  let bgColor: string | undefined = undefined;\n  let bgHoverColor: string | undefined = undefined;\n\n  if (cellOptions.type === TableCellDisplayMode.ColorText) {\n    textColor = displayValue.color;\n  } else if (cellOptions.type === TableCellDisplayMode.ColorBackground) {\n    const mode = cellOptions.mode ?? TableCellBackgroundDisplayMode.Gradient;\n\n    if (mode === TableCellBackgroundDisplayMode.Basic) {\n      textColor = getTextColorForAlphaBackground(displayValue.color!, theme.isDark);\n      bgColor = tinycolor(displayValue.color).toRgbString();\n      bgHoverColor = tinycolor(displayValue.color)\n        .darken(CELL_COLOR_DARKENING_MULTIPLIER * darkeningFactor)\n        .toRgbString();\n    } else if (mode === TableCellBackgroundDisplayMode.Gradient) {\n      const hoverColor = tinycolor(displayValue.color)\n        .darken(CELL_GRADIENT_DARKENING_MULTIPLIER * darkeningFactor)\n        .toRgbString();\n      const bgColor2 = tinycolor(displayValue.color)\n        .darken(CELL_COLOR_DARKENING_MULTIPLIER * darkeningFactor)\n        .spin(CELL_GRADIENT_HUE_ROTATION_DEGREES);\n      textColor = getTextColorForAlphaBackground(displayValue.color!, theme.isDark);\n      bgColor = `linear-gradient(120deg, ${bgColor2.toRgbString()}, ${displayValue.color})`;\n      bgHoverColor = `linear-gradient(120deg, ${bgColor2.toRgbString()}, ${hoverColor})`;\n    }\n  }\n\n  return { textColor, bgColor, bgHoverColor };\n}\n\n/**\n * @internal\n * Extracts numeric pixel value from theme spacing\n */\nexport const extractPixelValue = (spacing: string | number): number => {\n  return typeof spacing === 'number' ? spacing : parseFloat(spacing) || 0;\n};\n\n/* ------------------------------- Data links ------------------------------- */\n/**\n * @internal\n */\nexport const getCellLinks = (field: Field, rowIdx: number) => {\n  let links: Array<LinkModel<unknown>> | undefined;\n  if (field.getLinks) {\n    links = field.getLinks({\n      valueRowIndex: rowIdx,\n    });\n  }\n\n  if (!links) {\n    return;\n  }\n\n  for (let i = 0; i < links?.length; i++) {\n    if (links[i].onClick) {\n      const origOnClick = links[i].onClick;\n\n      links[i].onClick = (event: MouseEvent) => {\n        // Allow opening in new tab\n        if (!(event.ctrlKey || event.metaKey || event.shiftKey)) {\n          event.preventDefault();\n          origOnClick!(event, {\n            field,\n            rowIndex: rowIdx,\n          });\n        }\n      };\n    }\n  }\n\n  return links.filter((link) => link.href || link.onClick != null);\n};\n\n/* ----------------------------- Data grid sorting ---------------------------- */\n/**\n * @internal\n */\nexport function applySort(\n  rows: TableRow[],\n  fields: Field[],\n  sortColumns: SortColumn[],\n  columnTypes: ColumnTypes = getColumnTypes(fields),\n  hasNestedFrames: boolean = getIsNestedTable(fields)\n): TableRow[] {\n  if (sortColumns.length === 0) {\n    return rows;\n  }\n\n  const compareRows = (a: TableRow, b: TableRow): number => {\n    let result = 0;\n    for (let i = 0; i < sortColumns.length; i++) {\n      const { columnKey, direction } = sortColumns[i];\n      const compare = getComparator(columnTypes[columnKey]);\n      const sortDir = direction === 'ASC' ? 1 : -1;\n\n      result = sortDir * compare(a[columnKey], b[columnKey]);\n      if (result !== 0) {\n        break;\n      }\n    }\n    return result;\n  };\n\n  // Handle nested tables\n  if (hasNestedFrames) {\n    return processNestedTableRows(rows, (parents) => [...parents].sort(compareRows));\n  }\n\n  // Regular sort for tables without nesting\n  return [...rows].sort(compareRows);\n}\n\n/* ----------------------------- Data grid mapping ---------------------------- */\n/**\n * @internal\n */\nexport const frameToRecords = (frame: DataFrame): TableRow[] => {\n  const fnBody = `\n    const rows = Array(frame.length);\n    const values = frame.fields.map(f => f.values);\n    let rowCount = 0;\n    for (let i = 0; i < frame.length; i++) {\n      rows[rowCount] = {\n        __depth: 0,\n        __index: i,\n        ${frame.fields.map((field, fieldIdx) => `${JSON.stringify(getDisplayName(field))}: values[${fieldIdx}][i]`).join(',')}\n      };\n      rowCount += 1;\n      if (rows[rowCount-1]['__nestedFrames']){\n        const childFrame = rows[rowCount-1]['__nestedFrames'];\n        rows[rowCount] = {__depth: 1, __index: i, data: childFrame[0]}\n        rowCount += 1;\n      }\n    }\n    return rows;\n  `;\n\n  // Creates a function that converts a DataFrame into an array of TableRows\n  // Uses new Function() for performance as it's faster than creating rows using loops\n  const convert = new Function('frame', fnBody) as unknown as FrameToRowsConverter;\n  return convert(frame);\n};\n\n/* ----------------------------- Data grid comparator ---------------------------- */\n// The numeric: true option is used to sort numbers as strings correctly. It recognizes numeric sequences\n// within strings and sorts numerically instead of lexicographically.\nconst compare = new Intl.Collator('en', { sensitivity: 'base', numeric: true }).compare;\nconst strCompare: Comparator = (a, b) => compare(String(a ?? ''), String(b ?? ''));\nconst numCompare: Comparator = (a, b) => {\n  if (a === b) {\n    return 0;\n  }\n  if (a == null) {\n    return -1;\n  }\n  if (b == null) {\n    return 1;\n  }\n  return Number(a) - Number(b);\n};\nconst frameCompare: Comparator = (a, b) => {\n  // @ts-ignore The compared vals are DataFrameWithValue. the value is the rendered stat (first, last, etc.)\n  return (a?.value ?? 0) - (b?.value ?? 0);\n};\n\n/**\n * @internal\n */\nexport function getComparator(sortColumnType: FieldType): Comparator {\n  switch (sortColumnType) {\n    // Handle sorting for frame type fields (sparklines)\n    case FieldType.frame:\n      return frameCompare;\n    case FieldType.time:\n    case FieldType.number:\n    case FieldType.boolean:\n      return numCompare;\n    case FieldType.string:\n    case FieldType.enum:\n    default:\n      return strCompare;\n  }\n}\n\ntype TableCellGaugeDisplayModes =\n  | TableCellDisplayMode.BasicGauge\n  | TableCellDisplayMode.GradientGauge\n  | TableCellDisplayMode.LcdGauge;\nconst TABLE_CELL_GAUGE_DISPLAY_MODES_TO_DISPLAY_MODES: Record<TableCellGaugeDisplayModes, BarGaugeDisplayMode> = {\n  [TableCellDisplayMode.BasicGauge]: BarGaugeDisplayMode.Basic,\n  [TableCellDisplayMode.GradientGauge]: BarGaugeDisplayMode.Gradient,\n  [TableCellDisplayMode.LcdGauge]: BarGaugeDisplayMode.Lcd,\n};\n\ntype TableCellColorBackgroundDisplayModes =\n  | TableCellDisplayMode.ColorBackground\n  | TableCellDisplayMode.ColorBackgroundSolid;\nconst TABLE_CELL_COLOR_BACKGROUND_DISPLAY_MODES_TO_DISPLAY_MODES: Record<\n  TableCellColorBackgroundDisplayModes,\n  TableCellBackgroundDisplayMode\n> = {\n  [TableCellDisplayMode.ColorBackground]: TableCellBackgroundDisplayMode.Gradient,\n  [TableCellDisplayMode.ColorBackgroundSolid]: TableCellBackgroundDisplayMode.Basic,\n};\n\n/* ---------------------------- Miscellaneous ---------------------------- */\n/**\n * Migrates table cell display mode to new object format.\n *\n * @param displayMode The display mode of the cell\n * @returns TableCellOptions object in the correct format\n * relative to the old display mode.\n */\nexport function migrateTableDisplayModeToCellOptions(displayMode: TableCellDisplayMode): TableCellOptions {\n  switch (displayMode) {\n    // In the case of the gauge we move to a different option\n    case TableCellDisplayMode.BasicGauge:\n    case TableCellDisplayMode.GradientGauge:\n    case TableCellDisplayMode.LcdGauge:\n      return {\n        type: TableCellDisplayMode.Gauge,\n        mode: TABLE_CELL_GAUGE_DISPLAY_MODES_TO_DISPLAY_MODES[displayMode],\n      };\n    // Also true in the case of the color background\n    case TableCellDisplayMode.ColorBackground:\n    case TableCellDisplayMode.ColorBackgroundSolid:\n      return {\n        type: TableCellDisplayMode.ColorBackground,\n        mode: TABLE_CELL_COLOR_BACKGROUND_DISPLAY_MODES_TO_DISPLAY_MODES[displayMode],\n      };\n    // catching a nonsense case: `displayMode`: 'custom' should pre-date the CustomCell.\n    // if it doesn't, we need to just nope out and return an auto cell.\n    case TableCellDisplayMode.Custom:\n      return {\n        type: TableCellDisplayMode.Auto,\n      };\n    default:\n      return {\n        type: displayMode,\n      };\n  }\n}\n\n/**\n * @internal\n * Returns true if the DataFrame contains nested frames\n */\nexport const getIsNestedTable = (fields: Field[]): boolean =>\n  fields.some(({ type }) => type === FieldType.nestedFrames);\n\n/**\n * @internal\n * Processes nested table rows\n */\nexport const processNestedTableRows = (\n  rows: TableRow[],\n  processParents: (parents: TableRow[]) => TableRow[]\n): TableRow[] => {\n  // Separate parent and child rows\n  // Array for parentRows: enables sorting and maintains order for iteration\n  // Map for childRows: provides O(1) lookup by parent index when reconstructing the result\n  const parentRows: TableRow[] = [];\n  const childRows: Map<number, TableRow> = new Map();\n\n  for (const row of rows) {\n    if (Number(row.__depth) === 0) {\n      parentRows.push(row);\n    } else {\n      childRows.set(Number(row.__index), row);\n    }\n  }\n\n  // Process parent rows (filter or sort)\n  const processedParents = processParents(parentRows);\n\n  // Reconstruct the result\n  const result: TableRow[] = [];\n  processedParents.forEach((row) => {\n    result.push(row);\n    const childRow = childRows.get(Number(row.__index));\n    if (childRow) {\n      result.push(childRow);\n    }\n  });\n\n  return result;\n};\n\n/**\n * @internal\n * returns the display name of a field\n */\nexport const getDisplayName = (field: Field): string => {\n  return field.state?.displayName ?? field.name;\n};\n\n/**\n * @internal\n * returns only fields that are not nested tables and not explicitly hidden\n */\nexport function getVisibleFields(fields: Field[]): Field[] {\n  return fields.filter((field) => field.type !== FieldType.nestedFrames && field.config.custom?.hidden !== true);\n}\n\n/**\n * @internal\n * returns a map of column types by display name\n */\nexport function getColumnTypes(fields: Field[]): ColumnTypes {\n  return fields.reduce<ColumnTypes>((acc, field) => {\n    switch (field.type) {\n      case FieldType.nestedFrames:\n        return { ...acc, ...getColumnTypes(field.values[0]?.[0]?.fields ?? []) };\n      default:\n        return { ...acc, [getDisplayName(field)]: field.type };\n    }\n  }, {});\n}\n\n/**\n * @internal\n * calculates the width of each field, with the following logic:\n * 1. manual sizing minWidth is hard-coded to 50px, we set this in RDG since it enforces the hard limit correctly\n * 2. if minWidth is configured in fieldConfig (or defaults to 150), it serves as the bottom of the auto-size clamp\n */\nexport function computeColWidths(fields: Field[], availWidth: number) {\n  let autoCount = 0;\n  let definedWidth = 0;\n\n  return (\n    fields\n      // first pass to add up how many fields have pre-defined widths and what that width totals to.\n      .map((field) => {\n        const width: number = field.config.custom?.width ?? 0;\n\n        if (width === 0) {\n          autoCount++;\n        } else {\n          definedWidth += width;\n        }\n\n        return width;\n      })\n      // second pass once `autoCount` and `definedWidth` are known.\n      .map(\n        (width, i) =>\n          width ||\n          Math.max(fields[i].config.custom?.minWidth ?? COLUMN.DEFAULT_WIDTH, (availWidth - definedWidth) / autoCount)\n      )\n  );\n}\n\n/**\n * @internal\n * if applyToRow is true in any field, return a function that gets the row background color\n */\nexport function getApplyToRowBgFn(fields: Field[], theme: GrafanaTheme2): ((rowIndex: number) => CellColors) | void {\n  for (const field of fields) {\n    const cellOptions = getCellOptions(field);\n    const fieldDisplay = field.display;\n    if (\n      fieldDisplay !== undefined &&\n      cellOptions.type === TableCellDisplayMode.ColorBackground &&\n      cellOptions.applyToRow === true\n    ) {\n      return (rowIndex: number) => getCellColors(theme, cellOptions, fieldDisplay(field.values[rowIndex]));\n    }\n  }\n}\n\n/** @internal */\nexport function withDataLinksActionsTooltip(field: Field, cellType: TableCellDisplayMode) {\n  return (\n    cellType !== TableCellDisplayMode.DataLinks &&\n    cellType !== TableCellDisplayMode.Actions &&\n    (field.config.links?.length ?? 0) + (field.config.actions?.length ?? 0) > 1\n  );\n}\n","import { Field, formattedValueToString, SelectableValue } from '@grafana/data';\n\nimport { getDisplayName } from '../utils';\n\nexport function calculateUniqueFieldValues(rows: any[], field?: Field) {\n  if (!field || rows.length === 0) {\n    return {};\n  }\n\n  const set: Record<string, string> = {};\n\n  for (let index = 0; index < rows.length; index++) {\n    const row = rows[index];\n    const fieldValue = row[getDisplayName(field)];\n    const displayValue = field.display ? field.display(fieldValue) : fieldValue;\n    const value = field.display ? formattedValueToString(displayValue) : displayValue;\n\n    set[value || '(Blanks)'] = value;\n  }\n\n  return set;\n}\n\nexport function getFilteredOptions(options: SelectableValue[], filterValues?: SelectableValue[]): SelectableValue[] {\n  if (!filterValues) {\n    return [];\n  }\n\n  return options.filter((option) => filterValues.some((filtered) => filtered.value === option.value));\n}\n\nexport function valuesToOptions(unique: Record<string, unknown>): SelectableValue[] {\n  return Object.keys(unique)\n    .map((key) => ({ value: unique[key], label: key }))\n    .sort(sortOptions);\n}\n\nfunction sortOptions(a: SelectableValue, b: SelectableValue): number {\n  if (a.label === undefined && b.label === undefined) {\n    return 0;\n  }\n\n  if (a.label === undefined && b.label !== undefined) {\n    return -1;\n  }\n\n  if (a.label !== undefined && b.label === undefined) {\n    return 1;\n  }\n\n  if (a.label! < b.label!) {\n    return -1;\n  }\n\n  if (a.label! > b.label!) {\n    return 1;\n  }\n\n  return 0;\n}\n","import { css } from '@emotion/css';\nimport React, { useCallback, useMemo, useState } from 'react';\n\nimport { Field, GrafanaTheme2, SelectableValue } from '@grafana/data';\nimport { t, Trans } from '@grafana/i18n';\n\nimport { useStyles2, useTheme2 } from '../../../../themes/ThemeContext';\nimport { Button } from '../../../Button/Button';\nimport { ClickOutsideWrapper } from '../../../ClickOutsideWrapper/ClickOutsideWrapper';\nimport { ButtonSelect } from '../../../Dropdown/ButtonSelect';\nimport { FilterInput } from '../../../FilterInput/FilterInput';\nimport { Label } from '../../../Forms/Label';\nimport { Stack } from '../../../Layout/Stack/Stack';\nimport { FilterType } from '../types';\nimport { getDisplayName } from '../utils';\n\nimport { FilterList } from './FilterList';\nimport { calculateUniqueFieldValues, getFilteredOptions, valuesToOptions } from './utils';\n\nexport const operatorSelectableValues: { [key: string]: SelectableValue<string> } = {\n  Contains: { label: 'Contains', value: 'Contains', description: 'Contains' },\n  '=': { label: '=', value: '=', description: 'Equals' },\n  '!=': { label: '!=', value: '!=', description: 'Not equals' },\n  '>': { label: '>', value: '>', description: 'Greater' },\n  '>=': { label: '>=', value: '>=', description: 'Greater or Equal' },\n  '<': { label: '<', value: '<', description: 'Less' },\n  '<=': { label: '<=', value: '<=', description: 'Less or Equal' },\n  Expression: {\n    label: 'Expression',\n    value: 'Expression',\n    description: 'Bool Expression (Char $ represents the column value in the expression, e.g. \"$ >= 10 && $ <= 12\")',\n  },\n};\nconst OPERATORS = Object.values(operatorSelectableValues);\n\ninterface Props {\n  name: string;\n  rows: any[];\n  filterValue: any;\n  setFilter: (value: any) => void;\n  onClose: () => void;\n  field?: Field;\n  searchFilter: string;\n  setSearchFilter: (value: string) => void;\n  operator: SelectableValue<string>;\n  setOperator: (item: SelectableValue<string>) => void;\n}\n\nexport const FilterPopup = ({\n  name,\n  rows,\n  filterValue,\n  setFilter,\n  onClose,\n  field,\n  searchFilter,\n  setSearchFilter,\n  operator,\n  setOperator,\n}: Props) => {\n  const theme = useTheme2();\n  const uniqueValues = useMemo(() => calculateUniqueFieldValues(rows, field), [rows, field]);\n  const options = useMemo(() => valuesToOptions(uniqueValues), [uniqueValues]);\n  const filteredOptions = useMemo(() => getFilteredOptions(options, filterValue), [options, filterValue]);\n  const [values, setValues] = useState<SelectableValue[]>(filteredOptions);\n  const [matchCase, setMatchCase] = useState(false);\n\n  const onCancel = useCallback((event?: React.MouseEvent) => onClose(), [onClose]);\n\n  const onFilter = useCallback(\n    (event: React.MouseEvent) => {\n      if (values.length !== 0) {\n        // create a Set for faster filtering\n        const filteredSet = new Set(values.map((item) => item.value));\n\n        setFilter((filter: FilterType) => ({\n          ...filter,\n          [name]: { filtered: values, filteredSet, searchFilter, operator },\n        }));\n      } else {\n        setFilter((filter: FilterType) => {\n          const newFilter = { ...filter };\n          delete newFilter[name];\n          return newFilter;\n        });\n      }\n      onClose();\n    },\n    [setFilter, values, onClose] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  const onClearFilter = useCallback(\n    (event: React.MouseEvent) => {\n      setFilter((filter: FilterType) => {\n        const newFilter = { ...filter };\n        delete newFilter[name];\n        return newFilter;\n      });\n      onClose();\n    },\n    [setFilter, onClose] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  const clearFilterVisible = useMemo(() => filterValue !== undefined, [filterValue]);\n  const styles = useStyles2(getStyles);\n\n  return (\n    <ClickOutsideWrapper onClick={onCancel} useCapture={true}>\n      {/* This is just blocking click events from bubbeling and should not have a keyboard interaction. */}\n      {/* eslint-disable-next-line jsx-a11y/no-static-element-interactions, jsx-a11y/click-events-have-key-events */}\n      <div className={styles.filterContainer} onClick={stopPropagation}>\n        <Stack direction=\"column\">\n          <Stack alignItems=\"center\">\n            {field && <Label className={styles.label}>{getDisplayName(field)}</Label>}\n            <ButtonSelect\n              variant=\"canvas\"\n              options={OPERATORS}\n              onChange={setOperator}\n              value={operator}\n              tooltip={operator.description}\n            />\n          </Stack>\n\n          <div className={styles.listDivider} />\n\n          <Stack gap={1}>\n            <FilterInput\n              placeholder={t('grafana-ui.table.filter-popup-input-placeholder', 'Filter values')}\n              onChange={setSearchFilter}\n              value={searchFilter}\n            />\n            <Button\n              variant=\"secondary\"\n              style={{ color: matchCase ? theme.colors.text.link : theme.colors.text.disabled }}\n              onClick={() => {\n                setMatchCase((s) => !s);\n              }}\n              icon={'text-fields'}\n            />\n          </Stack>\n\n          <FilterList\n            onChange={setValues}\n            values={values}\n            options={options}\n            caseSensitive={matchCase}\n            searchFilter={searchFilter}\n            operator={operator}\n          />\n\n          <Stack gap={3}>\n            <Stack>\n              <Button size=\"sm\" onClick={onFilter}>\n                <Trans i18nKey=\"grafana-ui.table.filter-popup-apply\">Ok</Trans>\n              </Button>\n              <Button size=\"sm\" variant=\"secondary\" onClick={onCancel}>\n                <Trans i18nKey=\"grafana-ui.table.filter-popup-cancel\">Cancel</Trans>\n              </Button>\n            </Stack>\n            {clearFilterVisible && (\n              <Stack>\n                <Button fill=\"text\" size=\"sm\" onClick={onClearFilter}>\n                  <Trans i18nKey=\"grafana-ui.table.filter-popup-clear\">Clear filter</Trans>\n                </Button>\n              </Stack>\n            )}\n          </Stack>\n        </Stack>\n      </div>\n    </ClickOutsideWrapper>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  filterContainer: css({\n    label: 'filterContainer',\n    width: '100%',\n    minWidth: '250px',\n    height: '100%',\n    backgroundColor: theme.colors.background.primary,\n    border: `1px solid ${theme.colors.border.weak}`,\n    padding: theme.spacing(2),\n    boxShadow: theme.shadows.z3,\n    borderRadius: theme.shape.radius.default,\n  }),\n  listDivider: css({\n    label: 'listDivider',\n    width: '100%',\n    borderTop: `1px solid ${theme.colors.border.medium}`,\n  }),\n  label: css({\n    marginBottom: 0,\n  }),\n});\n\nconst stopPropagation = (event: React.MouseEvent) => {\n  event.stopPropagation();\n};\n","import { css } from '@emotion/css';\nimport { useCallback, useMemo } from 'react';\nimport * as React from 'react';\nimport { FixedSizeList as List, ListChildComponentProps } from 'react-window';\n\nimport { GrafanaTheme2, formattedValueToString, getValueFormat, SelectableValue } from '@grafana/data';\nimport { Trans } from '@grafana/i18n';\n\nimport { useStyles2, useTheme2 } from '../../../../themes/ThemeContext';\nimport { Checkbox } from '../../../Forms/Checkbox';\nimport { Label } from '../../../Forms/Label';\nimport { Stack } from '../../../Layout/Stack/Stack';\n\nimport { operatorSelectableValues } from './FilterPopup';\n\ninterface Props {\n  values: SelectableValue[];\n  options: SelectableValue[];\n  onChange: (options: SelectableValue[]) => void;\n  caseSensitive?: boolean;\n  searchFilter: string;\n  operator: SelectableValue<string>;\n}\n\nconst ITEM_HEIGHT = 28;\nconst MIN_HEIGHT = ITEM_HEIGHT * 5;\n\nexport const REGEX_OPERATOR = operatorSelectableValues['Contains'];\nconst XPR_OPERATOR = operatorSelectableValues['Expression'];\n\nconst comparableValue = (value: string): string | number | Date | boolean => {\n  value = value.trim().replace(/\\\\/g, '');\n\n  // Does it look like a Date (Starting with pattern YYYY-MM-DD* or YYYY/MM/DD*)?\n  if (/^(\\d{4}-\\d{2}-\\d{2}|\\d{4}\\/\\d{2}\\/\\d{2})/.test(value)) {\n    const date = new Date(value);\n    if (!isNaN(date.getTime())) {\n      const fmt = getValueFormat('dateTimeAsIso');\n      return formattedValueToString(fmt(date.getTime()));\n    }\n  }\n  // Does it look like a Number?\n  const num = parseFloat(value);\n  if (!isNaN(num)) {\n    return num;\n  }\n  // Does it look like a Bool?\n  const lvalue = value.toLowerCase();\n  if (lvalue === 'true' || lvalue === 'false') {\n    return lvalue === 'true';\n  }\n  // Anything else\n  return value;\n};\n\nexport const FilterList = ({ options, values, caseSensitive, onChange, searchFilter, operator }: Props) => {\n  const regex = useMemo(() => new RegExp(searchFilter, caseSensitive ? undefined : 'i'), [searchFilter, caseSensitive]);\n  const items = useMemo(\n    () =>\n      options.filter((option) => {\n        if (!searchFilter || operator.value === REGEX_OPERATOR.value) {\n          if (option.label === undefined) {\n            return false;\n          }\n          return regex.test(option.label);\n        } else if (operator.value === XPR_OPERATOR.value) {\n          if (option.value === undefined) {\n            return false;\n          }\n          try {\n            const xpr = searchFilter.replace(/\\\\/g, '');\n            const fnc = new Function('$', `'use strict'; return ${xpr};`);\n            const val = comparableValue(option.value);\n            return fnc(val);\n          } catch (_) {}\n          return false;\n        } else {\n          if (option.value === undefined) {\n            return false;\n          }\n\n          const value1 = comparableValue(option.value);\n          const value2 = comparableValue(searchFilter);\n\n          switch (operator.value) {\n            case '=':\n              return value1 === value2;\n            case '!=':\n              return value1 !== value2;\n            case '>':\n              return value1 > value2;\n            case '>=':\n              return value1 >= value2;\n            case '<':\n              return value1 < value2;\n            case '<=':\n              return value1 <= value2;\n          }\n          return false;\n        }\n      }),\n    [options, regex, operator, searchFilter]\n  );\n  const selectedItems = useMemo(() => items.filter((item) => values.includes(item)), [items, values]);\n\n  const selectCheckValue = useMemo(() => items.length === selectedItems.length, [items, selectedItems]);\n  const selectCheckIndeterminate = useMemo(\n    () => selectedItems.length > 0 && items.length > selectedItems.length,\n    [items, selectedItems]\n  );\n  const selectCheckLabel = useMemo(\n    () => (selectedItems.length ? `${selectedItems.length} selected` : `Select all`),\n    [selectedItems]\n  );\n  const selectCheckDescription = useMemo(\n    () =>\n      items.length !== selectedItems.length\n        ? 'Add all displayed values to the filter'\n        : 'Remove all displayed values from the filter',\n    [items, selectedItems]\n  );\n\n  const styles = useStyles2(getStyles);\n  const theme = useTheme2();\n  const gutter = theme.spacing.gridSize;\n  const height = useMemo(() => Math.min(items.length * ITEM_HEIGHT, MIN_HEIGHT) + gutter, [gutter, items.length]);\n\n  const onCheckedChanged = useCallback(\n    (option: SelectableValue) => (event: React.FormEvent<HTMLInputElement>) => {\n      const newValues = event.currentTarget.checked\n        ? values.concat(option)\n        : values.filter((c) => c.value !== option.value);\n\n      onChange(newValues);\n    },\n    [onChange, values]\n  );\n\n  const onSelectChanged = useCallback(() => {\n    if (items.length === selectedItems.length) {\n      const newValues = values.filter((item) => !items.includes(item));\n      onChange(newValues);\n    } else {\n      const newValues = [...new Set([...values, ...items])];\n      onChange(newValues);\n    }\n  }, [onChange, values, items, selectedItems]);\n\n  return (\n    <Stack direction=\"column\">\n      {items.length > 0 ? (\n        <>\n          <List\n            height={height}\n            itemCount={items.length}\n            itemSize={ITEM_HEIGHT}\n            itemData={{ items, values: selectedItems, onCheckedChanged, className: styles.filterListRow }}\n            width=\"100%\"\n            className={styles.filterList}\n          >\n            {ItemRenderer}\n          </List>\n          <div className={styles.filterListRow}>\n            <Checkbox\n              value={selectCheckValue}\n              indeterminate={selectCheckIndeterminate}\n              label={selectCheckLabel}\n              description={selectCheckDescription}\n              onChange={onSelectChanged}\n            />\n          </div>\n        </>\n      ) : (\n        <Label className={styles.noValuesLabel}>\n          <Trans i18nKey=\"grafana-ui.table.no-values-label\">No values</Trans>\n        </Label>\n      )}\n    </Stack>\n  );\n};\n\ninterface ItemRendererProps extends ListChildComponentProps {\n  data: {\n    onCheckedChanged: (option: SelectableValue) => (event: React.FormEvent<HTMLInputElement>) => void;\n    items: SelectableValue[];\n    values: SelectableValue[];\n    className: string;\n  };\n}\n\nfunction ItemRenderer({ index, style, data: { onCheckedChanged, items, values, className } }: ItemRendererProps) {\n  const option = items[index];\n  const { value, label } = option;\n  const isChecked = values.find((s) => s.value === value) !== undefined;\n\n  return (\n    <div className={className} style={style} title={label}>\n      <Checkbox value={isChecked} label={label} onChange={onCheckedChanged(option)} />\n    </div>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  filterList: css({\n    label: 'filterList',\n    backgroundColor: theme.components.input.background,\n    border: `1px solid ${theme.colors.border.medium}`,\n    borderRadius: theme.shape.radius.default,\n  }),\n  filterListRow: css({\n    label: 'filterListRow',\n    cursor: 'pointer',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    padding: theme.spacing(0.5),\n\n    ':hover': {\n      backgroundColor: theme.colors.action.hover,\n    },\n  }),\n  selectDivider: css({\n    label: 'selectDivider',\n    width: '100%',\n    borderTop: `1px solid ${theme.colors.border.medium}`,\n    padding: theme.spacing(0.5, 2),\n  }),\n  noValuesLabel: css({\n    paddingTop: theme.spacing(1),\n  }),\n});\n","import { css, cx } from '@emotion/css';\nimport { useRef, useState } from 'react';\n\nimport { Field, GrafanaTheme2, SelectableValue } from '@grafana/data';\n\nimport { useStyles2 } from '../../../../themes/ThemeContext';\nimport { Icon } from '../../../Icon/Icon';\nimport { Popover } from '../../../Tooltip/Popover';\nimport { FilterType, TableRow } from '../types';\n\nimport { REGEX_OPERATOR } from './FilterList';\nimport { FilterPopup } from './FilterPopup';\n\ninterface Props {\n  name: string;\n  rows: any[];\n  filter: FilterType;\n  setFilter: (value: FilterType) => void;\n  field?: Field;\n  crossFilterOrder: string[];\n  crossFilterRows: { [key: string]: TableRow[] };\n  iconClassName?: string;\n}\n\nexport const Filter = ({\n  name,\n  rows,\n  filter,\n  setFilter,\n  field,\n  crossFilterOrder,\n  crossFilterRows,\n  iconClassName,\n}: Props) => {\n  const filterValue = filter[name]?.filtered;\n\n  // get rows for cross filtering\n  const filterIndex = crossFilterOrder.indexOf(name);\n  let filteredRows: TableRow[];\n  if (filterIndex > 0) {\n    // current filter list should be based on the previous filter list\n    const previousFilterName = crossFilterOrder[filterIndex - 1];\n    filteredRows = crossFilterRows[previousFilterName];\n  } else if (filterIndex === -1 && crossFilterOrder.length > 0) {\n    // current filter list should be based on the last filter list\n    const previousFilterName = crossFilterOrder[crossFilterOrder.length - 1];\n    filteredRows = crossFilterRows[previousFilterName];\n  } else {\n    filteredRows = rows;\n  }\n\n  const ref = useRef<HTMLButtonElement>(null);\n  const [isPopoverVisible, setPopoverVisible] = useState<boolean>(false);\n  const styles = useStyles2(getStyles);\n  const filterEnabled = Boolean(filterValue);\n  const [searchFilter, setSearchFilter] = useState(filter[name]?.searchFilter || '');\n  const [operator, setOperator] = useState<SelectableValue<string>>(filter[name]?.operator || REGEX_OPERATOR);\n\n  return (\n    <button\n      className={styles.headerFilter}\n      ref={ref}\n      type=\"button\"\n      onClick={(ev) => {\n        setPopoverVisible(true);\n        ev.stopPropagation();\n      }}\n    >\n      <Icon name=\"filter\" className={cx(iconClassName, { [styles.filterIconEnabled]: filterEnabled })} />\n      {isPopoverVisible && ref.current && (\n        <Popover\n          content={\n            <FilterPopup\n              name={name}\n              rows={filteredRows}\n              filterValue={filterValue}\n              setFilter={setFilter}\n              field={field}\n              onClose={() => setPopoverVisible(false)}\n              searchFilter={searchFilter}\n              setSearchFilter={setSearchFilter}\n              operator={operator}\n              setOperator={setOperator}\n            />\n          }\n          onKeyDown={(event) => {\n            if (event.key === ' ') {\n              event.stopPropagation();\n            }\n          }}\n          placement=\"bottom-start\"\n          referenceElement={ref.current}\n          show\n        />\n      )}\n    </button>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  headerFilter: css({\n    background: 'transparent',\n    border: 'none',\n    label: 'headerFilter',\n    padding: 0,\n    alignSelf: 'flex-end',\n  }),\n  filterIconEnabled: css({\n    label: 'filterIconEnabled',\n    color: theme.colors.primary.text,\n  }),\n});\n","import { css, cx } from '@emotion/css';\nimport React, { useEffect } from 'react';\nimport { Column, SortDirection } from 'react-data-grid';\n\nimport { Field, GrafanaTheme2 } from '@grafana/data';\n\nimport { useStyles2 } from '../../../../themes/ThemeContext';\nimport { getFieldTypeIcon } from '../../../../types/icon';\nimport { Icon } from '../../../Icon/Icon';\nimport { Filter } from '../Filter/Filter';\nimport { FilterType, TableRow, TableSummaryRow } from '../types';\nimport { getDisplayName } from '../utils';\n\ninterface HeaderCellProps {\n  column: Column<TableRow, TableSummaryRow>;\n  rows: TableRow[];\n  field: Field;\n  direction?: SortDirection;\n  filter: FilterType;\n  setFilter: React.Dispatch<React.SetStateAction<FilterType>>;\n  crossFilterOrder: string[];\n  crossFilterRows: { [key: string]: TableRow[] };\n  showTypeIcons?: boolean;\n}\n\nconst HeaderCell: React.FC<HeaderCellProps> = ({\n  column,\n  rows,\n  field,\n  direction,\n  filter,\n  setFilter,\n  crossFilterOrder,\n  crossFilterRows,\n  showTypeIcons,\n}) => {\n  const headerCellWrap = field.config.custom?.wrapHeaderText ?? false;\n  const styles = useStyles2(getStyles, headerCellWrap);\n  const displayName = getDisplayName(field);\n  const filterable = field.config.custom?.filterable ?? false;\n\n  // we have to remove/reset the filter if the column is not filterable\n  useEffect(() => {\n    if (!filterable && filter[displayName]) {\n      setFilter((filter: FilterType) => {\n        const newFilter = { ...filter };\n        delete newFilter[displayName];\n        return newFilter;\n      });\n    }\n  }, [filterable, displayName, filter, setFilter]);\n\n  return (\n    <>\n      {showTypeIcons && (\n        <Icon className={styles.headerCellIcon} name={getFieldTypeIcon(field)} title={field?.type} size=\"sm\" />\n      )}\n      <span className={styles.headerCellLabel}>{getDisplayName(field)}</span>\n      {direction && (\n        <Icon\n          className={cx(styles.headerCellIcon, styles.headerSortIcon)}\n          size=\"lg\"\n          name={direction === 'ASC' ? 'arrow-up' : 'arrow-down'}\n        />\n      )}\n      {filterable && (\n        <Filter\n          name={column.key}\n          rows={rows}\n          filter={filter}\n          setFilter={setFilter}\n          field={field}\n          crossFilterOrder={crossFilterOrder}\n          crossFilterRows={crossFilterRows}\n          iconClassName={styles.headerCellIcon}\n        />\n      )}\n    </>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2, headerTextWrap?: boolean) => ({\n  headerCellLabel: css({\n    cursor: 'pointer',\n    fontWeight: theme.typography.fontWeightMedium,\n    color: theme.colors.text.secondary,\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: headerTextWrap ? 'pre-line' : 'nowrap',\n    '&:hover': {\n      textDecoration: 'underline',\n      color: theme.colors.text.link,\n    },\n  }),\n  headerCellIcon: css({\n    marginBottom: theme.spacing(0.5),\n    alignSelf: 'flex-end',\n    color: theme.colors.text.secondary,\n  }),\n  headerSortIcon: css({\n    marginBottom: theme.spacing(0.25),\n  }),\n});\n\nexport { HeaderCell };\n","import { css } from '@emotion/css';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { t } from '@grafana/i18n';\n\nimport { useStyles2 } from '../../../../themes/ThemeContext';\nimport { Icon } from '../../../Icon/Icon';\nimport { RowExpanderNGProps } from '../types';\n\nexport function RowExpander({ height, onCellExpand, isExpanded }: RowExpanderNGProps) {\n  const styles = useStyles2(getStyles, height);\n  function handleKeyDown(e: React.KeyboardEvent<HTMLSpanElement>) {\n    if (e.key === ' ' || e.key === 'Enter') {\n      e.preventDefault();\n      onCellExpand(e);\n    }\n  }\n  return (\n    <div role=\"button\" tabIndex={0} className={styles.expanderCell} onClick={onCellExpand} onKeyDown={handleKeyDown}>\n      <Icon\n        aria-label={\n          isExpanded\n            ? t('grafana-ui.row-expander-ng.aria-label-collapse', 'Collapse row')\n            : t('grafana-ui.row-expander.aria-label-expand', 'Expand row')\n        }\n        name={isExpanded ? 'angle-down' : 'angle-right'}\n        size=\"lg\"\n      />\n    </div>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2, rowHeight: number) => ({\n  expanderCell: css({\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    height: `${rowHeight}px`,\n    cursor: 'pointer',\n  }),\n});\n","import { Property } from 'csstype';\nimport { SyntheticEvent } from 'react';\nimport { Column } from 'react-data-grid';\n\nimport {\n  DataFrame,\n  Field,\n  GrafanaTheme2,\n  KeyValue,\n  TimeRange,\n  FieldConfigSource,\n  ActionModel,\n  FieldType,\n  DataFrameWithValue,\n  SelectableValue,\n} from '@grafana/data';\nimport { TableCellHeight, TableFieldOptions } from '@grafana/schema';\n\nimport { TableCellInspectorMode } from '../TableCellInspector';\nimport { TableCellOptions } from '../types';\n\nexport const FILTER_FOR_OPERATOR = '=';\nexport const FILTER_OUT_OPERATOR = '!=';\n\nexport type AdHocFilterOperator = typeof FILTER_FOR_OPERATOR | typeof FILTER_OUT_OPERATOR;\nexport type AdHocFilterItem = { key: string; value: string; operator: AdHocFilterOperator };\nexport type TableFilterActionCallback = (item: AdHocFilterItem) => void;\nexport type TableColumnResizeActionCallback = (fieldDisplayName: string, width: number) => void;\nexport type TableSortByActionCallback = (state: TableSortByFieldState[]) => void;\nexport type FooterItem = Array<KeyValue<string>> | string | undefined;\n\nexport type GetActionsFunction = (frame: DataFrame, field: Field, rowIndex: number) => ActionModel[];\n\nexport type GetActionsFunctionLocal = (field: Field, rowIndex: number) => ActionModel[];\n\nexport type TableFieldOptionsType = Omit<TableFieldOptions, 'cellOptions'> & {\n  cellOptions: TableCellOptions;\n  headerComponent?: React.ComponentType<CustomHeaderRendererProps>;\n};\n\nexport type FilterType = Record<\n  string,\n  {\n    filteredSet: Set<string>;\n    filtered?: Array<SelectableValue<unknown>>;\n    searchFilter?: string;\n    operator?: SelectableValue<string>;\n  }\n>;\n\n/* ----------------------------- Table specific types ----------------------------- */\nexport interface TableSummaryRow {\n  [columnName: string]: string | number | undefined;\n}\n\nexport interface TableColumn extends Column<TableRow, TableSummaryRow> {\n  field: Field; // Grafana field data/config\n  width?: number | string; // Column width\n  minWidth?: number; // Min width constraint\n}\n\n// Possible values for table cells based on field types\nexport type TableCellValue =\n  | string // FieldType.string, FieldType.enum\n  | number // FieldType.number\n  | boolean // FieldType.boolean\n  | Date // FieldType.time\n  | DataFrame // For nested data\n  | DataFrame[] // For nested frames\n  | DataFrameWithValue // For sparklines\n  | undefined; // For undefined values\n\nexport interface TableRow {\n  // Required metadata properties\n  __depth: number;\n  __index: number;\n\n  // Nested table properties\n  data?: DataFrame;\n  __nestedFrames?: DataFrame[];\n  __expanded?: boolean; // For row expansion state\n\n  // Generic typing for column values\n  [columnName: string]: TableCellValue;\n}\n\nexport interface CustomCellRendererProps {\n  field: Field;\n  rowIndex: number;\n  frame: DataFrame;\n  // Would be great to have generic type for this but that would need having a generic DataFrame type where the field\n  // types could be propagated here.\n  value: unknown;\n}\n\nexport interface CustomHeaderRendererProps {\n  field: Field;\n  defaultContent: React.ReactNode;\n}\n\nexport interface TableSortByFieldState {\n  displayName: string;\n  desc?: boolean;\n}\n\nexport interface TableFooterCalc {\n  show: boolean;\n  reducer?: string[];\n  fields?: string[];\n  enablePagination?: boolean;\n  countRows?: boolean;\n}\n\nexport interface BaseTableProps {\n  ariaLabel?: string;\n  data: DataFrame;\n  width: number;\n  height: number;\n  maxHeight?: number;\n  /** Minimal column width specified in pixels */\n  columnMinWidth?: number;\n  noHeader?: boolean;\n  showTypeIcons?: boolean;\n  resizable?: boolean;\n  initialSortBy?: TableSortByFieldState[];\n  onColumnResize?: TableColumnResizeActionCallback;\n  onSortByChange?: TableSortByActionCallback;\n  onCellFilterAdded?: TableFilterActionCallback;\n  footerOptions?: TableFooterCalc;\n  footerValues?: FooterItem[];\n  enablePagination?: boolean;\n  cellHeight?: TableCellHeight;\n  structureRev?: number;\n  /** @alpha Used by SparklineCell when provided */\n  timeRange?: TimeRange;\n  enableSharedCrosshair?: boolean;\n  // The index of the field value that the table will initialize scrolled to\n  initialRowIndex?: number;\n  fieldConfig?: FieldConfigSource;\n  getActions?: GetActionsFunction;\n  // Used solely for testing as RTL can't correctly render the table otherwise\n  enableVirtualization?: boolean;\n}\n\n/* ---------------------------- Table cell props ---------------------------- */\nexport interface TableNGProps extends BaseTableProps {}\n\nexport interface TableCellRendererProps {\n  rowIdx: number;\n  frame: DataFrame;\n  timeRange?: TimeRange;\n  value: TableCellValue;\n  height: number;\n  // flags that are static per column\n  field: Field;\n  cellOptions: TableCellOptions;\n  width: number;\n  theme: GrafanaTheme2;\n  cellInspect: boolean;\n  showFilters: boolean;\n  justifyContent: Property.JustifyContent;\n  getActions?: GetActionsFunctionLocal;\n}\n\nexport type ContextMenuProps = {\n  rowIdx?: number;\n  value: string;\n  mode?: TableCellInspectorMode.code | TableCellInspectorMode.text;\n  top?: number;\n  left?: number;\n};\n\nexport interface TableCellActionsProps {\n  field: Field;\n  value: TableCellValue;\n  cellOptions: TableCellOptions;\n  displayName: string;\n  cellInspect: boolean;\n  showFilters: boolean;\n  setIsInspecting: React.Dispatch<React.SetStateAction<boolean>>;\n  setContextMenuProps: React.Dispatch<React.SetStateAction<ContextMenuProps | null>>;\n  className?: string;\n  onCellFilterAdded?: TableFilterActionCallback;\n}\n\n/* ------------------------- Specialized Cell Props ------------------------- */\nexport interface RowExpanderNGProps {\n  height: number;\n  onCellExpand: (e: SyntheticEvent) => void;\n  isExpanded?: boolean;\n}\n\nexport interface SparklineCellProps {\n  field: Field;\n  justifyContent: Property.JustifyContent;\n  rowIdx: number;\n  theme: GrafanaTheme2;\n  timeRange?: TimeRange;\n  value: TableCellValue;\n  width: number;\n}\n\nexport interface BarGaugeCellProps {\n  field: Field;\n  height: number;\n  rowIdx: number;\n  theme: GrafanaTheme2;\n  value: TableCellValue;\n  width: number;\n}\n\nexport interface ImageCellProps {\n  cellOptions: TableCellOptions;\n  field: Field;\n  height: number;\n  justifyContent: Property.JustifyContent;\n  value: TableCellValue;\n  rowIdx: number;\n}\n\nexport interface JSONCellProps {\n  justifyContent: Property.JustifyContent;\n  value: TableCellValue;\n  field: Field;\n  rowIdx: number;\n}\n\nexport interface DataLinksCellProps {\n  field: Field;\n  rowIdx: number;\n}\n\nexport interface GeoCellProps {\n  value: TableCellValue;\n  justifyContent: Property.JustifyContent;\n  height: number;\n}\n\nexport interface CellColors {\n  textColor?: string;\n  bgColor?: string;\n  bgHoverColor?: string;\n}\n\nexport interface AutoCellProps {\n  field: Field;\n  value: TableCellValue;\n  justifyContent: Property.JustifyContent;\n  rowIdx: number;\n  cellOptions: TableCellOptions;\n}\n\nexport interface ActionCellProps {\n  field: Field;\n  rowIdx: number;\n  getActions: GetActionsFunctionLocal;\n}\n\n// Comparator for sorting table values\nexport type Comparator = (a: TableCellValue, b: TableCellValue) => number;\n\n// Type for converting a DataFrame into an array of TableRows\nexport type FrameToRowsConverter = (frame: DataFrame) => TableRow[];\n\n// Type for mapping column names to their field types\nexport type ColumnTypes = Record<string, FieldType>;\n\nexport interface ScrollPosition {\n  x: number;\n  y: number;\n}\n","import { WKT } from 'ol/format';\nimport { Geometry } from 'ol/geom';\n\nimport { FieldType } from '@grafana/data';\nimport { t } from '@grafana/i18n';\n\nimport { IconButton } from '../../../IconButton/IconButton';\nimport { TableCellInspectorMode } from '../../TableCellInspector';\nimport { TableCellDisplayMode } from '../../types';\nimport { FILTER_FOR_OPERATOR, FILTER_OUT_OPERATOR, TableCellActionsProps } from '../types';\n\nexport function TableCellActions(props: TableCellActionsProps) {\n  const {\n    field,\n    value,\n    cellOptions,\n    displayName,\n    setIsInspecting,\n    setContextMenuProps,\n    onCellFilterAdded,\n    className,\n    cellInspect,\n    showFilters,\n  } = props;\n\n  return (\n    // stopping propagation to prevent clicks within the actions menu from triggering the cell click events\n    // for things like the data links tooltip.\n    // eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions\n    <div className={className} onClick={(ev) => ev.stopPropagation()}>\n      {cellInspect && (\n        <IconButton\n          name=\"eye\"\n          aria-label={t('grafana-ui.table.cell-inspect-tooltip', 'Inspect value')}\n          onClick={() => {\n            let inspectValue = value;\n            let mode = TableCellInspectorMode.text;\n\n            if (field.type === FieldType.geo && value instanceof Geometry) {\n              inspectValue = new WKT().writeGeometry(value, {\n                featureProjection: 'EPSG:3857',\n                dataProjection: 'EPSG:4326',\n              });\n              mode = TableCellInspectorMode.code;\n            } else if ('cellType' in cellOptions && cellOptions.cellType === TableCellDisplayMode.JSONView) {\n              mode = TableCellInspectorMode.code;\n            }\n\n            setContextMenuProps({\n              value: String(inspectValue ?? ''),\n              mode,\n            });\n            setIsInspecting(true);\n          }}\n        />\n      )}\n      {showFilters && (\n        <>\n          <IconButton\n            name={'search-plus'}\n            aria-label={t('grafana-ui.table.cell-filter-on', 'Filter for value')}\n            onClick={() => {\n              onCellFilterAdded?.({\n                key: displayName,\n                operator: FILTER_FOR_OPERATOR,\n                value: String(value ?? ''),\n              });\n            }}\n          />\n          <IconButton\n            name={'search-minus'}\n            aria-label={t('grafana-ui.table.cell-filter-out', 'Filter out value')}\n            onClick={() => {\n              onCellFilterAdded?.({\n                key: displayName,\n                operator: FILTER_OUT_OPERATOR,\n                value: String(value ?? ''),\n              });\n            }}\n          />\n        </>\n      )}\n    </div>\n  );\n}\n","import { css } from '@emotion/css';\nimport { useMemo } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\n\nimport { useStyles2 } from '../../../../themes/ThemeContext';\nimport { ActionButton } from '../../../Actions/ActionButton';\nimport { ActionCellProps } from '../types';\n\nexport const ActionsCell = ({ field, rowIdx, getActions }: ActionCellProps) => {\n  const styles = useStyles2(getStyles);\n\n  const actions = useMemo(() => getActions(field, rowIdx), [getActions, field, rowIdx]);\n\n  return (\n    <div className={styles.buttonsGap}>\n      {actions.map((action, i) => (\n        <ActionButton key={i} action={action} variant=\"secondary\" />\n      ))}\n    </div>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  buttonsGap: css({\n    display: 'flex',\n    gap: 6,\n  }),\n});\n","/**\n* Copyright (c) 2025, Leon Sorokin\n* All rights reserved. (MIT Licensed)\n*\n* uWrap.js\n* A small, fast line wrapping thing for Canvas2D\n* https://github.com/leeoniya/uWrap (v0.1.1)\n*/\n\n// BREAKS\nconst D = \"-\".charCodeAt(0);\nconst S = \" \".charCodeAt(0);\nconst N = \"\\n\".charCodeAt(0);\n// const R = \"\\r\".charCodeAt(0); (TODO: support \\r\\n breaks)\n// const T = \"\\t\".charCodeAt(0);\nconst SYMBS = `\\`~!@#$%^&*()_+-=[]\\\\{}|;':\",./<>? \\t`;\nconst NUMS = \"1234567890\";\nconst UPPER = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\nconst LOWER = \"abcdefghijklmnopqrstuvwxyz\";\nconst CHARS = `${UPPER}${LOWER}${NUMS}${SYMBS}`;\nfunction supportsLetterSpacing(ctx) {\n    const _w = ctx.measureText('W').width;\n    const _letterSpacing = ctx.letterSpacing;\n    ctx.letterSpacing = '101px';\n    const w = ctx.measureText('W').width;\n    ctx.letterSpacing = _letterSpacing;\n    return w > _w;\n}\nfunction varPreLine(ctx) {\n    // Safari pre-18.4 does not support Canvas letterSpacing, and measureText() does not account for it\n    // so we have to add it manually. https://caniuse.com/mdn-api_canvasrenderingcontext2d_letterspacing\n    const fauxLetterSpacing = !supportsLetterSpacing(ctx) ? parseFloat(ctx.letterSpacing) : 0;\n    // single-char widths in isolation\n    const WIDTHS = {};\n    for (let i = 0; i < CHARS.length; i++)\n        WIDTHS[CHARS.charCodeAt(i)] = ctx.measureText(CHARS[i]).width + fauxLetterSpacing;\n    const wordSpacing = parseFloat(ctx.wordSpacing);\n    if (wordSpacing > 0)\n        WIDTHS[S] = wordSpacing;\n    // build kerning/spacing LUT of upper+lower, upper+sym, upper+upper pairs. (this includes letterSpacing)\n    // holds kerning-adjusted width of the uppers\n    const PAIRS = {};\n    for (let i = 0; i < UPPER.length; i++) {\n        let uc = UPPER.charCodeAt(i);\n        PAIRS[uc] = {};\n        for (let j = 0; j < CHARS.length; j++) {\n            let ch = CHARS.charCodeAt(j);\n            let wid = ctx.measureText(`${UPPER[i]}${CHARS[j]}`).width - WIDTHS[ch] + fauxLetterSpacing;\n            PAIRS[uc][ch] = wid;\n        }\n    }\n    const eachLine = () => { };\n    function each(text, width, cb = eachLine) {\n        let fr = 0;\n        while (text.charCodeAt(fr) === S)\n            fr++;\n        let to = text.length - 1;\n        while (text.charCodeAt(to) === S)\n            to--;\n        let headIdx = fr;\n        let headEnd = 0;\n        let headWid = 0;\n        let tailIdx = -1; // wrap candidate\n        let tailWid = 0;\n        let inWS = false;\n        for (let i = fr; i <= to; i++) {\n            let c = text.charCodeAt(i);\n            let w = 0;\n            if (c in PAIRS) {\n                let n = text.charCodeAt(i + 1);\n                if (n in PAIRS[c])\n                    w = PAIRS[c][n];\n            }\n            if (w === 0)\n                w = WIDTHS[c] ?? (WIDTHS[c] = ctx.measureText(text[i]).width);\n            if (c === S) { //  || c === T || c === N || c === R\n                // set possible wrap point\n                if (text.charCodeAt(i + 1) !== c) {\n                    tailIdx = i + 1;\n                    tailWid = 0;\n                }\n                if (!inWS && headWid > 0) {\n                    headWid += w;\n                    headEnd = i;\n                }\n                inWS = true;\n            }\n            else if (c === N) {\n                if (cb(headIdx, i) === false)\n                    return;\n                headIdx = headEnd = i + 1;\n                headWid = tailWid = 0;\n                tailWid = 0;\n                tailIdx = -1;\n            }\n            else {\n                if (headEnd > headIdx && headWid + w > width) {\n                    if (cb(headIdx, headEnd) === false)\n                        return;\n                    headWid = tailWid + w;\n                    headIdx = headEnd = tailIdx;\n                    tailWid = 0;\n                    tailIdx = -1;\n                }\n                else {\n                    if (c === D) {\n                        // set possible wrap point\n                        if (text.charCodeAt(i + 1) !== c) {\n                            tailIdx = headEnd = i + 1;\n                            tailWid = 0;\n                        }\n                    }\n                    headWid += w;\n                    tailWid += w;\n                }\n                inWS = false;\n            }\n        }\n        cb(headIdx, to + 1);\n    }\n    return {\n        each,\n        split: (text, width, limit = Infinity) => {\n            let out = [];\n            each(text, width, (idx0, idx1) => {\n                out.push(text.slice(idx0, idx1));\n                if (out.length === limit)\n                    return false;\n            });\n            return out;\n        },\n        count: (text, width) => {\n            let count = 0;\n            each(text, width, () => { count++; });\n            return count;\n        },\n        test: (text, width) => {\n            let count = 0;\n            each(text, width, () => {\n                if (++count === 2)\n                    return false;\n            });\n            return count === 2;\n        },\n    };\n}\n/*\nfunction isMonospace(ctx: CanvasRenderingContext2D) {\n  let w = ctx.measureText('.').width;\n  return ctx.measureText('i').width === w && ctx.measureText('.').width === w;\n}\n*/\n\nexport { varPreLine };\n","import { useState, useMemo, useEffect, useCallback, useRef, useLayoutEffect } from 'react';\nimport { Column, DataGridProps, SortColumn } from 'react-data-grid';\nimport { varPreLine } from 'uwrap';\n\nimport { Field, fieldReducers, FieldType, formattedValueToString, LinkModel, reduceField } from '@grafana/data';\n\nimport { useTheme2 } from '../../../themes/ThemeContext';\nimport { TableCellDisplayMode, TableColumnResizeActionCallback } from '../types';\n\nimport { TABLE } from './constants';\nimport { FilterType, TableFooterCalc, TableRow, TableSortByFieldState, TableSummaryRow } from './types';\nimport {\n  getDisplayName,\n  processNestedTableRows,\n  applySort,\n  getCellOptions,\n  getColumnTypes,\n  GetMaxWrapCellOptions,\n  getMaxWrapCell,\n  getCellLinks,\n} from './utils';\n\n// Helper function to get displayed value\nconst getDisplayedValue = (row: TableRow, key: string, fields: Field[]) => {\n  const field = fields.find((field) => getDisplayName(field) === key);\n  if (!field || !field.display) {\n    return '';\n  }\n  const displayedValue = formattedValueToString(field.display(row[key]));\n  return displayedValue;\n};\n\nexport interface FilteredRowsResult {\n  rows: TableRow[];\n  filter: FilterType;\n  setFilter: React.Dispatch<React.SetStateAction<FilterType>>;\n  crossFilterOrder: string[];\n  crossFilterRows: Record<string, TableRow[]>;\n}\n\nexport interface FilteredRowsOptions {\n  hasNestedFrames: boolean;\n}\n\nexport function useFilteredRows(\n  rows: TableRow[],\n  fields: Field[],\n  { hasNestedFrames }: FilteredRowsOptions\n): FilteredRowsResult {\n  // TODO: allow persisted filter selection via url\n  const [filter, setFilter] = useState<FilterType>({});\n  const filterValues = useMemo(() => Object.entries(filter), [filter]);\n\n  const crossFilterOrder: FilteredRowsResult['crossFilterOrder'] = useMemo(\n    () => Array.from(new Set(filterValues.map(([key]) => key))),\n    [filterValues]\n  );\n\n  const [filteredRows, crossFilterRows] = useMemo(() => {\n    const crossFilterRows: FilteredRowsResult['crossFilterRows'] = {};\n\n    const filterRows = (row: TableRow): boolean => {\n      for (const [key, value] of filterValues) {\n        const displayedValue = getDisplayedValue(row, key, fields);\n        if (!value.filteredSet.has(displayedValue)) {\n          return false;\n        }\n        // collect rows for crossFilter\n        crossFilterRows[key] = crossFilterRows[key] ?? [];\n        crossFilterRows[key].push(row);\n      }\n      return true;\n    };\n\n    const filteredRows = hasNestedFrames\n      ? processNestedTableRows(rows, (parents) => parents.filter(filterRows))\n      : rows.filter(filterRows);\n\n    return [filteredRows, crossFilterRows];\n  }, [filterValues, rows, fields, hasNestedFrames]);\n\n  return {\n    rows: filteredRows,\n    filter,\n    setFilter,\n    crossFilterOrder,\n    crossFilterRows,\n  };\n}\n\nexport interface SortedRowsOptions {\n  hasNestedFrames: boolean;\n  initialSortBy?: TableSortByFieldState[];\n}\n\nexport interface SortedRowsResult {\n  rows: TableRow[];\n  sortColumns: SortColumn[];\n  setSortColumns: React.Dispatch<React.SetStateAction<SortColumn[]>>;\n}\n\nexport function useSortedRows(\n  rows: TableRow[],\n  fields: Field[],\n  { initialSortBy, hasNestedFrames }: SortedRowsOptions\n): SortedRowsResult {\n  const initialSortColumns = useMemo<SortColumn[]>(\n    () =>\n      initialSortBy?.flatMap(({ displayName, desc }) => {\n        if (!fields.some((f) => getDisplayName(f) === displayName)) {\n          return [];\n        }\n        return [\n          {\n            columnKey: displayName,\n            direction: desc ? ('DESC' as const) : ('ASC' as const),\n          },\n        ];\n      }) ?? [],\n    [] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  const [sortColumns, setSortColumns] = useState<SortColumn[]>(initialSortColumns);\n  const columnTypes = useMemo(() => getColumnTypes(fields), [fields]);\n\n  const sortedRows = useMemo(\n    () => applySort(rows, fields, sortColumns, columnTypes, hasNestedFrames),\n    [rows, fields, sortColumns, hasNestedFrames, columnTypes]\n  );\n\n  return {\n    rows: sortedRows,\n    sortColumns,\n    setSortColumns,\n  };\n}\n\nexport interface PaginatedRowsOptions {\n  height: number;\n  width: number;\n  rowHeight: number | ((row: TableRow) => number);\n  headerHeight: number;\n  footerHeight: number;\n  paginationHeight?: number;\n  enabled: boolean;\n}\n\nexport interface PaginatedRowsResult {\n  rows: TableRow[];\n  page: number;\n  setPage: React.Dispatch<React.SetStateAction<number>>;\n  numPages: number;\n  rowsPerPage: number;\n  pageRangeStart: number;\n  pageRangeEnd: number;\n  smallPagination: boolean;\n}\n\n// hand-measured. pagination height is 30px, plus 8px top margin\nconst PAGINATION_HEIGHT = 38;\n\nexport function usePaginatedRows(\n  rows: TableRow[],\n  { height, width, headerHeight, footerHeight, rowHeight, enabled }: PaginatedRowsOptions\n): PaginatedRowsResult {\n  // TODO: allow persisted page selection via url\n  const [page, setPage] = useState(0);\n  const numRows = rows.length;\n\n  // calculate average row height if row height is variable.\n  const avgRowHeight = useMemo(() => {\n    if (!enabled) {\n      return 0;\n    }\n\n    if (typeof rowHeight === 'number') {\n      return rowHeight;\n    }\n\n    // we'll just measure 100 rows to estimate\n    return rows.slice(0, 100).reduce((avg, row, _, { length }) => avg + rowHeight(row) / length, 0);\n  }, [rows, rowHeight, enabled]);\n\n  // using dimensions of the panel, calculate pagination parameters\n  const { numPages, rowsPerPage, pageRangeStart, pageRangeEnd, smallPagination } = useMemo((): {\n    numPages: number;\n    rowsPerPage: number;\n    pageRangeStart: number;\n    pageRangeEnd: number;\n    smallPagination: boolean;\n  } => {\n    if (!enabled) {\n      return { numPages: 0, rowsPerPage: 0, pageRangeStart: 1, pageRangeEnd: numRows, smallPagination: false };\n    }\n\n    // calculate number of rowsPerPage based on height stack\n    const rowAreaHeight = height - headerHeight - footerHeight - PAGINATION_HEIGHT;\n    const heightPerRow = Math.floor(rowAreaHeight / (avgRowHeight || 1));\n    // ensure at least one row per page is displayed\n    let rowsPerPage = heightPerRow > 1 ? heightPerRow : 1;\n\n    // calculate row range for pagination summary display\n    const pageRangeStart = page * rowsPerPage + 1;\n    let pageRangeEnd = pageRangeStart + rowsPerPage - 1;\n    if (pageRangeEnd > numRows) {\n      pageRangeEnd = numRows;\n    }\n    const smallPagination = width < TABLE.PAGINATION_LIMIT;\n    const numPages = Math.ceil(numRows / rowsPerPage);\n    return {\n      numPages,\n      rowsPerPage,\n      pageRangeStart,\n      pageRangeEnd,\n      smallPagination,\n    };\n  }, [width, height, headerHeight, footerHeight, avgRowHeight, enabled, numRows, page]);\n\n  // safeguard against page overflow on panel resize or other factors\n  useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n\n    if (page > numPages) {\n      // resets pagination to end\n      setPage(numPages - 1);\n    }\n  }, [numPages, enabled, page, setPage]);\n\n  // apply pagination to the sorted rows\n  const paginatedRows = useMemo(() => {\n    if (!enabled) {\n      return rows;\n    }\n    const pageOffset = page * rowsPerPage;\n    return rows.slice(pageOffset, pageOffset + rowsPerPage);\n  }, [page, rowsPerPage, rows, enabled]);\n\n  return {\n    rows: paginatedRows,\n    page: enabled ? page : -1,\n    setPage,\n    numPages,\n    rowsPerPage,\n    pageRangeStart,\n    pageRangeEnd,\n    smallPagination,\n  };\n}\n\nexport interface FooterCalcsOptions {\n  enabled?: boolean;\n  isCountRowsSet?: boolean;\n  footerOptions?: TableFooterCalc;\n}\n\nexport function useFooterCalcs(\n  rows: TableRow[],\n  fields: Field[],\n  { enabled, footerOptions, isCountRowsSet }: FooterCalcsOptions\n): string[] {\n  return useMemo(() => {\n    const footerReducers = footerOptions?.reducer;\n\n    if (!enabled || !footerOptions || !Array.isArray(footerReducers) || !footerReducers.length) {\n      return [];\n    }\n\n    return fields.map((field, index) => {\n      if (field.state?.calcs) {\n        delete field.state?.calcs;\n      }\n\n      if (isCountRowsSet) {\n        return index === 0 ? `${rows.length}` : '';\n      }\n\n      if (index === 0) {\n        const footerCalcReducer = footerReducers[0];\n        return footerCalcReducer ? fieldReducers.get(footerCalcReducer).name : '';\n      }\n\n      if (field.type !== FieldType.number) {\n        return '';\n      }\n\n      // if field.display is undefined, don't throw\n      const displayFn = field.display;\n      if (!displayFn) {\n        return '';\n      }\n\n      // If fields array is specified, only show footer for fields included in that array\n      if (footerOptions.fields?.length && !footerOptions.fields?.includes(getDisplayName(field))) {\n        return '';\n      }\n\n      const calc = footerReducers[0];\n      const value = reduceField({\n        field: {\n          ...field,\n          values: rows.map((row) => row[getDisplayName(field)]),\n        },\n        reducers: footerReducers,\n      })[calc];\n\n      return formattedValueToString(displayFn(value));\n    });\n  }, [fields, enabled, footerOptions, isCountRowsSet, rows]);\n}\n\ninterface TypographyCtx {\n  ctx: CanvasRenderingContext2D;\n  font: string;\n  avgCharWidth: number;\n  calcRowHeight: (text: string, cellWidth: number, defaultHeight: number) => number;\n}\n\nexport function useTypographyCtx(): TypographyCtx {\n  const theme = useTheme2();\n  const typographyCtx = useMemo((): TypographyCtx => {\n    const font = `${theme.typography.fontSize}px ${theme.typography.fontFamily}`;\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d')!;\n    // set in grafana/data in createTypography.ts\n    const letterSpacing = 0.15;\n\n    ctx.letterSpacing = `${letterSpacing}px`;\n    ctx.font = font;\n    const txt =\n      \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s\";\n    const txtWidth = ctx.measureText(txt).width;\n    const avgCharWidth = txtWidth / txt.length + letterSpacing;\n    const { count } = varPreLine(ctx);\n\n    const calcRowHeight = (text: string, cellWidth: number, defaultHeight: number) => {\n      if (text === '') {\n        return defaultHeight;\n      }\n      const numLines = count(text, cellWidth);\n      const totalHeight = numLines * TABLE.LINE_HEIGHT + 2 * TABLE.CELL_PADDING;\n      return Math.max(totalHeight, defaultHeight);\n    };\n\n    return {\n      calcRowHeight,\n      ctx,\n      font,\n      avgCharWidth,\n    };\n  }, [theme.typography.fontSize, theme.typography.fontFamily]);\n  return typographyCtx;\n}\n\nconst ICON_WIDTH = 16;\nconst ICON_GAP = 4;\n\ninterface UseHeaderHeightOptions {\n  enabled: boolean;\n  fields: Field[];\n  columnWidths: number[];\n  defaultHeight: number;\n  sortColumns: SortColumn[];\n  typographyCtx: TypographyCtx;\n  showTypeIcons?: boolean;\n}\n\nexport function useHeaderHeight({\n  fields,\n  enabled,\n  columnWidths,\n  defaultHeight,\n  sortColumns,\n  typographyCtx: { calcRowHeight, avgCharWidth },\n  showTypeIcons = false,\n}: UseHeaderHeightOptions): number {\n  const perIconSpace = ICON_WIDTH + ICON_GAP;\n  const columnAvailableWidths = useMemo(\n    () =>\n      columnWidths.map((c, idx) => {\n        let width = c - 2 * TABLE.CELL_PADDING - TABLE.BORDER_RIGHT;\n        // filtering icon\n        if (fields[idx]?.config?.custom?.filterable) {\n          width -= perIconSpace;\n        }\n        // sorting icon\n        if (sortColumns.some((col) => col.columnKey === getDisplayName(fields[idx]))) {\n          width -= perIconSpace;\n        }\n        // type icon\n        if (showTypeIcons) {\n          width -= perIconSpace;\n        }\n        return Math.floor(width);\n      }),\n    [fields, columnWidths, sortColumns, showTypeIcons, perIconSpace]\n  );\n\n  const [wrappedColHeaderIdxs, hasWrappedColHeaders] = useMemo(() => {\n    let hasWrappedColHeaders = false;\n    return [\n      fields.map((field) => {\n        const wrapText = field.config?.custom?.wrapHeaderText ?? false;\n        if (wrapText) {\n          hasWrappedColHeaders = true;\n        }\n        return wrapText;\n      }),\n      hasWrappedColHeaders,\n    ];\n  }, [fields]);\n\n  const maxWrapCellOptions = useMemo<GetMaxWrapCellOptions>(\n    () => ({\n      colWidths: columnAvailableWidths,\n      avgCharWidth,\n      wrappedColIdxs: wrappedColHeaderIdxs,\n    }),\n    [columnAvailableWidths, avgCharWidth, wrappedColHeaderIdxs]\n  );\n\n  // TODO: is there a less clunky way to subtract the top padding value?\n  const headerHeight = useMemo(() => {\n    if (!enabled) {\n      return 0;\n    }\n    if (!hasWrappedColHeaders) {\n      return defaultHeight - TABLE.CELL_PADDING;\n    }\n\n    const { text: maxLinesText, idx: maxLinesIdx } = getMaxWrapCell(fields, -1, maxWrapCellOptions);\n    return calcRowHeight(maxLinesText, columnAvailableWidths[maxLinesIdx], defaultHeight) - TABLE.CELL_PADDING;\n  }, [fields, enabled, hasWrappedColHeaders, maxWrapCellOptions, calcRowHeight, columnAvailableWidths, defaultHeight]);\n\n  return headerHeight;\n}\n\ninterface UseRowHeightOptions {\n  columnWidths: number[];\n  fields: Field[];\n  hasNestedFrames: boolean;\n  defaultHeight: number;\n  headerHeight: number;\n  expandedRows: Record<string, boolean>;\n  typographyCtx: TypographyCtx;\n}\n\nexport function useRowHeight({\n  columnWidths,\n  fields,\n  hasNestedFrames,\n  defaultHeight,\n  headerHeight,\n  expandedRows,\n  typographyCtx: { calcRowHeight, avgCharWidth },\n}: UseRowHeightOptions): number | ((row: TableRow) => number) {\n  const [wrappedColIdxs, hasWrappedCols] = useMemo(() => {\n    let hasWrappedCols = false;\n    return [\n      fields.map((field) => {\n        if (field.type !== FieldType.string) {\n          return false;\n        }\n\n        const cellOptions = getCellOptions(field);\n        const wrapText = 'wrapText' in cellOptions && cellOptions.wrapText;\n        const type = cellOptions.type;\n        const result = !!wrapText && type !== TableCellDisplayMode.Image;\n        if (result === true) {\n          hasWrappedCols = true;\n        }\n        return result;\n      }),\n      hasWrappedCols,\n    ];\n  }, [fields]);\n\n  const colWidths = useMemo(\n    () => columnWidths.map((c) => c - 2 * TABLE.CELL_PADDING - TABLE.BORDER_RIGHT),\n    [columnWidths]\n  );\n\n  const maxWrapCellOptions = useMemo<GetMaxWrapCellOptions>(\n    () => ({\n      colWidths,\n      avgCharWidth,\n      wrappedColIdxs,\n    }),\n    [colWidths, avgCharWidth, wrappedColIdxs]\n  );\n\n  const rowHeight = useMemo(() => {\n    // row height is only complicated when there are nested frames or wrapped columns.\n    if (!hasNestedFrames && !hasWrappedCols) {\n      return defaultHeight;\n    }\n\n    return (row: TableRow) => {\n      // nested rows\n      if (Number(row.__depth) > 0) {\n        // if unexpanded, height === 0\n        if (!expandedRows[row.__index]) {\n          return 0;\n        }\n\n        // Ensure we have a minimum height (defaultHeight) for the nested table even if data is empty\n        const rowCount = row.data?.length ?? 0;\n        return Math.max(defaultHeight, defaultHeight * rowCount + headerHeight);\n      }\n\n      // regular rows\n      const { text: maxLinesText, idx: maxLinesIdx } = getMaxWrapCell(fields, row.__index, maxWrapCellOptions);\n      return calcRowHeight(maxLinesText, colWidths[maxLinesIdx], defaultHeight);\n    };\n  }, [\n    calcRowHeight,\n    defaultHeight,\n    expandedRows,\n    fields,\n    hasNestedFrames,\n    hasWrappedCols,\n    headerHeight,\n    maxWrapCellOptions,\n    colWidths,\n  ]);\n\n  return rowHeight;\n}\n\n/**\n * react-data-grid is a little unwieldy when it comes to column resize events.\n * we want to detect a few different column resize signals:\n *   - dragging the handle (only want to dispatch when handle is released)\n *   - double-clicking the handle (sets the column to the minimum width to fit content)\n * `onColumnResize` dispatches events throughout a dragged resize, and `onColumnWidthsChanged` doesn't\n * emit an event when double-click resizing occurs, so we have to build something custom on top of these\n * behaviors in order to get everything working.\n */\ninterface UseColumnResizeState {\n  columnKey: string | undefined;\n  width: number;\n}\n\nconst INITIAL_COL_RESIZE_STATE = Object.freeze({ columnKey: undefined, width: 0 }) satisfies UseColumnResizeState;\n\nexport function useColumnResize(\n  onColumnResize: TableColumnResizeActionCallback = () => {}\n): DataGridProps<TableRow, TableSummaryRow>['onColumnResize'] {\n  // these must be refs. if we used setState, we would run into race conditions with these event listeners\n  const colResizeState = useRef<UseColumnResizeState>({ ...INITIAL_COL_RESIZE_STATE });\n  const pointerIsDown = useRef(false);\n\n  // to detect whether we got a double-click resize, we track whether the pointer is currently down\n  useLayoutEffect(() => {\n    function pointerDown(_event: PointerEvent) {\n      pointerIsDown.current = true;\n    }\n\n    function pointerUp(_event: PointerEvent) {\n      pointerIsDown.current = false;\n    }\n\n    window.addEventListener('pointerdown', pointerDown);\n    window.addEventListener('pointerup', pointerUp);\n\n    return () => {\n      window.removeEventListener('pointerdown', pointerDown);\n      window.removeEventListener('pointerup', pointerUp);\n    };\n  });\n\n  const dispatchEvent = useCallback(() => {\n    if (colResizeState.current.columnKey) {\n      onColumnResize(colResizeState.current.columnKey, Math.floor(colResizeState.current.width));\n      colResizeState.current = { ...INITIAL_COL_RESIZE_STATE };\n    }\n    window.removeEventListener('click', dispatchEvent, { capture: true });\n  }, [onColumnResize]);\n\n  // this is the callback that gets passed to react-data-grid\n  const dataGridResizeHandler = useCallback(\n    (column: Column<TableRow, TableSummaryRow>, width: number) => {\n      if (!colResizeState.current.columnKey) {\n        window.addEventListener('click', dispatchEvent, { capture: true });\n      }\n\n      colResizeState.current.columnKey = column.key;\n      colResizeState.current.width = width;\n\n      // when double clicking to resize, this handler will fire, but the pointer will not be down,\n      // meaning that we should immediately flush the new width\n      if (!pointerIsDown.current) {\n        dispatchEvent();\n      }\n    },\n    [dispatchEvent]\n  );\n\n  return dataGridResizeHandler;\n}\n\nexport function useSingleLink(field: Field, rowIdx: number): LinkModel | undefined {\n  const linksCount = field.config.links?.length ?? 0;\n  const actionsCount = field.config.actions?.length ?? 0;\n  const shouldShowLink = linksCount === 1 && actionsCount === 0;\n  return useMemo(() => (shouldShowLink ? (getCellLinks(field, rowIdx) ?? []) : [])[0], [field, shouldShowLink, rowIdx]);\n}\n","import { css } from '@emotion/css';\nimport { Property } from 'csstype';\n\nimport { GrafanaTheme2, formattedValueToString } from '@grafana/data';\n\nimport { useStyles2 } from '../../../../themes/ThemeContext';\nimport { renderSingleLink } from '../../DataLinksActionsTooltip';\nimport { TableCellOptions, TableCellDisplayMode } from '../../types';\nimport { useSingleLink } from '../hooks';\nimport { AutoCellProps } from '../types';\n\nexport default function AutoCell({ value, field, justifyContent, rowIdx, cellOptions }: AutoCellProps) {\n  const styles = useStyles2(getStyles, justifyContent);\n\n  const displayValue = field.display!(value);\n  const formattedValue = formattedValueToString(displayValue);\n  const link = useSingleLink(field, rowIdx);\n\n  return (\n    <div className={styles.cell}>\n      {link == null ? formattedValue : renderSingleLink(link, formattedValue, getLinkStyle(styles, cellOptions))}\n    </div>\n  );\n}\n\nconst getLinkStyle = (styles: ReturnType<typeof getStyles>, cellOptions: TableCellOptions) => {\n  if (cellOptions.type === TableCellDisplayMode.Auto) {\n    return styles.linkCell;\n  }\n\n  return styles.cellLinkForColoredCell;\n};\n\nconst getStyles = (theme: GrafanaTheme2, justifyContent: Property.JustifyContent | undefined) => ({\n  cell: css({\n    display: 'flex',\n    justifyContent: justifyContent,\n    a: {\n      color: 'inherit',\n    },\n  }),\n  cellLinkForColoredCell: css({\n    cursor: 'pointer',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    userSelect: 'text',\n    whiteSpace: 'nowrap',\n    fontWeight: theme.typography.fontWeightMedium,\n    textDecoration: 'underline',\n  }),\n  linkCell: css({\n    cursor: 'pointer',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    userSelect: 'text',\n    whiteSpace: 'nowrap',\n    color: `${theme.colors.text.link} !important`,\n    fontWeight: theme.typography.fontWeightMedium,\n    paddingRight: theme.spacing(1.5),\n    '&:hover': {\n      textDecoration: 'underline',\n      color: theme.colors.text.link,\n    },\n  }),\n});\n","import { ThresholdsConfig, ThresholdsMode, VizOrientation, getFieldConfigWithMinMax } from '@grafana/data';\nimport { BarGaugeDisplayMode, BarGaugeValueMode, TableCellDisplayMode } from '@grafana/schema';\n\nimport { BarGauge } from '../../../BarGauge/BarGauge';\nimport { renderSingleLink } from '../../DataLinksActionsTooltip';\nimport { useSingleLink } from '../hooks';\nimport { BarGaugeCellProps } from '../types';\nimport { extractPixelValue, getCellOptions, getAlignmentFactor } from '../utils';\n\nconst defaultScale: ThresholdsConfig = {\n  mode: ThresholdsMode.Absolute,\n  steps: [\n    {\n      color: 'blue',\n      value: -Infinity,\n    },\n    {\n      color: 'green',\n      value: 20,\n    },\n  ],\n};\n\nexport const BarGaugeCell = ({ value, field, theme, height, width, rowIdx }: BarGaugeCellProps) => {\n  const displayValue = field.display!(value);\n  const cellOptions = getCellOptions(field);\n  const heightOffset = extractPixelValue(theme.spacing(1));\n\n  let config = getFieldConfigWithMinMax(field, false);\n  if (!config.thresholds) {\n    config = {\n      ...config,\n      thresholds: defaultScale,\n    };\n  }\n\n  // Set default display mode and update if defined\n  // and update the valueMode if defined\n  let barGaugeMode: BarGaugeDisplayMode = BarGaugeDisplayMode.Gradient;\n  let valueDisplayMode: BarGaugeValueMode | undefined = undefined;\n\n  if (cellOptions.type === TableCellDisplayMode.Gauge) {\n    barGaugeMode = cellOptions.mode ?? BarGaugeDisplayMode.Gradient;\n    valueDisplayMode =\n      cellOptions.valueDisplayMode !== undefined ? cellOptions.valueDisplayMode : BarGaugeValueMode.Text;\n  }\n\n  const alignmentFactors = getAlignmentFactor(field, displayValue, rowIdx!);\n\n  const barGaugeComponent = (\n    <BarGauge\n      width={width}\n      height={height - heightOffset}\n      field={config}\n      display={field.display}\n      text={{ valueSize: 14 }}\n      value={displayValue}\n      orientation={VizOrientation.Horizontal}\n      theme={theme}\n      alignmentFactors={alignmentFactors}\n      itemSpacing={1}\n      lcdCellWidth={8}\n      displayMode={barGaugeMode}\n      valueDisplayMode={valueDisplayMode}\n    />\n  );\n\n  const link = useSingleLink(field, rowIdx);\n\n  return link == null ? barGaugeComponent : renderSingleLink(link, barGaugeComponent);\n};\n","import { css } from '@emotion/css';\n\nimport { GrafanaTheme2 } from '@grafana/data';\n\nimport { useStyles2 } from '../../../../themes/ThemeContext';\nimport { DataLinksCellProps } from '../types';\nimport { getCellLinks } from '../utils';\n\nexport const DataLinksCell = ({ field, rowIdx }: DataLinksCellProps) => {\n  const styles = useStyles2(getStyles);\n\n  const links = getCellLinks(field, rowIdx!);\n\n  return (\n    <div>\n      {links &&\n        links.map((link, idx) => {\n          return !link.href && link.onClick == null ? (\n            <span key={idx} className={styles.cellLinkEmpty}>\n              {link.title}\n            </span>\n          ) : (\n            // eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions\n            <span key={idx} className={styles.linkCell} onClick={link.onClick}>\n              <a href={link.href} target={link.target}>\n                {link.title}\n              </a>\n            </span>\n          );\n        })}\n    </div>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  linkCell: css({\n    cursor: 'pointer',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    userSelect: 'text',\n    whiteSpace: 'nowrap',\n    color: theme.colors.text.link,\n    fontWeight: theme.typography.fontWeightMedium,\n    paddingRight: theme.spacing(1.5),\n    a: {\n      color: theme.colors.text.link,\n    },\n    '&:hover': {\n      textDecoration: 'underline',\n      color: theme.colors.text.link,\n    },\n  }),\n  cellLinkEmpty: css({\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    userSelect: 'text',\n    whiteSpace: 'nowrap',\n    fontWeight: theme.typography.fontWeightMedium,\n    paddingRight: theme.spacing(1.5),\n  }),\n});\n","import { css } from '@emotion/css';\nimport WKT from 'ol/format/WKT';\nimport { Geometry } from 'ol/geom';\n\nimport { useStyles2 } from '../../../../themes/ThemeContext';\nimport { GeoCellProps } from '../types';\n\nexport function GeoCell({ value, justifyContent, height }: GeoCellProps) {\n  const styles = useStyles2(getStyles);\n\n  let disp = '';\n\n  if (value instanceof Geometry) {\n    disp = new WKT().writeGeometry(value, {\n      featureProjection: 'EPSG:3857',\n      dataProjection: 'EPSG:4326',\n    });\n  } else if (value != null) {\n    disp = `${value}`;\n  }\n\n  return (\n    <div className={styles.cell} style={{ justifyContent, height }}>\n      <div className={styles.cellText} style={{ fontFamily: 'monospace' }}>\n        {disp}\n      </div>\n    </div>\n  );\n}\n\nconst getStyles = () => ({\n  cell: css({\n    height: '100%',\n    display: 'flex',\n    alignItems: 'center',\n    padding: '0 8px',\n  }),\n  cellText: css({\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n  }),\n});\n","import { css } from '@emotion/css';\nimport { Property } from 'csstype';\n\nimport { GrafanaTheme2 } from '@grafana/data';\n\nimport { useStyles2 } from '../../../../themes/ThemeContext';\nimport { renderSingleLink } from '../../DataLinksActionsTooltip';\nimport { TableCellDisplayMode } from '../../types';\nimport { useSingleLink } from '../hooks';\nimport { ImageCellProps } from '../types';\n\nconst DATALINKS_HEIGHT_OFFSET = 10;\n\nexport const ImageCell = ({ cellOptions, field, height, justifyContent, value, rowIdx }: ImageCellProps) => {\n  const calculatedHeight = height - DATALINKS_HEIGHT_OFFSET;\n  const styles = useStyles2(getStyles, calculatedHeight, justifyContent);\n\n  const { text } = field.display!(value);\n  const { alt, title } =\n    cellOptions.type === TableCellDisplayMode.Image ? cellOptions : { alt: undefined, title: undefined };\n\n  const img = <img alt={alt} src={text} className={styles.image} title={title} />;\n  const link = useSingleLink(field, rowIdx);\n\n  return <div className={styles.imageContainer}>{link == null ? img : renderSingleLink(link, img)}</div>;\n};\n\nconst getStyles = (theme: GrafanaTheme2, height: number, justifyContent: Property.JustifyContent) => ({\n  image: css({\n    height,\n    width: 'auto',\n  }),\n  imageContainer: css({\n    display: 'flex',\n    justifyContent,\n  }),\n});\n","import { css } from '@emotion/css';\nimport { Property } from 'csstype';\n\nimport { GrafanaTheme2 } from '@grafana/data';\n\nimport { useStyles2 } from '../../../../themes/ThemeContext';\nimport { renderSingleLink } from '../../DataLinksActionsTooltip';\nimport { useSingleLink } from '../hooks';\nimport { JSONCellProps } from '../types';\n\nexport const JSONCell = ({ value, justifyContent, field, rowIdx }: JSONCellProps) => {\n  const styles = useStyles2(getStyles, justifyContent);\n\n  let displayValue = value;\n\n  // Handle string values that might be JSON\n  if (typeof value === 'string') {\n    try {\n      const parsed = JSON.parse(value);\n      displayValue = JSON.stringify(parsed, null, ' ');\n    } catch {\n      displayValue = value; // Keep original if not valid JSON\n    }\n  } else {\n    // For non-string values, stringify them\n    try {\n      displayValue = JSON.stringify(value, null, ' ');\n    } catch (error) {\n      // Handle circular references or other stringify errors\n      displayValue = String(value);\n    }\n  }\n\n  const link = useSingleLink(field, rowIdx);\n\n  return <div className={styles.jsonText}>{link == null ? displayValue : renderSingleLink(link, displayValue)}</div>;\n};\n\nconst getStyles = (theme: GrafanaTheme2, justifyContent: Property.JustifyContent) => ({\n  jsonText: css({\n    display: 'flex',\n    cursor: 'pointer',\n    fontFamily: 'monospace',\n    justifyContent: justifyContent,\n  }),\n});\n","import { css } from '@emotion/css';\nimport { Property } from 'csstype';\nimport { useMemo } from 'react';\n\nimport { GrafanaTheme2, isDataFrame, classicColors, colorManipulator, Field } from '@grafana/data';\nimport { TablePillCellOptions } from '@grafana/schema';\n\nimport { useStyles2 } from '../../../../themes/ThemeContext';\nimport { TableCellRendererProps } from '../types';\n\nconst DEFAULT_PILL_BG_COLOR = '#FF780A';\n\ninterface Pill {\n  value: string;\n  key: string;\n  bgColor: string;\n  color: string;\n}\n\nfunction createPills(pillValues: string[], cellOptions: TableCellRendererProps['cellOptions'], field: Field): Pill[] {\n  return pillValues.map((pill, index) => {\n    const bgColor = getPillColor(pill, cellOptions, field);\n    const textColor = colorManipulator.getContrastRatio('#FFFFFF', bgColor) >= 4.5 ? '#FFFFFF' : '#000000';\n    return {\n      value: pill,\n      key: `${pill}-${index}`,\n      bgColor,\n      color: textColor,\n    };\n  });\n}\n\nexport function PillCell({ value, field, justifyContent, cellOptions }: TableCellRendererProps) {\n  const styles = useStyles2(getStyles, justifyContent);\n\n  const pills: Pill[] = useMemo(() => {\n    const pillValues = inferPills(value);\n    return createPills(pillValues, cellOptions, field);\n  }, [value, cellOptions, field]);\n\n  if (pills.length === 0) {\n    return <div className={styles.cell}>-</div>;\n  }\n\n  return (\n    <div className={styles.cell}>\n      <div className={styles.pillsContainer}>\n        {pills.map((pill) => (\n          <span\n            key={pill.key}\n            className={styles.pill}\n            style={{\n              backgroundColor: pill.bgColor,\n              color: pill.color,\n            }}\n          >\n            {pill.value}\n          </span>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport function inferPills(value: unknown): string[] {\n  if (!value) {\n    return [];\n  }\n\n  // Handle DataFrame - not supported for pills\n  if (isDataFrame(value)) {\n    return [];\n  }\n\n  // Handle different value types\n  const stringValue = String(value);\n\n  // Try to parse as JSON first\n  try {\n    const parsed = JSON.parse(stringValue);\n    if (Array.isArray(parsed)) {\n      // JSON array of strings\n      return parsed\n        .filter((item) => item != null && item !== '')\n        .map(String)\n        .map((text) => text.trim())\n        .filter((item) => item !== '');\n    }\n  } catch {\n    // Not valid JSON, continue with other parsing\n  }\n\n  // Handle CSV string\n  if (stringValue.includes(',')) {\n    return stringValue\n      .split(',')\n      .map((text) => text.trim())\n      .filter((item) => item !== '');\n  }\n\n  // Single value - strip quotes\n  return [stringValue.replace(/[\"'`]/g, '').trim()];\n}\n\nfunction isPillCellOptions(cellOptions: TableCellRendererProps['cellOptions']): cellOptions is TablePillCellOptions {\n  return cellOptions?.type === 'pill';\n}\n\nfunction getPillColor(pill: string, cellOptions: TableCellRendererProps['cellOptions'], field: Field): string {\n  if (!isPillCellOptions(cellOptions)) {\n    return getDeterministicColor(pill);\n  }\n\n  const colorMode = cellOptions.colorMode || 'auto';\n\n  // Fixed color mode (highest priority)\n  if (colorMode === 'fixed' && cellOptions.color) {\n    return cellOptions.color;\n  }\n\n  // Mapped color mode - use field's value mappings\n  if (colorMode === 'mapped') {\n    // Check if field has value mappings\n    if (field.config.mappings && field.config.mappings.length > 0) {\n      // Use the field's display processor to get the mapped value\n      const displayValue = field.display!(pill);\n      if (displayValue.color) {\n        return displayValue.color;\n      }\n    }\n    // Fallback to default color for unmapped values\n    return cellOptions.color || DEFAULT_PILL_BG_COLOR;\n  }\n\n  // Auto mode - deterministic color assignment based on string hash\n  if (colorMode === 'auto') {\n    return getDeterministicColor(pill);\n  }\n\n  // Default color for unknown values or fallback\n  return DEFAULT_PILL_BG_COLOR;\n}\n\nfunction getDeterministicColor(text: string): string {\n  // Create a simple hash of the string to get consistent colors\n  let hash = 0;\n  for (let i = 0; i < text.length; i++) {\n    const char = text.charCodeAt(i);\n    hash = (hash << 5) - hash + char;\n    hash = hash & hash; // Convert to 32-bit integer\n  }\n\n  // Use absolute value and modulo to get a consistent index\n  const colorValues = Object.values(classicColors);\n  const index = Math.abs(hash) % colorValues.length;\n\n  return colorValues[index];\n}\n\nconst getStyles = (theme: GrafanaTheme2, justifyContent: Property.JustifyContent | undefined) => ({\n  cell: css({\n    display: 'flex',\n    justifyContent: justifyContent || 'flex-start',\n    alignItems: 'center',\n    height: '100%',\n    padding: theme.spacing(0.5),\n  }),\n  pillsContainer: css({\n    display: 'flex',\n    flexWrap: 'wrap',\n    gap: theme.spacing(0.5),\n    maxWidth: '100%',\n  }),\n  pill: css({\n    display: 'inline-block',\n    padding: theme.spacing(0.25, 0.75),\n    borderRadius: theme.shape.radius.default,\n    fontSize: theme.typography.bodySmall.fontSize,\n    lineHeight: theme.typography.bodySmall.lineHeight,\n    fontWeight: theme.typography.fontWeightMedium,\n    whiteSpace: 'nowrap',\n    textAlign: 'center',\n    minWidth: 'fit-content',\n  }),\n});\n","import { css } from '@emotion/css';\nimport { Property } from 'csstype';\nimport * as React from 'react';\n\nimport {\n  FieldType,\n  FieldConfig,\n  getMinMaxAndDelta,\n  FieldSparkline,\n  isDataFrame,\n  Field,\n  isDataFrameWithValue,\n  GrafanaTheme2,\n} from '@grafana/data';\nimport {\n  BarAlignment,\n  GraphDrawStyle,\n  GraphFieldConfig,\n  GraphGradientMode,\n  LineInterpolation,\n  TableSparklineCellOptions,\n  TableCellDisplayMode,\n  VisibilityMode,\n} from '@grafana/schema';\n\nimport { useStyles2 } from '../../../../themes/ThemeContext';\nimport { measureText } from '../../../../utils/measureText';\nimport { FormattedValueDisplay } from '../../../FormattedValueDisplay/FormattedValueDisplay';\nimport { Sparkline } from '../../../Sparkline/Sparkline';\nimport { SparklineCellProps } from '../types';\nimport { getAlignmentFactor, getCellOptions } from '../utils';\n\nexport const defaultSparklineCellConfig: TableSparklineCellOptions = {\n  type: TableCellDisplayMode.Sparkline,\n  drawStyle: GraphDrawStyle.Line,\n  lineInterpolation: LineInterpolation.Smooth,\n  lineWidth: 1,\n  fillOpacity: 17,\n  gradientMode: GraphGradientMode.Hue,\n  pointSize: 2,\n  barAlignment: BarAlignment.Center,\n  showPoints: VisibilityMode.Never,\n  hideValue: false,\n};\n\nexport const SparklineCell = (props: SparklineCellProps) => {\n  const { field, value, theme, timeRange, rowIdx, justifyContent, width } = props;\n  const styles = useStyles2(getStyles, justifyContent);\n  const sparkline = getSparkline(value);\n\n  if (!sparkline) {\n    return <>{field.config.noValue || 'no data'}</>;\n  }\n\n  // Get the step from the first two values to null-fill the x-axis based on timerange\n  if (sparkline.x && !sparkline.x.config.interval && sparkline.x.values.length > 1) {\n    sparkline.x.config.interval = sparkline.x.values[1] - sparkline.x.values[0];\n  }\n\n  // Remove non-finite values, e.g: NaN, +/-Infinity\n  sparkline.y.values = sparkline.y.values.map((v) => {\n    if (!Number.isFinite(v)) {\n      return null;\n    } else {\n      return v;\n    }\n  });\n\n  const range = getMinMaxAndDelta(sparkline.y);\n  sparkline.y.config.min = range.min;\n  sparkline.y.config.max = range.max;\n  sparkline.y.state = { range };\n  sparkline.timeRange = timeRange;\n\n  const cellOptions = getTableSparklineCellOptions(field);\n\n  const config: FieldConfig<GraphFieldConfig> = {\n    color: field.config.color,\n    custom: {\n      ...defaultSparklineCellConfig,\n      ...cellOptions,\n    },\n  };\n\n  const hideValue = cellOptions.hideValue;\n  let valueWidth = 0;\n  let valueElement: React.ReactNode = null;\n  if (!hideValue) {\n    const newValue = isDataFrameWithValue(value) ? value.value : null;\n    const displayValue = field.display!(newValue);\n    const alignmentFactor = getAlignmentFactor(field, displayValue, rowIdx!);\n\n    valueWidth =\n      measureText(`${alignmentFactor.prefix ?? ''}${alignmentFactor.text}${alignmentFactor.suffix ?? ''}`, 16).width +\n      theme.spacing.gridSize;\n\n    valueElement = (\n      <FormattedValueDisplay\n        style={{\n          width: `${valueWidth - theme.spacing.gridSize}px`,\n          textAlign: 'right',\n          marginRight: theme.spacing(1),\n          marginLeft: theme.spacing(1),\n        }}\n        className={styles.valueContainer}\n        value={displayValue}\n      />\n    );\n  }\n\n  // @TODO update width, height\n  return (\n    <div className={styles.cellContainer}>\n      {valueElement}\n      <Sparkline width={width - valueWidth} height={25} sparkline={sparkline} config={config} theme={theme} />\n    </div>\n  );\n};\n\nfunction getSparkline(value: unknown): FieldSparkline | undefined {\n  if (Array.isArray(value)) {\n    return {\n      y: {\n        name: 'test',\n        type: FieldType.number,\n        values: value,\n        config: {},\n      },\n    };\n  }\n\n  if (isDataFrame(value)) {\n    const timeField = value.fields.find((x) => x.type === FieldType.time);\n    const numberField = value.fields.find((x) => x.type === FieldType.number);\n\n    if (timeField && numberField) {\n      return { x: timeField, y: numberField };\n    }\n  }\n\n  return;\n}\n\nfunction getTableSparklineCellOptions(field: Field): TableSparklineCellOptions {\n  let options = getCellOptions(field);\n  if (options.type === TableCellDisplayMode.Auto) {\n    options = { ...options, type: TableCellDisplayMode.Sparkline };\n  }\n  if (options.type === TableCellDisplayMode.Sparkline) {\n    return options;\n  }\n  throw new Error(`Expected options type ${TableCellDisplayMode.Sparkline} but got ${options.type}`);\n}\n\nconst getStyles = (theme: GrafanaTheme2, justifyContent: Property.JustifyContent | undefined) => ({\n  cellContainer: css({\n    display: 'flex',\n    width: '100%',\n    alignItems: 'center',\n    justifyContent,\n  }),\n  valueContainer: css({\n    div: { width: 'inherit' },\n  }),\n});\n","import { ReactNode } from 'react';\n\nimport { Field, FieldType, isDataFrame, isTimeSeriesFrame } from '@grafana/data';\n\nimport { TableCellDisplayMode, TableCellOptions, TableCustomCellOptions } from '../../types';\nimport { TableCellRendererProps } from '../types';\n\nimport { ActionsCell } from './ActionsCell';\nimport AutoCell from './AutoCell';\nimport { BarGaugeCell } from './BarGaugeCell';\nimport { DataLinksCell } from './DataLinksCell';\nimport { GeoCell } from './GeoCell';\nimport { ImageCell } from './ImageCell';\nimport { JSONCell } from './JSONCell';\nimport { PillCell } from './PillCell';\nimport { SparklineCell } from './SparklineCell';\n\nexport type TableCellRenderer = (props: TableCellRendererProps) => ReactNode;\n\nconst GAUGE_RENDERER: TableCellRenderer = (props) => (\n  <BarGaugeCell\n    field={props.field}\n    value={props.value}\n    theme={props.theme}\n    height={props.height}\n    width={props.width}\n    rowIdx={props.rowIdx}\n  />\n);\n\nconst AUTO_RENDERER: TableCellRenderer = (props) => (\n  <AutoCell\n    value={props.value}\n    field={props.field}\n    justifyContent={props.justifyContent}\n    rowIdx={props.rowIdx}\n    cellOptions={props.cellOptions}\n  />\n);\n\nconst SPARKLINE_RENDERER: TableCellRenderer = (props) => (\n  <SparklineCell\n    value={props.value}\n    field={props.field}\n    justifyContent={props.justifyContent}\n    timeRange={props.timeRange}\n    rowIdx={props.rowIdx}\n    theme={props.theme}\n    width={props.width}\n  />\n);\n\nconst JSON_RENDERER: TableCellRenderer = (props) => (\n  <JSONCell justifyContent={props.justifyContent} value={props.value} field={props.field} rowIdx={props.rowIdx} />\n);\n\nconst GEO_RENDERER: TableCellRenderer = (props) => (\n  <GeoCell value={props.value} justifyContent={props.justifyContent} height={props.height} />\n);\n\nconst IMAGE_RENDERER: TableCellRenderer = (props) => (\n  <ImageCell\n    cellOptions={props.cellOptions}\n    field={props.field}\n    height={props.height}\n    justifyContent={props.justifyContent}\n    value={props.value}\n    rowIdx={props.rowIdx}\n  />\n);\n\nconst DATA_LINKS_RENDERER: TableCellRenderer = (props) => <DataLinksCell field={props.field} rowIdx={props.rowIdx} />;\n\nconst ACTIONS_RENDERER: TableCellRenderer = ({ field, rowIdx, getActions = () => [] }) => (\n  <ActionsCell field={field} rowIdx={rowIdx} getActions={getActions} />\n);\n\nconst PILL_RENDERER: TableCellRenderer = (props) => <PillCell {...props} />;\n\nfunction isCustomCellOptions(options: TableCellOptions): options is TableCustomCellOptions {\n  return options.type === TableCellDisplayMode.Custom;\n}\n\nconst CUSTOM_RENDERER: TableCellRenderer = (props) => {\n  if (!isCustomCellOptions(props.cellOptions) || !props.cellOptions.cellComponent) {\n    return null; // nonsensical case, but better to typeguard it than throw.\n  }\n  const CustomCellComponent = props.cellOptions.cellComponent;\n  return <CustomCellComponent field={props.field} rowIndex={props.rowIdx} frame={props.frame} value={props.value} />;\n};\n\nconst CELL_RENDERERS: Record<TableCellOptions['type'], TableCellRenderer> = {\n  [TableCellDisplayMode.Sparkline]: SPARKLINE_RENDERER,\n  [TableCellDisplayMode.Gauge]: GAUGE_RENDERER,\n  [TableCellDisplayMode.JSONView]: JSON_RENDERER,\n  [TableCellDisplayMode.Image]: IMAGE_RENDERER,\n  [TableCellDisplayMode.DataLinks]: DATA_LINKS_RENDERER,\n  [TableCellDisplayMode.Actions]: ACTIONS_RENDERER,\n  [TableCellDisplayMode.Custom]: CUSTOM_RENDERER,\n  [TableCellDisplayMode.ColorText]: AUTO_RENDERER,\n  [TableCellDisplayMode.ColorBackground]: AUTO_RENDERER,\n  [TableCellDisplayMode.Auto]: AUTO_RENDERER,\n  [TableCellDisplayMode.Pill]: PILL_RENDERER,\n};\n\n/** @internal */\nexport function getCellRenderer(field: Field, cellOptions: TableCellOptions): TableCellRenderer {\n  const cellType = cellOptions?.type ?? TableCellDisplayMode.Auto;\n  if (cellType === TableCellDisplayMode.Auto) {\n    return getAutoRendererResult(field);\n  }\n  return CELL_RENDERERS[cellType];\n}\n\n/** @internal */\nexport function getAutoRendererResult(field: Field): TableCellRenderer {\n  if (field.type === FieldType.geo) {\n    return GEO_RENDERER;\n  }\n  if (field.type === FieldType.frame) {\n    const firstValue = field.values[0];\n    if (isDataFrame(firstValue) && isTimeSeriesFrame(firstValue)) {\n      return SPARKLINE_RENDERER;\n    } else {\n      return JSON_RENDERER;\n    }\n  }\n  if (field.type === FieldType.other) {\n    return JSON_RENDERER;\n  }\n  return AUTO_RENDERER;\n}\n","import 'react-data-grid/lib/styles.css';\nimport { css, cx } from '@emotion/css';\nimport { Property } from 'csstype';\nimport { Key, ReactNode, useCallback, useLayoutEffect, useMemo, useState } from 'react';\nimport {\n  Cell,\n  CellRendererProps,\n  DataGrid,\n  DataGridProps,\n  RenderCellProps,\n  RenderRowProps,\n  Row,\n  SortColumn,\n} from 'react-data-grid';\n\nimport { DataHoverClearEvent, DataHoverEvent, Field, FieldType, GrafanaTheme2, ReducerID } from '@grafana/data';\nimport { t, Trans } from '@grafana/i18n';\nimport { TableCellHeight } from '@grafana/schema';\n\nimport { useStyles2, useTheme2 } from '../../../themes/ThemeContext';\nimport { ContextMenu } from '../../ContextMenu/ContextMenu';\nimport { MenuItem } from '../../Menu/MenuItem';\nimport { Pagination } from '../../Pagination/Pagination';\nimport { PanelContext, usePanelContext } from '../../PanelChrome';\nimport { DataLinksActionsTooltip } from '../DataLinksActionsTooltip';\nimport { TableCellInspector, TableCellInspectorMode } from '../TableCellInspector';\nimport { CellColors, TableCellDisplayMode } from '../types';\nimport { DataLinksActionsTooltipState } from '../utils';\n\nimport { HeaderCell } from './Cells/HeaderCell';\nimport { RowExpander } from './Cells/RowExpander';\nimport { TableCellActions } from './Cells/TableCellActions';\nimport { getCellRenderer } from './Cells/renderers';\nimport { COLUMN, TABLE } from './constants';\nimport {\n  useColumnResize,\n  useFilteredRows,\n  useFooterCalcs,\n  useHeaderHeight,\n  usePaginatedRows,\n  useRowHeight,\n  useSortedRows,\n  useTypographyCtx,\n} from './hooks';\nimport { TableNGProps, TableRow, TableSummaryRow, TableColumn, ContextMenuProps } from './types';\nimport {\n  frameToRecords,\n  getDefaultRowHeight,\n  getDisplayName,\n  getIsNestedTable,\n  getTextAlign,\n  getVisibleFields,\n  shouldTextOverflow,\n  getApplyToRowBgFn,\n  computeColWidths,\n  applySort,\n  getCellColors,\n  getCellOptions,\n  shouldTextWrap,\n  isCellInspectEnabled,\n  getCellLinks,\n  withDataLinksActionsTooltip,\n} from './utils';\n\ntype CellRootRenderer = (key: React.Key, props: CellRendererProps<TableRow, TableSummaryRow>) => React.ReactNode;\n\nexport function TableNG(props: TableNGProps) {\n  const {\n    cellHeight,\n    data,\n    enablePagination = false,\n    enableSharedCrosshair = false,\n    enableVirtualization,\n    footerOptions,\n    getActions = () => [],\n    height,\n    initialSortBy,\n    noHeader,\n    onCellFilterAdded,\n    onColumnResize,\n    onSortByChange,\n    showTypeIcons,\n    structureRev,\n    width,\n  } = props;\n\n  const theme = useTheme2();\n  const styles = useStyles2(getGridStyles, {\n    enablePagination,\n    noHeader,\n  });\n  const panelContext = usePanelContext();\n\n  const getCellActions = useCallback(\n    (field: Field, rowIdx: number) => getActions(data, field, rowIdx),\n    [getActions, data]\n  );\n\n  const hasHeader = !noHeader;\n  const hasFooter = Boolean(footerOptions?.show && footerOptions.reducer?.length);\n  const isCountRowsSet = Boolean(\n    footerOptions?.countRows &&\n      footerOptions.reducer &&\n      footerOptions.reducer.length &&\n      footerOptions.reducer[0] === ReducerID.count\n  );\n\n  const [contextMenuProps, setContextMenuProps] = useState<ContextMenuProps | null>(null);\n  const [isContextMenuOpen, setIsContextMenuOpen] = useState(false);\n\n  const resizeHandler = useColumnResize(onColumnResize);\n\n  useLayoutEffect(() => {\n    if (!isContextMenuOpen) {\n      return;\n    }\n\n    function onClick(_event: MouseEvent) {\n      setIsContextMenuOpen(false);\n    }\n\n    window.addEventListener('click', onClick);\n\n    return () => {\n      window.removeEventListener('click', onClick);\n    };\n  }, [isContextMenuOpen]);\n\n  const rows = useMemo(() => frameToRecords(data), [data]);\n  const hasNestedFrames = useMemo(() => getIsNestedTable(data.fields), [data]);\n\n  const {\n    rows: filteredRows,\n    filter,\n    setFilter,\n    crossFilterOrder,\n    crossFilterRows,\n  } = useFilteredRows(rows, data.fields, { hasNestedFrames });\n\n  const {\n    rows: sortedRows,\n    sortColumns,\n    setSortColumns,\n  } = useSortedRows(filteredRows, data.fields, { hasNestedFrames, initialSortBy });\n\n  const defaultRowHeight = getDefaultRowHeight(theme, cellHeight);\n  const defaultHeaderHeight = getDefaultRowHeight(theme, TableCellHeight.Sm);\n  const [isInspecting, setIsInspecting] = useState(false);\n  const [expandedRows, setExpandedRows] = useState<Record<string, boolean>>({});\n\n  // vt scrollbar accounting for column auto-sizing\n  const visibleFields = useMemo(() => getVisibleFields(data.fields), [data.fields]);\n  const availableWidth = useMemo(\n    () => (hasNestedFrames ? width - COLUMN.EXPANDER_WIDTH : width),\n    [width, hasNestedFrames]\n  );\n  const typographyCtx = useTypographyCtx();\n  const widths = useMemo(() => computeColWidths(visibleFields, availableWidth), [visibleFields, availableWidth]);\n  const headerHeight = useHeaderHeight({\n    columnWidths: widths,\n    fields: visibleFields,\n    enabled: hasHeader,\n    defaultHeight: defaultHeaderHeight,\n    sortColumns,\n    showTypeIcons: showTypeIcons ?? false,\n    typographyCtx,\n  });\n  const rowHeight = useRowHeight({\n    columnWidths: widths,\n    fields: visibleFields,\n    hasNestedFrames,\n    defaultHeight: defaultRowHeight,\n    headerHeight,\n    expandedRows,\n    typographyCtx,\n  });\n\n  const {\n    rows: paginatedRows,\n    page,\n    setPage,\n    numPages,\n    pageRangeStart,\n    pageRangeEnd,\n    smallPagination,\n  } = usePaginatedRows(sortedRows, {\n    enabled: enablePagination,\n    width: availableWidth,\n    height,\n    headerHeight,\n    footerHeight: hasFooter ? defaultRowHeight : 0,\n    rowHeight,\n  });\n\n  // Create a map of column key to text wrap\n  const footerCalcs = useFooterCalcs(sortedRows, data.fields, { enabled: hasFooter, footerOptions, isCountRowsSet });\n  const applyToRowBgFn = useMemo(() => getApplyToRowBgFn(data.fields, theme) ?? undefined, [data.fields, theme]);\n\n  const renderRow = useMemo(\n    () => renderRowFactory(data.fields, panelContext, expandedRows, enableSharedCrosshair),\n    [data, enableSharedCrosshair, expandedRows, panelContext]\n  );\n\n  const commonDataGridProps = useMemo(\n    () =>\n      ({\n        enableVirtualization,\n        defaultColumnOptions: {\n          minWidth: 50,\n          resizable: true,\n          sortable: true,\n          // draggable: true,\n        },\n        onCellContextMenu: ({ row, column }, event) => {\n          // in nested tables, it's possible for this event to trigger in a column header\n          // when holding Ctrl for multi-row sort.\n          if (column.key === 'expanded') {\n            return;\n          }\n\n          event.preventGridDefault();\n          // Do not show the default context menu\n          event.preventDefault();\n\n          const cellValue = row[column.key];\n          setContextMenuProps({\n            // rowIdx: rows.indexOf(row),\n            value: String(cellValue ?? ''),\n            top: event.clientY,\n            left: event.clientX,\n          });\n\n          setIsContextMenuOpen(true);\n        },\n        onColumnResize: resizeHandler,\n        onSortColumnsChange: (newSortColumns: SortColumn[]) => {\n          setSortColumns(newSortColumns);\n          onSortByChange?.(\n            newSortColumns.map(({ columnKey, direction }) => ({\n              displayName: columnKey,\n              desc: direction === 'DESC',\n            }))\n          );\n        },\n        sortColumns,\n        rowHeight,\n        headerRowClass: styles.headerRow,\n        headerRowHeight: headerHeight,\n        bottomSummaryRows: hasFooter ? [{}] : undefined,\n      }) satisfies Partial<DataGridProps<TableRow, TableSummaryRow>>,\n    [\n      enableVirtualization,\n      resizeHandler,\n      sortColumns,\n      headerHeight,\n      styles.headerRow,\n      rowHeight,\n      hasFooter,\n      setSortColumns,\n      onSortByChange,\n    ]\n  );\n\n  interface Schema {\n    columns: TableColumn[];\n    cellRootRenderers: Record<string, CellRootRenderer>;\n    colsWithTooltip: Record<string, boolean>;\n  }\n\n  const { columns, cellRootRenderers, colsWithTooltip } = useMemo(() => {\n    const fromFields = (f: Field[], widths: number[]) => {\n      const result: Schema = {\n        columns: [],\n        cellRootRenderers: {},\n        colsWithTooltip: {},\n      };\n\n      let lastRowIdx = -1;\n      let _rowHeight = 0;\n\n      f.forEach((field, i) => {\n        const justifyContent = getTextAlign(field);\n        const footerStyles = getFooterStyles(justifyContent);\n        const displayName = getDisplayName(field);\n        const headerCellClass = getHeaderCellStyles(theme, justifyContent).headerCell;\n        const cellOptions = getCellOptions(field);\n        const renderFieldCell = getCellRenderer(field, cellOptions);\n\n        const cellInspect = isCellInspectEnabled(field);\n        const showFilters = Boolean(field.config.filterable && onCellFilterAdded != null);\n        const showActions = cellInspect || showFilters;\n        const width = widths[i];\n\n        // helps us avoid string cx and emotion per-cell\n        const cellActionClassName = showActions\n          ? cx(\n              'table-cell-actions',\n              styles.cellActions,\n              justifyContent === 'flex-end' ? styles.cellActionsEnd : styles.cellActionsStart\n            )\n          : undefined;\n\n        const cellType = cellOptions.type;\n        const shouldOverflow = shouldTextOverflow(field);\n        const shouldWrap = shouldTextWrap(field);\n        const withTooltip = withDataLinksActionsTooltip(field, cellType);\n\n        result.colsWithTooltip[displayName] = withTooltip;\n\n        // this fires first\n        const renderCellRoot = (key: Key, props: CellRendererProps<TableRow, TableSummaryRow>): ReactNode => {\n          const rowIdx = props.row.__index;\n          const value = props.row[props.column.key];\n\n          // meh, this should be cached by the renderRow() call?\n          if (rowIdx !== lastRowIdx) {\n            _rowHeight = typeof rowHeight === 'function' ? rowHeight(props.row) : rowHeight;\n            lastRowIdx = rowIdx;\n          }\n\n          let colors: CellColors;\n\n          if (applyToRowBgFn != null) {\n            colors = applyToRowBgFn(props.rowIdx);\n          } else if (cellType !== TableCellDisplayMode.Auto) {\n            const displayValue = field.display!(value); // this fires here to get colors, then again to get rendered value?\n            colors = getCellColors(theme, cellOptions, displayValue);\n          } else {\n            colors = {};\n          }\n\n          const cellStyle = getCellStyles(theme, field, _rowHeight, shouldWrap, shouldOverflow, withTooltip, colors);\n\n          return (\n            <Cell\n              key={key}\n              {...props}\n              className={cx(props.className, cellStyle.cell)}\n              style={{ color: colors.textColor ?? 'inherit' }}\n            />\n          );\n        };\n\n        result.cellRootRenderers[displayName] = renderCellRoot;\n\n        // this fires second\n        const renderCellContent = (props: RenderCellProps<TableRow, TableSummaryRow>): JSX.Element => {\n          const rowIdx = props.row.__index;\n          const value = props.row[props.column.key];\n          const frame = data;\n\n          return (\n            <>\n              {renderFieldCell({\n                cellOptions,\n                frame,\n                field,\n                height: _rowHeight,\n                justifyContent,\n                rowIdx,\n                theme,\n                value,\n                width,\n                cellInspect,\n                showFilters,\n                getActions: getCellActions,\n              })}\n              {showActions && (\n                <TableCellActions\n                  field={field}\n                  value={value}\n                  cellOptions={cellOptions}\n                  displayName={displayName}\n                  cellInspect={cellInspect}\n                  showFilters={showFilters}\n                  className={cellActionClassName}\n                  setIsInspecting={setIsInspecting}\n                  setContextMenuProps={setContextMenuProps}\n                  onCellFilterAdded={onCellFilterAdded}\n                />\n              )}\n            </>\n          );\n        };\n\n        const column: TableColumn = {\n          field,\n          key: displayName,\n          name: displayName,\n          width,\n          headerCellClass,\n          renderCell: renderCellContent,\n          renderHeaderCell: ({ column, sortDirection }) => (\n            <HeaderCell\n              column={column}\n              rows={rows}\n              field={field}\n              filter={filter}\n              setFilter={setFilter}\n              crossFilterOrder={crossFilterOrder}\n              crossFilterRows={crossFilterRows}\n              direction={sortDirection}\n              showTypeIcons={showTypeIcons}\n            />\n          ),\n          renderSummaryCell: () => {\n            if (isCountRowsSet && i === 0) {\n              return (\n                <div className={footerStyles.footerCellCountRows}>\n                  <span>\n                    <Trans i18nKey=\"grafana-ui.table.count\">Count</Trans>\n                  </span>\n                  <span>{footerCalcs[i]}</span>\n                </div>\n              );\n            }\n            return <div className={footerStyles.footerCell}>{footerCalcs[i]}</div>;\n          },\n        };\n\n        result.columns.push(column);\n      });\n\n      return result;\n    };\n\n    const result = fromFields(visibleFields, widths);\n\n    // handle nested frames rendering from here.\n    if (!hasNestedFrames) {\n      return result;\n    }\n\n    // pre-calculate renderRow and expandedColumns based on the first nested frame's fields.\n    const firstNestedData = rows.find((r) => r.data)?.data;\n    if (!firstNestedData) {\n      return result;\n    }\n\n    const renderRow = renderRowFactory(firstNestedData.fields, panelContext, expandedRows, enableSharedCrosshair);\n    const { columns: nestedColumns, cellRootRenderers: nestedCellRootRenderers } = fromFields(\n      firstNestedData.fields,\n      computeColWidths(firstNestedData.fields, availableWidth)\n    );\n\n    const renderCellRoot: CellRootRenderer = (key, props) => nestedCellRootRenderers[props.column.key](key, props);\n\n    result.cellRootRenderers.expanded = (key, props) => <Cell key={key} {...props} />;\n\n    // If we have nested frames, we need to add a column for the row expansion\n    result.columns.unshift({\n      key: 'expanded',\n      name: '',\n      field: {\n        name: '',\n        type: FieldType.other,\n        config: {},\n        values: [],\n      },\n      cellClass(row) {\n        if (row.__depth !== 0) {\n          return styles.cellNested;\n        }\n        return;\n      },\n      colSpan(args) {\n        return args.type === 'ROW' && args.row.__depth === 1 ? data.fields.length : 1;\n      },\n      renderCell: ({ row }) => {\n        if (row.__depth === 0) {\n          return (\n            <RowExpander\n              height={defaultRowHeight}\n              isExpanded={expandedRows[row.__index] ?? false}\n              onCellExpand={() => {\n                setExpandedRows({ ...expandedRows, [row.__index]: !expandedRows[row.__index] });\n              }}\n            />\n          );\n        }\n\n        // Type guard to check if data exists as it's optional\n        const nestedData = row.data;\n        if (!nestedData) {\n          return null;\n        }\n\n        const expandedRecords = applySort(frameToRecords(nestedData), nestedData.fields, sortColumns);\n\n        return (\n          <DataGrid<TableRow, TableSummaryRow>\n            {...commonDataGridProps}\n            className={cx(styles.grid, styles.gridNested)}\n            columns={nestedColumns}\n            rows={expandedRecords}\n            renderers={{ renderRow, renderCell: renderCellRoot }}\n          />\n        );\n      },\n      width: COLUMN.EXPANDER_WIDTH,\n      minWidth: COLUMN.EXPANDER_WIDTH,\n    });\n\n    return result;\n  }, [\n    applyToRowBgFn,\n    availableWidth,\n    commonDataGridProps,\n    crossFilterOrder,\n    crossFilterRows,\n    data,\n    defaultRowHeight,\n    enableSharedCrosshair,\n    expandedRows,\n    filter,\n    footerCalcs,\n    hasNestedFrames,\n    isCountRowsSet,\n    onCellFilterAdded,\n    panelContext,\n    rowHeight,\n    rows,\n    setFilter,\n    showTypeIcons,\n    sortColumns,\n    styles,\n    theme,\n    visibleFields,\n    widths,\n    getCellActions,\n  ]);\n\n  // invalidate columns on every structureRev change. this supports width editing in the fieldConfig.\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const structureRevColumns = useMemo(() => columns, [columns, structureRev]);\n\n  // we need to have variables with these exact names for the localization to work properly\n  const itemsRangeStart = pageRangeStart;\n  const displayedEnd = pageRangeEnd;\n  const numRows = sortedRows.length;\n\n  const renderCellRoot: CellRootRenderer = (key, props) => {\n    return cellRootRenderers[props.column.key](key, props);\n  };\n\n  const [tooltipState, setTooltipState] = useState<DataLinksActionsTooltipState>();\n\n  return (\n    <>\n      <DataGrid<TableRow, TableSummaryRow>\n        {...commonDataGridProps}\n        className={styles.grid}\n        columns={structureRevColumns}\n        rows={paginatedRows}\n        onCellClick={({ column, row }, { clientX, clientY, preventGridDefault }) => {\n          // Note: could be column.field; JS says yes, but TS says no!\n          const field = columns[column.idx].field;\n\n          if (colsWithTooltip[getDisplayName(field)]) {\n            const rowIdx = row.__index;\n            setTooltipState({\n              coords: {\n                clientX,\n                clientY,\n              },\n              links: getCellLinks(field, rowIdx),\n              actions: getCellActions(field, rowIdx),\n            });\n\n            preventGridDefault();\n          }\n        }}\n        onCellKeyDown={\n          hasNestedFrames\n            ? (_, event) => {\n                if (event.isDefaultPrevented()) {\n                  // skip parent grid keyboard navigation if nested grid handled it\n                  event.preventGridDefault();\n                }\n              }\n            : null\n        }\n        renderers={{ renderRow, renderCell: renderCellRoot }}\n      />\n\n      {enablePagination && (\n        <div className={styles.paginationContainer}>\n          <Pagination\n            className=\"table-ng-pagination\"\n            currentPage={page + 1}\n            numberOfPages={numPages}\n            showSmallVersion={smallPagination}\n            onNavigate={(toPage) => {\n              setPage(toPage - 1);\n            }}\n          />\n          {!smallPagination && (\n            <div className={styles.paginationSummary}>\n              {/* TODO: once TableRT is deprecated, we can update the localiziation\n                    string with the more consistent variable names */}\n              <Trans i18nKey=\"grafana-ui.table.pagination-summary\">\n                {{ itemsRangeStart }} - {{ displayedEnd }} of {{ numRows }} rows\n              </Trans>\n            </div>\n          )}\n        </div>\n      )}\n\n      {tooltipState && (\n        <DataLinksActionsTooltip\n          links={tooltipState.links ?? []}\n          actions={tooltipState.actions}\n          coords={tooltipState.coords}\n          onTooltipClose={() => setTooltipState(undefined)}\n        />\n      )}\n\n      {isContextMenuOpen && (\n        <ContextMenu\n          x={contextMenuProps?.left || 0}\n          y={contextMenuProps?.top || 0}\n          renderMenuItems={() => (\n            <MenuItem\n              label={t('grafana-ui.table.inspect-menu-label', 'Inspect value')}\n              onClick={() => setIsInspecting(true)}\n              className={styles.menuItem}\n            />\n          )}\n          focusOnOpen={false}\n        />\n      )}\n\n      {isInspecting && (\n        <TableCellInspector\n          mode={contextMenuProps?.mode ?? TableCellInspectorMode.text}\n          value={contextMenuProps?.value}\n          onDismiss={() => {\n            setIsInspecting(false);\n            setContextMenuProps(null);\n          }}\n        />\n      )}\n    </>\n  );\n}\n\n/**\n * this is passed to the top-level `renderRow` prop on DataGrid. applies aria attributes and custom event handlers.\n */\nconst renderRowFactory =\n  (\n    fields: Field[],\n    panelContext: PanelContext,\n    expandedRows: Record<string, boolean>,\n    enableSharedCrosshair: boolean\n  ) =>\n  (key: React.Key, props: RenderRowProps<TableRow, TableSummaryRow>): React.ReactNode => {\n    const { row } = props;\n    const rowIdx = row.__index;\n    const isExpanded = !!expandedRows[rowIdx];\n\n    // Don't render non expanded child rows\n    if (row.__depth === 1 && !isExpanded) {\n      return null;\n    }\n\n    // Add aria-expanded to parent rows that have nested data\n    if (row.data) {\n      return <Row key={key} {...props} aria-expanded={isExpanded} />;\n    }\n\n    const handlers: Partial<typeof props> = {};\n    if (enableSharedCrosshair) {\n      const timeField = fields.find((f) => f.type === FieldType.time);\n      if (timeField) {\n        handlers.onMouseEnter = () => {\n          panelContext.eventBus.publish(\n            new DataHoverEvent({\n              point: {\n                time: timeField?.values[rowIdx],\n              },\n            })\n          );\n        };\n        handlers.onMouseLeave = () => {\n          panelContext.eventBus.publish(new DataHoverClearEvent());\n        };\n      }\n    }\n\n    return <Row key={key} {...props} {...handlers} />;\n  };\n\nconst getGridStyles = (\n  theme: GrafanaTheme2,\n  { enablePagination, noHeader }: { enablePagination?: boolean; noHeader?: boolean }\n) => ({\n  grid: css({\n    '--rdg-background-color': theme.colors.background.primary,\n    '--rdg-header-background-color': theme.colors.background.primary,\n    '--rdg-border-color': theme.isDark ? '#282b30' : '#ebebec',\n    '--rdg-color': theme.colors.text.primary,\n\n    // note: this cannot have any transparency since default cells that\n    // overlay/overflow on hover inherit this background and need to occlude cells below\n    '--rdg-row-hover-background-color': theme.isDark ? '#212428' : '#f4f5f5',\n\n    // TODO: magic 32px number is unfortunate. it would be better to have the content\n    // flow using flexbox rather than hard-coding this size via a calc\n    blockSize: enablePagination ? 'calc(100% - 32px)' : '100%',\n    scrollbarWidth: 'thin',\n    scrollbarColor: theme.isDark ? '#fff5 #fff1' : '#0005 #0001',\n\n    border: 'none',\n\n    '.rdg-summary-row': {\n      '.rdg-cell': {\n        zIndex: theme.zIndex.tooltip - 1,\n        paddingInline: TABLE.CELL_PADDING,\n        paddingBlock: TABLE.CELL_PADDING,\n      },\n    },\n  }),\n  gridNested: css({\n    height: '100%',\n    width: `calc(100% - ${COLUMN.EXPANDER_WIDTH - 1}px)`,\n    overflow: 'visible',\n    marginLeft: COLUMN.EXPANDER_WIDTH - 1,\n  }),\n  cellNested: css({\n    '&[aria-selected=true]': {\n      outline: 'none',\n    },\n  }),\n  cellActions: css({\n    display: 'none',\n    position: 'absolute',\n    top: 0,\n    margin: 'auto',\n    height: '100%',\n    color: theme.colors.text.primary,\n    background: theme.isDark ? 'rgba(0, 0, 0, 0.3)' : 'rgba(255, 255, 255, 0.7)',\n    padding: theme.spacing.x0_5,\n    paddingInlineStart: theme.spacing.x1,\n  }),\n  cellActionsEnd: css({\n    left: 0,\n  }),\n  cellActionsStart: css({\n    right: 0,\n  }),\n  headerRow: css({\n    paddingBlockStart: 0,\n    fontWeight: 'normal',\n    ...(noHeader ? { display: 'none' } : {}),\n    '& .rdg-cell': {\n      height: '100%',\n      alignItems: 'flex-end',\n    },\n  }),\n  paginationContainer: css({\n    alignItems: 'center',\n    display: 'flex',\n    justifyContent: 'center',\n    marginTop: '8px',\n    width: '100%',\n  }),\n  paginationSummary: css({\n    color: theme.colors.text.secondary,\n    fontSize: theme.typography.bodySmall.fontSize,\n    display: 'flex',\n    justifyContent: 'flex-end',\n    padding: theme.spacing(0, 1, 0, 2),\n  }),\n  menuItem: css({\n    maxWidth: '200px',\n  }),\n});\n\nconst getFooterStyles = (justifyContent: Property.JustifyContent) => ({\n  footerCellCountRows: css({\n    display: 'flex',\n    justifyContent: 'space-between',\n  }),\n  footerCell: css({\n    display: 'flex',\n    justifyContent: justifyContent || 'space-between',\n  }),\n});\n\nconst getHeaderCellStyles = (theme: GrafanaTheme2, justifyContent: Property.JustifyContent) => ({\n  headerCell: css({\n    display: 'flex',\n    gap: theme.spacing(0.5),\n    zIndex: theme.zIndex.tooltip - 1,\n    paddingInline: TABLE.CELL_PADDING,\n    paddingBlockEnd: TABLE.CELL_PADDING,\n    justifyContent,\n    '&:last-child': {\n      borderInlineEnd: 'none',\n    },\n  }),\n});\n\nconst getCellStyles = (\n  theme: GrafanaTheme2,\n  field: Field,\n  rowHeight: number,\n  shouldWrap: boolean,\n  shouldOverflow: boolean,\n  hasTooltip: boolean,\n  colors: CellColors\n) => {\n  return {\n    cell: css({\n      textOverflow: 'initial',\n      background: colors.bgColor ?? 'inherit',\n      alignContent: 'center',\n      justifyContent: getTextAlign(field),\n      paddingInline: TABLE.CELL_PADDING,\n      height: '100%',\n      minHeight: rowHeight, // min height interacts with the fit-content property on the overflow container\n      ...(shouldWrap && { whiteSpace: 'pre-line' }),\n      ...(hasTooltip && { cursor: 'pointer' }),\n      '&:last-child': {\n        borderInlineEnd: 'none',\n      },\n      '&:hover': {\n        background: colors.bgHoverColor,\n        '.table-cell-actions': {\n          display: 'flex',\n        },\n        ...(shouldOverflow && {\n          zIndex: theme.zIndex.tooltip - 2,\n          whiteSpace: 'pre-line',\n          height: 'fit-content',\n          minWidth: 'fit-content',\n        }),\n      },\n    }),\n  };\n};\n"],"names":["getColSpan","column","lastFrozenColumnIndex","args","colSpan","stopPropagation","event","scrollIntoView","element","behavior","createCellEvent","defaultPrevented","cellEvent","nonInputKeys","isCtrlKeyHeldDown","vKey","isDefaultCellInput","isUserHandlingPaste","onEditorNavigation","key","target","getLeftRightKey","direction","isRtl","measuringCellClassname","renderMeasuringCells","viewportColumns","idx","minWidth","maxWidth","isSelectedCellEditable","selectedPosition","columns","rows","row$1","isCellEditableUtil","getSelectedCellColSpan","topSummaryRows","bottomSummaryRows","rowIdx","mainHeaderRowIdx","topSummaryRowsCount","getNextSelectedCellPosition","moveUp","moveNext","cellNavigationMode","colSpanColumns","minRowIdx","maxRowIdx","currentIdx","currentRowIdx","nextPosition","isCellWithinBounds","nextIdx","nextRowIdx","columnsCount","setColSpan","moveNext$1","colIdx","getParentRowIdx","parent","setHeaderGroupColAndRowSpan","parentRowIdx","found","nextParentRowIdx","canExitGrid","maxColIdx","shiftKey","cellClassname","cellFrozenClassname","cellDragHandle","cellDragHandleFrozenClassname","cellDragHandleClassname","getRowStyle","getHeaderCellStyle","rowSpan","gridRowEnd","paddingBlockStart","getCellStyle","index","getCellClassname","extraClasses","clsx","min","max","floor","sign","abs","assertIsValidKeyGetter","keyGetter","clampColumnWidth","width","getHeaderCellRowSpan","checkboxClassname","renderCheckbox","onChange","indeterminate","props","handleChange","e","el","groupCellContent","groupCellContentClassname","caret","caretClassname","renderToggleGroup","ToggleGroup","groupKey","isExpanded","tabIndex","toggleGroup","handleKeyDown","d","renderValue","DataGridDefaultRenderersContext","useDefaultRenderers","SelectCellFormatter","value","disabled","ariaLabel","ariaLabelledBy","renderCheckbox$1","RowSelectionContext","RowSelectionChangeContext","useRowSelection","rowSelectionContext","rowSelectionChangeContext","HeaderRowSelectionContext","HeaderRowSelectionChangeContext","useHeaderRowSelection","headerRowSelectionContext","headerRowSelectionChangeContext","SELECT_COLUMN_KEY","HeaderRenderer","isIndeterminate","isRowSelected","onRowSelectionChange","checked","SelectFormatter","isRowSelectionDisabled","isShiftClick","SelectGroupFormatter","SelectColumn","headerSortCellClassname","headerSortNameClassname","renderHeaderCell","sortDirection","priority","SortableHeaderCell","children","renderSortStatus$1","DEFAULT_COLUMN_WIDTH","DEFAULT_COLUMN_MIN_WIDTH","useCalculatedColumns","rawColumns","defaultColumnOptions","getColumnWidth","viewportWidth","scrollLeft","enableVirtualization","defaultWidth","defaultMinWidth","defaultMaxWidth","defaultRenderCell$1","defaultRenderHeaderCell","defaultSortable","defaultResizable","defaultDraggable","headerRowsCount","lastFrozenColumnIndex$1","headerRowsCount$1","columns$1","collectColumns","rawColumns$1","level","rawColumn","calculatedColumnParent","frozen","aKey","frozenA","bKey","frozenB","colSpanColumns$1","updateColumnParent","templateColumns","layoutCssVars","totalFrozenColumnWidth","columnMetrics","columnMetrics$1","left","totalFrozenColumnWidth$1","templateColumns$1","columnMetric","layoutCssVars$1","i","colOverscanStartIdx","colOverscanEndIdx","viewportLeft","viewportRight","lastColIdx","firstUnfrozenColumnIdx","colVisibleStartIdx","colVisibleEndIdx","colOverscanStartIdx$1","colOverscanEndIdx$1","useLayoutEffect$1","useColumnWidths","gridRef","gridWidth","columnWidths","onColumnWidthsChange","onColumnResize","setColumnResizing","columnToAutoResize","setColumnToAutoResize","columnsToMeasureOnResize","setColumnsToMeasureOnResize","prevGridWidth","setPreviousGridWidth","columnsCanFlex","ignorePreviouslyMeasuredColumnsOnGridWidthChange","newTemplateColumns","columnsToMeasure","columnWidth","gridTemplateColumns","updateMeasuredAndResizedWidths","newColumnWidths","hasChanges","measuredWidth","measureColumnWidth","resizingKey","oldWidth","newWidth","handleColumnResize","nextWidth","columnsToRemeasure","previousWidth","selector","useGridDimensions","inlineSize","setInlineSize","blockSize","setBlockSize","horizontalScrollbarHeight","setHorizontalScrollbarHeight","ResizeObserver","clientWidth","clientHeight","offsetWidth","offsetHeight","height","initialHorizontalScrollbarHeight","initialWidth","initialHeight","resizeObserver","entries","size","clientHeight$1","offsetHeight$1","useLatestFunc","fn","ref","callbackFn","useRovingTabIndex","isSelected","isChildFocused","setIsChildFocused","onFocus","elementToFocus","useViewportColumns","rowOverscanStartIdx","rowOverscanEndIdx","startIdx","startIdx$1","updateStartIdx","useViewportRows","rowHeight","scrollTop","totalRowHeight","gridTemplateRows","getRowTop","getRowHeight","findRowIdx","offset","totalRowHeight$1","gridTemplateRows$1","rowPositions","currentRowHeight","position","validateRowIdx","start","end","middle","currentOffset","rowVisibleStartIdx","rowVisibleEndIdx","cellDraggedOverClassname","Cell","isCellSelected","isDraggedOver","className","onMouseDown","onCellMouseDown","onClick","onCellClick","onDoubleClick","onCellDoubleClick","onContextMenu","onCellContextMenu","onRowChange","selectCell","style","childTabIndex","cellClass","isEditable","selectCellWrapper","enableEditor","handleMouseEvent","eventHandler","eventHandled","handleMouseDown","handleClick","handleDoubleClick","handleContextMenu","handleRowChange","newRow","CellComponent","Cell_default","defaultRenderCell","canUsePostTask","cellEditing","EditCell","closeEditor","onKeyDown","navigate","captureEventRef","abortControllerRef","frameRequestRef","commitOnOutsideClick","commitOnOutsideMouseDown","onClose","onWindowCaptureMouseDown","abortController","signal","onWindowMouseDown","cancelTask","commitChanges","shouldFocusCell","onEditorRowChange","row$2","commitChangesAndFocus","GroupedColumnHeaderCell","cellSortableClassname","cellResizableClassname","resizeHandleClassname","cellDraggableClassname","cellDraggingClassname","cellOverClassname","dragImageClassname","HeaderCell","onColumnResizeEnd","onColumnsReorder","sortColumns","onSortColumnsChange","shouldFocusGrid","draggedColumnKey","setDraggedColumnKey","isOver","setIsOver","dragImageRef","isDragging","sortIndex","sort","sortColumn","ariaSort","sortable","resizable","draggable","onSort","ctrlClick","sortDescendingFirst","nextSort","nextSortColumn","nextSortColumns","handleFocus","leftKey","onDragStart","onDragEnd","onDragOver","onDrop","onDragEnter","isEventPertinent","onDragLeave","dragTargetProps","dropTargetProps","content","ResizeHandle","resizingOffsetRef","onPointerDown","currentTarget","pointerId","headerCell","right","onPointerMove","onLostPointerCapture","relatedTarget","rowClassname","rowSelected","rowSelectedClassname","rowSelectedWithFrozenCell","topSummaryRowClassname","bottomSummaryRowClassname","headerRowClassname","HeaderRow","headerRowClass","selectedCellIdx","cells","HeaderRow_default","GroupedColumnHeaderRow","renderedParents","GroupedColumnHeaderRow_default","Row","gridRowStart","draggedOverCellIdx","selectedCellEditor","rowClass","renderCell","selectionValue","RowComponent","Row_default","defaultRenderRow","ScrollToCell","setScrollToCellPosition","removeScrollToCell","observer","arrowClassname","renderSortStatus","renderSortIcon","renderSortPriority","rootClassname","viewportDraggingClassname","focusSinkClassname","focusSinkHeaderAndSummaryClassname","summaryCellClassname","SummaryCell","summaryCellClass","SummaryCell_default","summaryRow","topSummaryRow","summaryRowClassname","SummaryRow","top","bottom","isTop","ariaRowIndex","SummaryRow_default","DataGridBase","rowKeyGetter","onRowsChange","rawRowHeight","rawHeaderRowHeight","rawSummaryRowHeight","columnWidthsRaw","onColumnWidthsChangeRaw","selectedRows","onSelectedRowsChange","onCellKeyDown","onSelectedCellChange","onScroll","onFill","onCellCopy","onCellPaste","rawEnableVirtualization","renderers","rawDirection","rawRole","ariaDescription","ariaDescribedBy","rawAriaRowCount","testId","dataCy","defaultRenderers","role","headerRowHeight","summaryRowHeight","renderRow","noRowsFallback","setScrollTop","setScrollLeft","columnWidthsInternal","setColumnWidthsInternal","isColumnResizing","setDragging","draggedOverRowIdx","setDraggedOverRowIdx","scrollToPosition","setScrollToPosition","setShouldFocusCell","previousRowIdx","setPreviousRowIdx","isColumnWidthsControlled","columnWidths$1","gridHeight","bottomSummaryRowsCount","summaryRowsCount","headerAndTopSummaryRowsCount","groupedColumnHeaderRowsCount","setSelectedPosition","focusSinkRef","isTreeGrid","headerRowsHeight","summaryRowsHeight","isSelectable","rightKey","ariaRowCount","defaultGridComponents","headerSelectionValue","hasSelectedRow","hasUnselectedRow","minColIdx","selectedCellIsWithinSelectionBounds","isCellWithinSelectionBounds","selectedCellIsWithinViewportBounds","isCellWithinViewportBounds","scrollHeight","handleColumnResizeLatest","handleColumnResizeEndLatest","handleColumnResizeEnd","onColumnsReorderLastest","onSortColumnsChangeLatest","onCellMouseDownLatest","onCellClickLatest","onCellDoubleClickLatest","onCellContextMenuLatest","selectHeaderRowLatest","selectHeaderRow","selectRowLatest","selectRow","handleFormatterRowChangeLatest","updateRow","selectCellLatest","selectHeaderCellLatest","selectHeaderCell","focusCell","shouldScroll","cell$1","getCellToScroll","scrollToIdx","scrollToRowIdx","isRowIdxWithinViewportBounds","newSelectedRows","rowKey","step","mode","isCellEvent","isRowEvent","handleCellInput","handleScroll","scrollTop$1","scrollLeft$1","updatedRows","commitEditorChanges","handleCellCopy","handleCellPaste","isCellEditable","updatedRow","handleDragHandlePointerDown","handleDragHandlePointerMove","gridEl","headerAndTopSummaryRowsHeight","overRowIdx","handleDragHandleLostPointerCapture","startRowIndex","endRowIndex","updateRows","handleDragHandleClick","handleDragHandleDoubleClick","startRowIdx","endRowIdx","sourceRow","indexes","isColIdxWithinSelectionBounds","isCellWithinEditBounds","options","samePosition","isSamePosition","getNextPosition","ctrlKey","nextRowY","nextSelectedCellPosition","getDraggedOverCellIdx","getDragHandle","isLastRow","insetInlineStart","style$1","marginEnd","isLastColumn","dragHandleStyle","getCellEditor","closeOnExternalRowChange","shouldFocusCell$1","idx$1","rowIdx$1","getRowViewportColumns","selectedColumn","getViewportRows","rowElements","selectedIdx","selectedRowIdx","viewportRowIdx","isRowOutsideViewport","rowColumns","templateRows","isGroupRowFocused","_","summaryRowIdx","isSummaryRowSelected","DataGrid","p1","p2","GroupCell","id","childRows","groupColumnIndex","isGroupByColumn","toggleGroupWrapper","isLevelMatching","GroupCell_default","groupRowClassname","GroupedRow","groupBy","handleSelectGroup","GroupRow_default","TreeDataGrid","rawRows","rawRowKeyGetter","rawOnCellKeyDown","rawOnCellCopy","rawOnCellPaste","rawSelectedRows","rawOnSelectedRowsChange","rawGroupBy","rowGrouper","expandedGroupIds","onExpandedGroupIdsChange","rawGroupIdGetter","rawRenderRow","toggleGroupLatest","groupIdGetter","defaultGroupIdGetter","groupBy$1","groupedRows","rowsCount","groupRows","rows$1","groupByKey","remainingGroupByKeys","groupRowsCount","groups","childGroups","childRowsCount","isGroupRow","allGroupRows","isGroupRow$1","flattenedRows","expandGroup","parentId","isReadonlyArray","posInSet","keys","groupRow$1","getParentRowAndIndex","parentRow","parentRowAndIndex","groupIndex","selectedRows$1","cr","newRawSelectedRows","handleRowsChange","updatedRawRows","rawIndexes","rawIndex","groupId","newExpandedGroupIds","rowProps","arr","textEditorInternalClassname","textEditorClassname","autoFocusAndSelect","input","textEditor","COLUMN","TABLE","getDefaultRowHeight","theme","cellHeight","bodyFontSize","lineHeight","isCellInspectEnabled","field","shouldTextWrap","getCellOptions","spaceRegex","getMaxWrapCell","fields","colWidths","avgCharWidth","wrappedColIdxs","maxLines","maxLinesIdx","maxLinesText","cellTextRaw","getDisplayName","cellText","charsPerLine","approxLines","shouldTextOverflow","getTextAlign","DEFAULT_CELL_OPTIONS","migrateTableDisplayModeToCellOptions","getAlignmentFactor","displayValue","rowIndex","alignmentFactor","maxIndex","nextDisplayValue","CELL_COLOR_DARKENING_MULTIPLIER","CELL_GRADIENT_DARKENING_MULTIPLIER","CELL_GRADIENT_HUE_ROTATION_DEGREES","getCellColors","cellOptions","darkeningFactor","textColor","bgColor","bgHoverColor","tinycolor","hoverColor","bgColor2","extractPixelValue","spacing","getCellLinks","links","origOnClick","link","applySort","columnTypes","getColumnTypes","hasNestedFrames","getIsNestedTable","compareRows","a","b","result","columnKey","compare","getComparator","processNestedTableRows","parents","frameToRecords","frame","fnBody","fieldIdx","strCompare","numCompare","frameCompare","sortColumnType","TABLE_CELL_GAUGE_DISPLAY_MODES_TO_DISPLAY_MODES","TABLE_CELL_COLOR_BACKGROUND_DISPLAY_MODES_TO_DISPLAY_MODES","displayMode","type","processParents","parentRows","row","processedParents","childRow","getVisibleFields","acc","computeColWidths","availWidth","autoCount","definedWidth","getApplyToRowBgFn","fieldDisplay","withDataLinksActionsTooltip","cellType","calculateUniqueFieldValues","set","fieldValue","getFilteredOptions","filterValues","option","filtered","valuesToOptions","unique","sortOptions","operatorSelectableValues","OPERATORS","FilterPopup","name","filterValue","setFilter","searchFilter","setSearchFilter","operator","setOperator","uniqueValues","filteredOptions","values","setValues","matchCase","setMatchCase","onCancel","onFilter","filteredSet","item","filter","newFilter","onClearFilter","clearFilterVisible","styles","getStyles","ClickOutsideWrapper","Stack","Label","ButtonSelect","FilterInput","Button","s","FilterList","ITEM_HEIGHT","MIN_HEIGHT","REGEX_OPERATOR","XPR_OPERATOR","comparableValue","date","fmt","num","lvalue","caseSensitive","regex","items","xpr","fnc","val","value1","value2","selectedItems","selectCheckValue","selectCheckIndeterminate","selectCheckLabel","selectCheckDescription","gutter","onCheckedChanged","newValues","c","onSelectChanged","ItemRenderer","Checkbox","label","isChecked","Filter","crossFilterOrder","crossFilterRows","iconClassName","filterIndex","filteredRows","previousFilterName","isPopoverVisible","setPopoverVisible","filterEnabled","ev","Icon","Popover","showTypeIcons","headerCellWrap","displayName","filterable","headerTextWrap","RowExpander","onCellExpand","FILTER_FOR_OPERATOR","FILTER_OUT_OPERATOR","TableCellActions","setIsInspecting","setContextMenuProps","onCellFilterAdded","cellInspect","showFilters","IconButton","inspectValue","TableCellInspector","Geometry","WKT","ActionsCell","getActions","actions","action","ActionButton","D","S","N","SYMBS","NUMS","UPPER","CHARS","supportsLetterSpacing","ctx","_w","_letterSpacing","w","varPreLine","fauxLetterSpacing","WIDTHS","wordSpacing","PAIRS","uc","j","ch","wid","eachLine","each","text","cb","fr","to","headIdx","headEnd","headWid","tailIdx","tailWid","inWS","n","limit","out","idx0","idx1","count","getDisplayedValue","useFilteredRows","filterRows","displayedValue","useSortedRows","initialSortBy","initialSortColumns","desc","setSortColumns","PAGINATION_HEIGHT","usePaginatedRows","headerHeight","footerHeight","enabled","page","setPage","numRows","avgRowHeight","avg","length","numPages","rowsPerPage","pageRangeStart","pageRangeEnd","smallPagination","rowAreaHeight","heightPerRow","pageOffset","useFooterCalcs","footerOptions","isCountRowsSet","footerReducers","footerCalcReducer","fieldReducer","displayFn","calc","useTypographyCtx","font","letterSpacing","txt","cellWidth","defaultHeight","totalHeight","ICON_WIDTH","ICON_GAP","useHeaderHeight","calcRowHeight","perIconSpace","columnAvailableWidths","col","wrappedColHeaderIdxs","hasWrappedColHeaders","wrapText","maxWrapCellOptions","useRowHeight","expandedRows","hasWrappedCols","rowCount","INITIAL_COL_RESIZE_STATE","useColumnResize","colResizeState","pointerIsDown","pointerDown","_event","pointerUp","dispatchEvent","useSingleLink","linksCount","actionsCount","shouldShowLink","AutoCell","justifyContent","formattedValue","getLinkStyle","defaultScale","BarGaugeCell","heightOffset","config","barGaugeMode","valueDisplayMode","alignmentFactors","barGaugeComponent","BarGauge","DataLinksCell","GeoCell","disp","DATALINKS_HEIGHT_OFFSET","ImageCell","calculatedHeight","alt","title","img","JSONCell","parsed","DEFAULT_PILL_BG_COLOR","createPills","pillValues","pill","getPillColor","colorManipulator","PillCell","pills","inferPills","stringValue","isPillCellOptions","getDeterministicColor","colorMode","hash","char","colorValues","defaultSparklineCellConfig","SparklineCell","timeRange","sparkline","getSparkline","v","range","getTableSparklineCellOptions","hideValue","valueWidth","valueElement","newValue","measureText","FormattedValueDisplay","Sparkline","timeField","x","numberField","GAUGE_RENDERER","AUTO_RENDERER","SPARKLINE_RENDERER","JSON_RENDERER","GEO_RENDERER","IMAGE_RENDERER","DATA_LINKS_RENDERER","ACTIONS_RENDERER","PILL_RENDERER","isCustomCellOptions","CUSTOM_RENDERER","CustomCellComponent","CELL_RENDERERS","getCellRenderer","getAutoRendererResult","firstValue","TableNG","data","enablePagination","enableSharedCrosshair","noHeader","onSortByChange","structureRev","getGridStyles","panelContext","getCellActions","hasHeader","hasFooter","contextMenuProps","isContextMenuOpen","setIsContextMenuOpen","resizeHandler","sortedRows","defaultRowHeight","defaultHeaderHeight","isInspecting","setExpandedRows","visibleFields","availableWidth","typographyCtx","widths","paginatedRows","footerCalcs","applyToRowBgFn","renderRowFactory","commonDataGridProps","cellValue","newSortColumns","cellRootRenderers","colsWithTooltip","fromFields","f","lastRowIdx","_rowHeight","footerStyles","getFooterStyles","headerCellClass","getHeaderCellStyles","renderFieldCell","showActions","cellActionClassName","shouldOverflow","shouldWrap","withTooltip","renderCellRoot","colors","cellStyle","getCellStyles","firstNestedData","r","nestedColumns","nestedCellRootRenderers","nestedData","expandedRecords","structureRevColumns","itemsRangeStart","displayedEnd","tooltipState","setTooltipState","clientX","clientY","preventGridDefault","Pagination","toPage","DataLinksActionsTooltip","ContextMenu","MenuItem","handlers","hasTooltip"],"sourceRoot":""}