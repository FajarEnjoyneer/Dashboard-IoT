"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[8516],{21155:(L,i,a)=>{a.r(i),a.d(i,{LibraryPanelsPage:()=>e,default:()=>M});var n=a(74848),h=a(96540),_=a(13791),t=a(24438),O=a(94708);const e=()=>{const[d,c]=(0,h.useState)(void 0);return(0,n.jsx)(_.Y,{navId:"dashboards/library-panels",children:(0,n.jsxs)(_.Y.Contents,{children:[(0,n.jsx)(t.j,{onClick:c,showSecondaryActions:!0,showSort:!0,showPanelFilter:!0,showFolderFilter:!0}),d?(0,n.jsx)(O.F,{onDismiss:()=>c(void 0),libraryPanel:d}):null]})})},M=e},94708:(L,i,a)=>{a.d(i,{F:()=>y});var n=a(74848),h=a(76459),_=a.n(h),t=a(96540),O=a(83175),e=a(92745),M=a(36490),d=a(22787),c=a(18857),p=a(45861),D=a(30124);function y({libraryPanel:s,onDismiss:r}){const[E,C]=(0,t.useState)(!1),[l,o]=(0,t.useState)(0),[u,f]=(0,t.useState)(void 0);(0,t.useEffect)(()=>{(async()=>{const x=await(0,D.GN)(s.uid);o(x.length)})()},[s.uid]);const v=(0,t.useCallback)(P=>b(s.uid,P,C),[s.uid]),g=(0,t.useMemo)(()=>_()(v,300,{leading:!0}),[v]),m=P=>{P.preventDefault(),M.Ny.push(O.kM.renderUrl(`/d/${u?.value?.uid}`,{}))};return(0,n.jsxs)(d.a,{title:(0,e.t)("library-panels.modal.title","View panel in dashboard"),onDismiss:r,onClickBackdrop:r,isOpen:!0,children:[(0,n.jsxs)("div",{children:[l===0?(0,n.jsx)("span",{children:(0,n.jsx)(e.x6,{i18nKey:"library-panels.modal.panel-not-linked",children:"Panel is not linked to a dashboard. Add the panel to a dashboard and retry."})}):null,l>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:(0,n.jsxs)(e.x6,{i18nKey:"library-panels.modal.body",count:l,children:["This panel is being used in ",{count:l}," dashboard. Please choose which dashboard to view the panel in:"]})}),(0,n.jsx)(c.DW,{isClearable:!0,isLoading:E,defaultOptions:!0,loadOptions:g,onChange:f,placeholder:(0,e.t)("library-panels.modal.select-placeholder","Start typing to search for dashboard"),noOptionsMessage:(0,e.t)("library-panels.modal.select-no-options-message","No dashboards found")})]}):null]}),(0,n.jsxs)(d.a.ButtonRow,{children:[(0,n.jsx)(p.$n,{variant:"secondary",onClick:r,fill:"outline",children:(0,n.jsx)(e.x6,{i18nKey:"library-panels.modal.button-cancel",children:"Cancel"})}),(0,n.jsx)(p.$n,{onClick:m,disabled:!u,children:u?(0,e.t)("library-panels.modal.button-view-panel1","View panel in {{label}}...",{label:u?.label}):(0,e.t)("library-panels.modal.button-view-panel2","View panel in dashboard...")})]})]})}async function b(s,r,E){E(!0);const l=(await(0,D.xV)(s)).filter(o=>o.title.toLowerCase().includes(r.toLowerCase())).map(o=>({label:o.title,value:o}));return E(!1),l}}}]);

//# sourceMappingURL=LibraryPanelsPage.fe53314d7e40ba3744e9.js.map