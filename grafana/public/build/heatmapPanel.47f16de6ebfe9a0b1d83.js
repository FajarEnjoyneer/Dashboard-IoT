"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[5857],{70210:(Ye,ye,l)=>{l.d(ye,{Bm:()=>ee,J3:()=>J,L:()=>k,hF:()=>ue});var u=l(2543),H=l.n(u),q=l(1906),ne=l(39443),T=l(95004),s=l(16515),se=l(739),r=l(41119),xe=l(11576),I=l(78282);const $=/^[+-]?inf(?:inity)?$/i,oe=(n,o)=>o.app===q.Jk.Explore&&(n.meta?.custom?.resultType==="vector"||n.meta?.custom?.resultType==="scalar")?!0:o.targets.find(x=>x.refId===n.refId)?.format==="table",L=(n,o)=>n.meta?.type===ne.m.HeatmapCells?!1:o.targets.find(x=>x.refId===n.refId)?.format==="heatmap";function J(n,o,v){n.data.forEach(M=>{const F=o.targets.find(P=>P.refId===M.refId);F&&F.legendFormat==="__auto"&&M.fields.forEach(P=>{if(P.labels?.__name__&&P.labels?.__name__===P.name){const re={...P,name:T.Bc};P.config.displayNameFromDS=(0,s.Ct)(re,M,n.data)}})});const[x,D]=(0,u.partition)(n.data,M=>oe(M,o)),G=R(x),[Ve,Me]=(0,u.partition)(D,M=>M.meta?.custom?.resultType==="exemplar"),{exemplarTraceIdDestinations:fe}=v,Ae=Ve.map(M=>{if(fe?.length)for(const F of fe){const P=M.fields.find(re=>re.name===F.name);if(P){const re=A(F);P.config.links=P.config.links?.length?[...P.config.links,...re]:re}}return{...M,meta:{...M.meta,dataTopic:se.QR.Annotations}}}),[Ee,we]=(0,u.partition)(Me,M=>L(M,o));Ee.forEach(M=>{if(M.name==null){let F=M.fields.find(P=>P.type===T.PU.number);if(F){let P=F.labels?.le;P&&(M.name=P,F.config.displayNameFromDS=P)}}});const Pe=(0,u.groupBy)(Ee,M=>M.refId);let ie=[];for(const M in Pe){const F=Pe[M],P=(0,u.groupBy)(F,re=>{const De=re.fields.find(Fe=>Fe.type===T.PU.number);if(De?.labels&&S in De.labels){const{le:Fe,...ze}=De?.labels;return Object.values(ze).join()}return Object.values(De?.labels??[]).join()});(0,u.forOwn)(P,(re,De)=>{const Fe=re.sort(ee);ie.push(O(_(Fe)))})}const Se=we.map(M=>({...M,meta:{...M.meta,preferredVisualisationType:"graph"}})),Le=(0,u.flatten)(ie);return{...n,data:[...Se,...G,...Le,...Ae]}}const S="le";function R(n){if(n.length===0||n.length===1&&n[0].length===0)return n;const o=(0,u.groupBy)(n,"refId"),v=Object.keys(o);return v.map(D=>{const G=K(v.length,D),Ve=me({data:[],valueName:G}),Me=b([]),fe=[];o[D].forEach(ie=>{const Le=ie.fields[1]?.labels??{};Object.keys(Le).sort().forEach(M=>{fe.some(F=>F.name===M)||fe.push({name:M,config:{filterable:!0},type:T.PU.string,values:[]})})});let Ae=-1/0,Ee=!1;o[D].forEach(ie=>{Me.config.interval??=ie.fields[0]?.config.interval;const Se=ie.fields[0]?.values??[],Le=ie.fields[1]?.values??[];Se.forEach(M=>{Me.values.push(M),M<Ae&&(Ee=!0),Ae=M}),Le.forEach(M=>{Ve.values.push(k(M));const F=ie.fields[1].labels??{};fe.forEach(P=>P.values.push(Q(F,P.name)))})});const we=[Me,...fe,Ve],Pe={refId:D,fields:we,meta:{...o[D][0].meta,preferredVisualisationType:"rawPrometheus"},length:Me.values.length};return Ee?(0,r.ES)(Pe,0):Pe})}function K(n,o=""){return n>1?`Value #${o}`:"Value"}function A(n){const o=[];if(n.datasourceUid){const x=(0,I.l)().getInstanceSettings(n.datasourceUid);x&&o.push({title:n.urlDisplayLabel||`Query with ${x?.name}`,url:"",internal:{query:{query:"${__value.raw}",queryType:"traceql"},panelsState:{trace:{spanId:'${__data.fields["span_id"]}'}},datasourceUid:n.datasourceUid,datasourceName:x?.name??"Data source not found"}})}return n.url&&o.push({title:n.urlDisplayLabel||`Go to ${n.url}`,url:n.url,targetBlank:!0}),o}function Q(n,o){return n.hasOwnProperty(o)?n[o]:""}function b(n,o=!1){return{name:T.LE,type:T.PU.time,config:{},values:n.map(v=>o?v[0]:v[0]*1e3)}}function me({data:n,valueName:o=T.Bc,parseValue:v=!0,labels:x,displayNameFromDS:D}){return{name:o,type:T.PU.number,display:(0,xe.J)(),config:{displayNameFromDS:D},labels:x,values:n.map(G=>v?k(G[1]):G[1])}}function ue(n){const o=n.__name__||"";delete n.__name__;const v=Object.entries(n).map(x=>`${x[0]}="${x[1]}"`).join(",");return`${o}{${v}}`}function O(n){if(n.length===0||n.length===1&&n[0].length===0)return[];const o=n[0].fields.find(x=>x.type===T.PU.time),v=n.map(x=>{let D=x.fields.find(G=>G.type===T.PU.number);return{...D,name:D.config.displayNameFromDS}});return[{...n[0],meta:{...n[0].meta,type:ne.m.HeatmapRows},fields:[o,...v]}]}function _(n){for(let o=n.length-1;o>0;o--){const v=n[o].fields.find(D=>D.type===T.PU.number),x=n[o-1].fields.find(D=>D.type===T.PU.number);if(!v||!x)throw new Error("Prometheus heatmap transform error: data should be a time series");for(let D=0;D<v.values.length;D++){const G=x.values[D]||[0];v.values[D]-=G,v.values[D]<1e-9&&(v.values[D]=0)}}return n}function ee(n,o){let v,x;try{v=k(n.fields[1].state?.displayName??n.name??n.fields[1].name),x=k(o.fields[1].state?.displayName??o.name??o.fields[1].name)}catch(D){return console.error(D),0}return v>x?1:v<x?-1:0}function k(n){return $.test(n)?n[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY:parseFloat(n)}},20276:(Ye,ye,l)=>{l.d(ye,{w:()=>s});var u=l(74848),H=l(22803),q=l(96540),ne=l(63142);const T=10,s=({colorPalette:I,min:$,max:oe,display:L,hoverValue:J,useStopsPercentage:S})=>{const[R,K]=(0,q.useState)([]),[A,Q]=(0,q.useState)({isShown:!1,value:0}),[b,me]=(0,q.useState)(null),ue=(0,ne.$j)(),O=xe(ue,R);(0,q.useEffect)(()=>{K(se({colorArray:I,stops:T,useStopsPercentage:S}))},[I,S]);const _=k=>{const n=k.nativeEvent.offsetX,o=k.currentTarget.offsetWidth,v=Math.floor(n*100/o+1),x=Math.floor((oe-$)*v/100+$);Q({isShown:!0,value:x}),me(v)},ee=()=>{Q({isShown:!1,value:0})};return(0,q.useEffect)(()=>{me(J==null?null:r((J-$)/(oe-$)))},[J,$,oe]),(0,u.jsxs)("div",{className:O.scaleWrapper,onMouseMove:_,onMouseLeave:ee,children:[(0,u.jsx)("div",{className:O.scaleGradient,children:L&&(A.isShown||J!==void 0)&&(0,u.jsx)("div",{className:O.followerContainer,children:(0,u.jsx)("div",{className:O.follower,style:{left:`${b}%`}})})}),L&&(0,u.jsxs)("div",{className:O.followerContainer,children:[(0,u.jsxs)("div",{className:O.legendValues,children:[(0,u.jsx)("span",{className:O.disabled,children:L($)}),(0,u.jsx)("span",{className:O.disabled,children:L(oe)})]}),b!=null&&(A.isShown||J!==void 0)&&(0,u.jsx)("span",{className:O.hoverValue,style:{left:`${b}%`},children:L(J??A.value)})]})]})},se=({colorArray:I,stops:$,useStopsPercentage:oe=!0})=>{const L=I.length;if(oe&&L<=20){const K=1/L*100;let A=0;const Q=[];for(const b of I)A>0?Q.push(`${b} ${A}%`):Q.push(b),A+=K,Q.push(`${b} ${A}%`);return Q}const J=I[L-1],S=Math.ceil(L/$),R=new Set;for(let K=0;K<L;K+=S)R.add(I[K]);return R.add(J),[...R]};function r(I){return I>1?100:I<0?0:I*100}const xe=(I,$)=>({scaleWrapper:(0,H.css)({width:"100%",fontSize:"11px",opacity:1}),scaleGradient:(0,H.css)({background:`linear-gradient(90deg, ${$.join()})`,height:"9px",pointerEvents:"none",borderRadius:I.shape.radius.default}),legendValues:(0,H.css)({display:"flex",justifyContent:"space-between",pointerEvents:"none"}),hoverValue:(0,H.css)({position:"absolute",marginTop:"-14px",padding:"3px 15px",transform:"translateX(-50%)"}),followerContainer:(0,H.css)({position:"relative",pointerEvents:"none",whiteSpace:"nowrap"}),follower:(0,H.css)({position:"absolute",height:"13px",width:"13px",borderRadius:I.shape.radius.default,transform:"translateX(-50%) translateY(-50%)",border:`2px solid ${I.colors.text.primary}`,top:"5px"}),disabled:(0,H.css)({color:I.colors.text.disabled})})},13326:(Ye,ye,l)=>{l.d(ye,{e:()=>L});var u=l(74848),H=l(22803),q=l(16515),ne=l(55386),T=l(46635),s=l(92745),se=l(739),r=l(63142),xe=l(89640),I=l(53049),$=l(70362);function oe(S,R,K,A,Q){const b=S.fields,me=K!=null?b[K]:null,ue=b.filter(o=>!o.config.custom?.hideFrom?.tooltip),O=ue.find(o=>o.name==="traceID")||b[0],_=[];if(ue.filter(o=>O===o).length>0&&_.push(O),_.push(...ue.filter(o=>O!==o)),_.length===0)return null;const ee=[],k=[],n=new Set;for(const o of _){if(Q===se.$N.Single&&o!==me)continue;const v=o.values[R],x=o.display?o.display(v):{text:`${v}`,numeric:+v};o.getLinks&&o.getLinks({calculatedValue:x,valueRowIndex:R}).forEach(D=>{const G=`${D.title}/${D.href}`;n.has(G)||(k.push(D),n.add(G))}),ee.push({name:(0,q.Ct)(o,S),value:v,valueString:(0,ne.cN)(x),highlight:o===me})}return A&&A!==se.xB.None&&ee.sort((o,v)=>T.sortValues(A)(o.value,v.value)),{displayValues:ee,links:k}}const L=({data:S,rowIndex:R,columnIndex:K,sortOrder:A,mode:Q,header:b,padding:me=0,maxHeight:ue})=>{const O=(0,r.of)(J,me);if(!S||R==null)return null;const _=oe(S,R,K,A,Q);if(_==null)return null;const{displayValues:ee,links:k}=_;return b==="Exemplar"?(0,u.jsx)($.i,{displayValues:ee,links:k,header:b,maxHeight:ue}):(0,u.jsxs)("div",{className:O.wrapper,children:[b&&(0,u.jsx)("div",{className:O.header,children:(0,u.jsx)("span",{className:O.title,children:b})}),(0,u.jsx)("table",{className:O.infoWrap,children:(0,u.jsxs)("tbody",{children:[ee.map((n,o)=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:n.name}),(0,u.jsx)("td",{children:(0,I.A)(n.valueString)})]},`${o}/${R}`)),k.map((n,o)=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:(0,u.jsx)(s.x6,{i18nKey:"visualization.data-hover-view.link",children:"Link"})}),(0,u.jsx)("td",{colSpan:2,children:(0,u.jsx)(xe.Y,{href:n.href,external:n.target==="_blank",weight:"medium",inline:!1,children:n.title})})]},o))]})})]})},J=(S,R=0)=>({wrapper:(0,H.css)({padding:`${R}px`,background:S.components.tooltip.background,borderRadius:S.shape.borderRadius(2)}),header:(0,H.css)({background:S.colors.background.secondary,alignItems:"center",alignContent:"center",display:"flex",paddingBottom:S.spacing(1)}),title:(0,H.css)({fontWeight:S.typography.fontWeightMedium,overflow:"hidden",display:"inline-block",whiteSpace:"nowrap",textOverflow:"ellipsis",flexGrow:1}),infoWrap:(0,H.css)({padding:S.spacing(1),background:"transparent",border:"none",th:{fontWeight:S.typography.fontWeightMedium,padding:S.spacing(.25,2,.25,0)},tr:{borderBottom:`1px solid ${S.colors.border.weak}`,"&:last-child":{borderBottom:"none"}}}),link:(0,H.css)({color:S.colors.text.link})})},17933:(Ye,ye,l)=>{l.r(ye),l.d(ye,{plugin:()=>Et});var u=l(74848),H=l(16207),q=l(83340),ne=l(95004),T=l(38809),s=l(92745),se=l(43173),r=l(739),xe=l(44017),I=l(45013),$=l(20276),oe=l(13572),L=l(48264),J=l(22803),S=l(96540),R=l(84229),K=l(14477),A=l(63142),Q=l(64400),b=l(54735),me=l(92790),ue=l(18667),O=l(69234),_=l(36327),ee=l(13507),k=l(36613),n=l(39443),o=l(55386),v=l(16515),x=l(55978),D=l(39064),G=l(61048),Ve=l(41530),Me=l(47466),fe=l(22429),Ae=l(13326),Ee=l(16913),we=l(76234);function Pe(e,p,a,c,t,i,h){let m=e.current?.getContext("2d");if(m!=null){let f=i;for(;c[f-1]===c[i];)f--;let E=f+h,d=0,C=f;for(;C<E;){let he=t[C];d=Math.max(d,he),C++}let w=new Path2D,de=new Path2D;C=f;let pe=0;for(;C<E;){let he=t[C];if(he>0){let X=he/d,Be=pe/h,Z=C===i?w:de;const Y=p*Be+1,te=p/h-1;Z.rect(Y,Math.round(a*(1-X)),te,Math.round(a*X))}C++,pe++}m.clearRect(0,0,p,a),m.fillStyle="#2E3036",m.fill(de),m.fillStyle="#5794F2",m.fill(w)}}const ie=(e,p)=>{const a=e.heatmapColors?.palette,c=e.heatmapColors?.values[p];let t;return c!=null&&(t=a[c]),{cellColor:t,colorPalette:a}},Se={year:1e3*60*60*24*365,month:1e3*60*60*24*30,week:1e3*60*60*24*7,day:1e3*60*60*24,h:1e3*60*60,m:1e3*60,s:1e3,ms:1},Le=new Set(["ms","s","m","h"]),M=e=>{let p=1,a="ms";for(a in Se)if(e>=Se[a]){p=Math.floor(e/Se[a]);break}const t=p!==1&&!Le.has(a)?a+"s":a;return`${p} ${t}`},F=(e,p,a)=>{let c;switch(p){case"x":c=a?e?.fields.find(({name:t})=>t==="x"||t==="xMin"||t==="xMax"):e?.fields[0];break;case"y":c=a?e?.fields.find(({name:t})=>t==="y"||t==="yMin"||t==="yMax"):e?.fields[1];break;case"count":c=a?e?.fields.find(({name:t})=>t==="count"):e?.fields[2];break}return c},P=(e,p)=>{let a=e.heatmap.fields,c=a.find(m=>m.name==="xMax"),t=a.find(m=>m.name==="yMin"),i=a.find(m=>m.name==="yMax"),h=c.config.interval;return{xBucketMin:c.values[p]-h,xBucketMax:c.values[p],yBucketMin:t.values[p],yBucketMax:i.values[p]}},re=e=>e.seriesIdx===2?(0,u.jsx)(Ae.e,{data:e.dataRef.current.exemplars,rowIndex:e.dataIdxs[2],header:"Exemplar",padding:8,maxHeight:e.maxHeight}):(0,u.jsx)(ze,{...e}),De=264,Fe=64,ze=({dataIdxs:e,dataRef:p,showHistogram:a,isPinned:c,showColorScale:t=!1,mode:i,annotate:h,maxHeight:m,maxWidth:y,replaceVariables:f})=>{const E=e[1],d=p.current,[C]=(0,S.useState)(()=>d.heatmap?.meta?.type===n.m.HeatmapCells&&!(0,L.Nb)(d.heatmap)),w=F(d.heatmap,"x",C),de=F(d.heatmap,"y",C),pe=F(d.heatmap,"count",C),he=N=>w?.display?(0,o.cN)(w.display(N)):w?.type===ne.PU.time?(0,fe.UA)().getCurrent()?.formatDate(N,"YYYY-MM-DD HH:mm:ss"):`${N}`,X=w.values,Be=de.values,Z=pe.values,Y=(0,L.eE)(d.heatmap),te=de?.display?N=>(0,o.cN)(de.display(N)):N=>`${N}`;let B=w?.config.interval,ae,W,ce,Ne,Oe,le=[];const ge=N=>N%(d.yBucketCount??1);let z=ge(E);const Ie=Math.floor(E/(d.yBucketCount??1)),je=(N=E)=>{if(Y.yOrdinalDisplay){const V=d.yLayout===r.D7.le?z-1:z,j=d.yLayout===r.D7.le?z:z+1;ae=V<0?Y.yMinDisplay:`${Y.yOrdinalDisplay[V]}`,W=`${Y.yOrdinalDisplay[j]}`,(!Y.yOrdinalLabel||Number.isNaN(+Y.yOrdinalLabel[0]))&&(Oe=d.yLayout===r.D7.le?W:ae)}else{const V=Be?.[z];if(d.yLayout===r.D7.le)if(W=`${V}`,d.yLog){let U=(d.yLog===2?Math.log2:Math.log10)(V)-1/d.yLogSplit;ae=`${d.yLog**U}`}else ae=`${V-d.yBucketSize}`;else if(ae=`${V}`,d.yLog){let U=(d.yLog===2?Math.log2:Math.log10)(V)+1/d.yLogSplit;W=`${d.yLog**U}`}else W=`${V+d.yBucketSize}`}d.xLayout===r.D7.le?(Ne=X[N],ce=Ne-d.xBucketSize):(ce=X[N],Ne=ce+d.xBucketSize)};C?{xBucketMin:ce,xBucketMax:Ne,yBucketMin:ae,yBucketMax:W}=P(d,E):je();const{cellColor:be,colorPalette:Re}=ie(d,E),Ue=(N,V)=>{let j=[];for(let U=N;U<=V;U++){if(!Z?.[U])continue;const Ce=ie(d,U).cellColor;ve=Ge(U),C?{xBucketMin:ce,xBucketMax:Ne,yBucketMin:ae,yBucketMax:W}=P(d,U):(z=ge(U),je(U));const{label:Bt,value:Nt}=Qe()[0];j.push({label:Bt,value:Nt,color:Ce??"#FFF",isActive:E===U})}return j},Qe=()=>{const N=i===r.$N.Multi&&!c;if(Oe)return N?[{label:`Name ${Oe}`,value:d.display(ve)}]:[{label:"Name",value:Oe}];switch(d.yLayout){case r.D7.unknown:return N?[{label:te(ae),value:d.display(ve)}]:[{label:"",value:te(ae)}]}return N?[{label:`Bucket ${te(ae)}-${te(W)}`,value:d.display(ve)}]:[{label:"Bucket",value:`${te(ae)}-${te(W)}`}]},Ge=N=>Z?.[N];let ve=Ge(E);if(i===r.$N.Single||c){const N=B?[{label:"Duration",value:M(B)}]:[];le=[{label:(0,v.Ct)(pe,d.heatmap),value:d.display(ve),color:be??"#FFF",colorPlacement:x.lJ.trailing,colorIndicator:x.fX.value},...Qe(),...N]}if(i===r.$N.Multi&&!c){let N=w.values[E],V=E,j=E;for(;w.values[V-1]===N;)V--;for(;w.values[j+1]===N;)j++;Ue(V,j).forEach(Ce=>{le.push({label:Ce.label,value:Ce.value,color:Ce.color??"#FFF",colorIndicator:x.fX.value,colorPlacement:x.lJ.trailing,isActive:Ce.isActive})})}let at;if(c){let N=[],V=[];const j=d.series?.fields[z+1];if(j!=null){const U=!j.config.custom?.hideFrom?.tooltip,Ce=(j.config.links?.length??0)>0;U&&Ce&&(N=(0,Ee.u6)(j,Ie)),V=(0,Ee.OG)(d.series,j,f,Ie)}at=(0,u.jsx)(D.S,{dataLinks:N,annotate:h,actions:V})}let lt=(0,S.useRef)(null);const nt=(0,A.$j)(),St=parseInt(nt.spacing(1),10);let st=Math.min(De,y?y-St*2:De),ot=Fe,it=Math.round(st*k.A.pxRatio),rt=Math.round(ot*k.A.pxRatio);(0,S.useEffect)(()=>{a&&X!=null&&Z!=null&&i===r.$N.Single&&Pe(lt,it,rt,X,Z,E,d.yBucketCount)},[E]);const Dt={label:"",value:he(Ne)};let Ze=[];return i===r.$N.Single&&(a&&!C&&Ze.push((0,u.jsx)("canvas",{width:it,height:rt,ref:lt,style:{width:st+"px",height:ot+"px"}})),Re&&t&&Ze.push((0,u.jsx)($.w,{colorPalette:Re,min:d.heatmapColors?.minValue,max:d.heatmapColors?.maxValue,display:d.display,hoverValue:ve}))),(0,u.jsxs)(G.i,{children:[(0,u.jsx)(Ve.A,{item:Dt,isPinned:c}),(0,u.jsx)(Me.o,{items:le,isPinned:c,scrollable:(0,we.T5)({mode:i,maxHeight:m}),maxHeight:m,children:Ze?.map((N,V)=>(0,u.jsx)("div",{style:{padding:`${nt.spacing(1)} 0`},children:N},V))}),at]})};var qe=l(60519),ct=l(8721),mt=l(11576),Te=l(70210),$e=l(50348);function Je({frames:e,annotations:p,options:a,palette:c,theme:t,replaceVariables:i=m=>m,timeRange:h}){if(!e?.length)return{};(0,v.Fm)(e);const m=p?.find(f=>f.name==="exemplar");if(m?.fields.forEach(f=>{f.getLinks=(0,qe._M)(m,f,f.state?.scopedVars??{},i)}),a.calculate){let f=ut(a.calculation);return f.xBuckets.value=i(f.xBuckets.value??""),f.yBuckets.value=i(f.yBuckets.value??""),Xe((0,L.VQ)(e,{...f,timeRange:h}),m,{...a,calculation:f},c,t)}let y;for(const f of e)switch(f.meta?.type){case n.m.HeatmapCells:return(0,L.Nb)(f)?Xe(f,m,a,c,t):dt(f,m,a,c,t);case n.m.HeatmapRows:y=f}if(y==null)if(e.length>1)e.every(E=>!Number.isNaN((0,Te.L)(E.fields[1].state?.displayName)))&&e.sort(Te.Bm),y=(0,ct.Fd)({frames:e,keepDisplayNames:!0});else{let f=e[0],E=f.fields.filter(C=>C.type===ne.PU.number);E.every(C=>!Number.isNaN((0,Te.L)(C.state?.displayName)))?(E.sort((C,w)=>(0,Te.L)(C.state?.displayName)-(0,Te.L)(w.state?.displayName)),y={...f,fields:[f.fields.find(C=>C.type===ne.PU.time),...E]}):y=f}return y.fields.forEach(f=>{(f.config.links?.length??0)!==0&&(f.getLinks=(0,qe._M)(y,f,f.state?.scopedVars??{},i))}),{...Xe((0,L.yJ)({unit:a.yAxis?.unit,decimals:a.yAxis?.decimals,...a.rowsFrame,frame:y}),m,a,c,t),series:y}}const ut=e=>({xBuckets:{...e?.xBuckets,mode:e?.xBuckets?.mode??r.J1.Size},yBuckets:{...e?.yBuckets,mode:e?.yBuckets?.mode??r.J1.Size,scale:{...e?.yBuckets?.scale,type:e?.yBuckets?.scale?.type??r.L4.Linear}}}),dt=(e,p,a,c,t)=>{if(e.meta?.type!==n.m.HeatmapCells||(0,L.Nb)(e))return{warning:"Expected sparse heatmap format",heatmap:e};He(e.fields[1],a.yAxis,t);const i=e.fields[3],h=He(i,a.cellValues,t);let[m,y]=(0,$e.g$)(i.values,a.color.min,a.color.max,a.filterValues?.le,a.filterValues?.ge);return{heatmap:e,heatmapColors:{palette:c,values:(0,$e.O4)(i.values,c,m,y),minValue:m,maxValue:y},exemplars:p,display:f=>(0,o.cN)(h(f))}},Xe=(e,p,a,c,t)=>{if(e.meta?.type!==n.m.HeatmapCells)return{warning:"Expected heatmap scanlines format",heatmap:e};if(e.fields.length<2||e.length<2)return{heatmap:e};const i=(0,L.eE)(e);let h,m,y;for(const B of e.fields)switch(B.name){case"y":m=B.name;case"yMin":case"yMax":{m||(m=B.name),i.yOrdinalDisplay==null&&He(B,a.yAxis,t);break}case"x":case"xMin":case"xMax":h=B.name;break;default:B.type===ne.PU.number&&!y&&(y=B)}if(!m)return{warning:"Missing Y field",heatmap:e};if(!m)return{warning:"Missing X field",heatmap:e};if(!y)return{warning:"Missing value field",heatmap:e};const f=He(y,a.cellValues,t),E=e.fields[0].values,d=e.fields[1].values,C=E.length;let w=C-d.lastIndexOf(d[0]),de=C/w,pe=d[1]-d[0],he=E[w]-E[0],[X,Be]=(0,$e.g$)(y.values,a.color.min,a.color.max,a.filterValues?.le,a.filterValues?.ge),Z=a.calculation?.xBuckets,Y=a.calculation?.yBuckets;return{heatmap:e,heatmapColors:{palette:c,values:(0,$e.O4)(y.values,c,X,Be),minValue:X,maxValue:Be},exemplars:p?.length?p:void 0,xBucketSize:he,yBucketSize:pe,xBucketCount:de,yBucketCount:w,yLog:Y?.scale?.log??0,xLog:Z?.scale?.log??0,xLogSplit:Z?.scale?.log?+(Z?.value??"1"):1,yLogSplit:Y?.scale?.log?+(Y?.value??"1"):1,xLayout:h==="xMax"?r.D7.le:h==="xMin"?r.D7.ge:r.D7.unknown,yLayout:m==="yMax"?r.D7.le:m==="yMin"?r.D7.ge:r.D7.unknown,display:B=>(0,o.cN)(f(B))}};function He(e,p,a){if(p?.unit?.length||p?.decimals!=null){const{unit:c,decimals:t}=p;e.display=void 0,e.config={...e.config},c?.length&&(e.config.unit=c),t!=null&&(e.config.decimals=t)}return e.display||(e.display=(0,mt.J)({field:e,theme:a})),e.display}var _e=l(55995),pt=l(37634),et=l(84140),g=l(4833);const ke=[{name:"BrBG",invert:"always"},{name:"PiYG",invert:"always"},{name:"PRGn",invert:"always"},{name:"PuOr",invert:"always"},{name:"RdBu",invert:"always"},{name:"RdGy",invert:"always"},{name:"RdYlBu",invert:"always"},{name:"RdYlGn",invert:"always"},{name:"Spectral",invert:"always"},{name:"Blues",invert:"dark"},{name:"Greens",invert:"dark"},{name:"Greys",invert:"dark"},{name:"Oranges",invert:"dark"},{name:"Purples",invert:"dark"},{name:"Reds",invert:"dark"},{name:"Turbo",invert:"light"},{name:"Cividis",invert:"light"},{name:"Viridis",invert:"light"},{name:"Magma",invert:"light"},{name:"Inferno",invert:"light"},{name:"Plasma",invert:"light"},{name:"Warm",invert:"light"},{name:"Cool",invert:"light"},{name:"Cubehelix",invert:"light",name2:"CubehelixDefault"},{name:"BuGn",invert:"dark"},{name:"BuPu",invert:"dark"},{name:"GnBu",invert:"dark"},{name:"OrRd",invert:"dark"},{name:"PuBuGn",invert:"dark"},{name:"PuBu",invert:"dark"},{name:"PuRd",invert:"dark"},{name:"RdPu",invert:"dark"},{name:"YlGnBu",invert:"dark"},{name:"YlGn",invert:"dark"},{name:"YlOrBr",invert:"dark"},{name:"YlOrRd",invert:"dark"},{name:"Rainbow",invert:"always"},{name:"Sinebow",invert:"always"}],ht=ke.find(e=>e.name==="Spectral");function Ke(e,p){const a={...g.KQ.color,...e},c=[],t=(a.steps??128)-1;if(e.mode===g.P7.Opacity){const i=(0,et.A)(p.visualization.getColorByName(e.fill)).toPercentageRgb(),h=a.scale===g.uM.Exponential?_e.scalePow().exponent(a.exponent).domain([0,1]).range([0,1]):_e.scaleLinear().domain([0,1]).range([0,1]);for(let m=0;m<=t;m++)i.a=h(m/t),c.push((0,et.A)(i).toString("hex8"))}else{const i=ke.find(y=>y.name===a.scheme)??ht;let h="interpolate"+(i.name2??i.name);const m=pt[h];for(let y=0;y<=t;y++){let f=m(y/t),E=f.indexOf("rgb")===0?"#"+[...f.matchAll(/\d+/g)].map(d=>(+d[0]).toString(16).padStart(2,"0")).join(""):f;c.push(E)}(i.invert==="always"||i.invert==="dark"&&p.isDark||i.invert==="light"&&p.isLight)&&c.reverse(),e.reverse&&c.reverse()}return c}const ft=({data:e,id:p,timeRange:a,timeZone:c,width:t,height:i,options:h,fieldConfig:m,eventBus:y,onChangeTimeRange:f,replaceVariables:E})=>{const d=(0,A.$j)(),C=(0,A.of)(gt),{sync:w,eventsScope:de,canAddAnnotations:pe,onSelectRange:he}=(0,Q.d2)(),X=w?.()??R.y.Off,[Be,Z]=(0,S.useState)(null);let Y=(0,S.useRef)(a);Y.current=a;const te=(0,S.useMemo)(()=>Ke(h.color,d),[h.color,d]),B=(0,S.useMemo)(()=>{try{return Je({frames:e.series,annotations:e.annotations,options:h,palette:te,theme:d,replaceVariables:E,timeRange:a})}catch(le){return{warning:`${le}`}}},[e.series,e.annotations,h,te,d,E,a]),ae=(0,S.useMemo)(()=>{let le=[],ge=[];const z=(0,L.eE)(B.heatmap);return B.exemplars?.length&&(le=B.exemplars?.fields[0].values,z.yMatchWithLabel&&z.yOrdinalDisplay!=null?ge=(B.exemplars?.fields.find(be=>be.name===z.yMatchWithLabel).values).map(be=>z.yOrdinalLabel?.indexOf(be)):ge=B.exemplars?.fields[1].values),[null,B.heatmap?.fields.map(Ie=>Ie.values),[le,ge]]},[B.heatmap,B.exemplars]),W=(0,S.useRef)(B);W.current=B;const ce=(0,S.useMemo)(()=>{const le=W.current?.heatmap?.fields[1].config?.custom?.scaleDistribution;return(0,$e.Mv)({dataRef:W,theme:d,timeZone:c,getTimeRange:()=>Y.current,cellGap:h.cellGap,hideLE:h.filterValues?.le,hideGE:h.filterValues?.ge,exemplarColor:h.exemplars?.color??"rgba(255,0,255,0.7)",yAxisConfig:h.yAxis,ySizeDivisor:le?.type===r.L4.Log?+(h.calculation?.yBuckets?.value||1):1,selectionMode:h.selectionMode})},[h,c,e.structureRev,X]),Ne=()=>!B.heatmap||!h.legend.show?null:(0,u.jsx)(b.KU.Legend,{placement:"bottom",maxHeight:"20%",children:(0,u.jsx)("div",{className:C.colorScaleWrapper,children:(0,u.jsx)($.w,{hoverValue:void 0,colorPalette:te,min:W.current.heatmapColors?.minValue,max:W.current.heatmapColors?.maxValue,display:B.display})})});if(B.warning||!B.heatmap)return(0,u.jsx)(K.a,{panelId:p,fieldConfig:m,data:e,needsNumberField:!0,message:B.warning});const Oe=!!(pe&&pe());return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(b.KU,{width:t,height:i,legend:Ne(),children:(le,ge)=>(0,u.jsxs)(me.Z,{config:ce,data:ae,width:le,height:ge,children:[X!==R.y.Off&&(0,u.jsx)(ue.K,{config:ce,eventBus:y,frame:B.series??B.heatmap}),h.tooltip.mode!==r.$N.None&&(0,u.jsx)(O.xl,{config:ce,hoverMode:h.tooltip.mode===r.$N.Single?O.b3.xOne:O.b3.xAll,queryZoom:f,onSelectRange:he,syncMode:X,syncScope:de,render:(z,Ie,je,be,Re,Ue,Qe)=>{if(Oe&&Ue!=null){Z(Ue),Re();return}const Ge=()=>{let ve=z.posToVal(z.cursor.left,"x");Z({from:ve,to:ve}),Re()};return(0,u.jsx)(re,{mode:Qe?r.$N.Multi:h.tooltip.mode,dataIdxs:Ie,seriesIdx:je,dataRef:W,isPinned:be,dismiss:Re,showHistogram:h.tooltip.yHistogram,showColorScale:h.tooltip.showColorScale,panelData:e,annotate:Oe?Ge:void 0,maxHeight:h.tooltip.maxHeight,maxWidth:h.tooltip.maxWidth,replaceVariables:E})},maxWidth:h.tooltip.maxWidth}),(0,u.jsx)(_.W,{annotations:e.annotations??[],config:ce,timeZone:c,newRange:Be,setNewRange:Z,canvasRegionRendering:!1}),(0,u.jsx)(ee.U,{config:ce,onChangeTimeRange:f})]},ce.uid)})})},gt=()=>({colorScaleWrapper:(0,J.css)({marginLeft:"25px",padding:"10px 0",maxWidth:"300px"})}),vt=e=>{if(Object.keys(e.options??{}).length===0)return tt(e,"heatmap",{angular:e},e.fieldConfig);let p=e.options?.tooltip?.show;return p!==void 0&&(p===!0?e.options.tooltip.mode=r.$N.Single:p===!1&&(e.options.tooltip.mode=r.$N.None),delete e.options.tooltip?.show),e.options},tt=(e,p,a,c)=>{if(p==="heatmap"&&a.angular){const{fieldConfig:t,options:i}=yt({...a.angular,fieldConfig:c});return e.fieldConfig=t,i}if(p==="heatmap-new"){const{bucketFrame:t,...i}=e.options;return t?{...i,rowsFrame:t}:e.options}return{}};function yt(e){const p={defaults:{},overrides:[]},a=e.dataFormat!=="tsbuckets",c={...g.KQ.calculation},t={logBase:1,...e.yAxis};a&&(e.xBucketSize?c.xBuckets={mode:r.J1.Size,value:`${e.xBucketSize}`}:e.xBucketNumber&&(c.xBuckets={mode:r.J1.Count,value:`${e.xBucketNumber}`}),e.yBucketSize?c.yBuckets={mode:r.J1.Size,value:`${e.yBucketSize}`}:e.xBucketNumber&&(c.yBuckets={mode:r.J1.Count,value:`${e.yBucketNumber}`}),t.logBase>1&&(c.yBuckets={mode:r.J1.Count,value:+t.splitFactor>0?`${t.splitFactor}`:void 0,scale:{type:r.L4.Log,log:t.logBase}}));const i=We(e.cards?.cardPadding,2),h={calculate:a,calculation:c,color:{...g.KQ.color,steps:128},cellGap:i||1,cellRadius:We(e.cards?.cardRound),yAxis:{axisPlacement:t.show===!1?r.vM.Hidden:r.vM.Left,reverse:!!e.reverseYBuckets,axisWidth:We(t.width),min:t.min,max:t.max,unit:t.format,decimals:t.decimals},cellValues:{decimals:We(e.tooltipDecimals)},rowsFrame:{layout:xt(e.yBucketBound)},legend:{show:!!e.legend?.show},showValue:r.yL.Never,tooltip:{mode:e.tooltip?.show?r.$N.Single:r.$N.None,yHistogram:!!e.tooltip?.showHistogram},exemplars:{...g.KQ.exemplars}};e.hideZeroBuckets&&(h.filterValues={...g.KQ.filterValues});const m=e.color??{};switch(m?.mode){case"spectrum":{h.color.mode=g.P7.Scheme;const y=m.colorScheme;let f=ke.find(E=>E.name===y);f||(f=ke.find(E=>y.indexOf(E.name)>=0)),h.color.scheme=f?f.name:g.KQ.color.scheme;break}case"opacity":{h.color.mode=g.P7.Opacity,h.color.scale=m.scale;break}}return h.color.fill=m.cardColor,h.color.min=m.min,h.color.max=m.max,typeof m.min=="number"&&typeof m.max=="number"&&m.min>m.max&&(h.color.min=m.max,h.color.max=m.min,h.color.reverse=!0),{fieldConfig:p,options:h}}function xt(e){switch(e){case"upper":return r.D7.ge;case"lower":return r.D7.le;case"middle":return r.D7.unknown}return r.D7.auto}function We(e,p){if(e==null||e==="")return p;const a=+e;return isNaN(a)?p:a}class Mt{getSuggestionsForData(p){const{dataSummary:a}=p;if(!p.data?.series||!a.hasData||a.timeFieldCount<1||a.numberFieldCount<2||a.numberFieldCount>10)return;const c=Ke(g.KQ.color,se.$.theme2),t=Je({frames:p.data.series,options:g.KQ,palette:c,theme:se.$.theme2});!t||t.warning||p.getListAppender({name:"",pluginId:"heatmap",options:{},fieldConfig:{defaults:{custom:{}},overrides:[]}})}}const Et=new H.m(ft).useFieldConfig({disableStandardOptions:Object.values(q.uo).filter(e=>e!==q.uo.Links),standardOptions:{[q.uo.Links]:{settings:{showOneClick:!0}}},useCustomConfig:e=>{const p=[(0,s.t)("heatmap.category-heatmap","Heatmap")];e.addCustomEditor({id:"scaleDistribution",path:"scaleDistribution",name:(0,s.t)("heatmap.name-y-axis-scale","Y axis scale"),category:p,editor:xe.W1,override:xe.W1,defaultValue:{type:r.L4.Linear},shouldApply:a=>a.type===ne.PU.number,process:T.hS,hideFromDefaults:!0}),(0,I.e)(e)}}).setPanelChangeHandler(tt).setMigrationHandler(vt).setPanelOptions((e,p)=>{const a=p.options??g.KQ;let c=!1;if(p.data.length>0)try{const i=Ke(a.color,se.$.theme2),h=Je({frames:p.data,options:a,palette:i,theme:se.$.theme2});c=(0,L.eE)(h.heatmap).yOrdinalDisplay!=null}catch{}let t=[(0,s.t)("heatmap.category-heatmap","Heatmap")];e.addRadio({path:"calculate",name:(0,s.t)("heatmap.name-calculate-from-data","Calculate from data"),defaultValue:g.KQ.calculate,category:t,settings:{options:[{label:(0,s.t)("heatmap.calculate-from-data-options.label-yes","Yes"),value:!0},{label:(0,s.t)("heatmap.calculate-from-data-options.label-no","No"),value:!1}]}}),a.calculate&&(0,oe.J)("calculation.",e,a.calculation,t),t=[(0,s.t)("heatmap.category-y-axis","Y Axis")],e.addRadio({path:"yAxis.axisPlacement",name:(0,s.t)("heatmap.name-placement","Placement"),defaultValue:g.KQ.yAxis.axisPlacement??r.vM.Left,category:t,settings:{options:[{label:(0,s.t)("heatmap.placement-options.label-left","Left"),value:r.vM.Left},{label:(0,s.t)("heatmap.placement-options.label-right","Right"),value:r.vM.Right},{label:(0,s.t)("heatmap.placement-options.label-hidden","Hidden"),value:r.vM.Hidden}]}}).addUnitPicker({category:t,path:"yAxis.unit",name:(0,s.t)("heatmap.name-unit","Unit"),defaultValue:void 0,settings:{isClearable:!0}}).addNumberInput({category:t,path:"yAxis.decimals",name:(0,s.t)("heatmap.name-decimals","Decimals"),settings:{placeholder:(0,s.t)("heatmap.placeholder-decimals","Auto")}}),c||e.addNumberInput({path:"yAxis.min",name:(0,s.t)("heatmap.name-min-value","Min value"),settings:{placeholder:(0,s.t)("heatmap.placeholder-min-value","Auto")},category:t}).addTextInput({path:"yAxis.max",name:(0,s.t)("heatmap.name-max-value","Max value"),settings:{placeholder:(0,s.t)("heatmap.placeholder-max-value","Auto")},category:t}),e.addNumberInput({path:"yAxis.axisWidth",name:(0,s.t)("heatmap.name-axis-width","Axis width"),defaultValue:g.KQ.yAxis.axisWidth,settings:{placeholder:(0,s.t)("heatmap.placeholder-axis-width","Auto"),min:5},category:t}).addTextInput({path:"yAxis.axisLabel",name:(0,s.t)("heatmap.name-axis-label","Axis label"),defaultValue:g.KQ.yAxis.axisLabel,settings:{placeholder:(0,s.t)("heatmap.placeholder-axis-label","Auto")},category:t}),a.calculate||e.addRadio({path:"rowsFrame.layout",name:(0,s.t)("heatmap.name-tick-alignment","Tick alignment"),defaultValue:g.KQ.rowsFrame?.layout??r.D7.auto,category:t,settings:{options:[{label:(0,s.t)("heatmap.tick-alignment-options.label-auto","Auto"),value:r.D7.auto},{label:(0,s.t)("heatmap.tick-alignment-options.label-top","Top (LE)"),value:r.D7.le},{label:(0,s.t)("heatmap.tick-alignment-options.label-middle","Middle"),value:r.D7.unknown},{label:(0,s.t)("heatmap.tick-alignment-options.label-bottom","Bottom (GE)"),value:r.D7.ge}]}}),e.addBooleanSwitch({path:"yAxis.reverse",name:(0,s.t)("heatmap.name-reverse","Reverse"),defaultValue:g.KQ.yAxis.reverse===!0,category:t}),t=[(0,s.t)("heatmap.category-colors","Colors")],e.addRadio({path:"color.mode",name:(0,s.t)("heatmap.name-mode","Mode"),defaultValue:g.KQ.color.mode,category:t,settings:{options:[{label:(0,s.t)("heatmap.mode-options.label-scheme","Scheme"),value:g.P7.Scheme},{label:(0,s.t)("heatmap.mode-options.label-opacity","Opacity"),value:g.P7.Opacity}]}}),e.addColorPicker({path:"color.fill",name:(0,s.t)("heatmap.name-color","Color"),defaultValue:g.KQ.color.fill,category:t,showIf:i=>i.color.mode===g.P7.Opacity}),e.addRadio({path:"color.scale",name:(0,s.t)("heatmap.name-scale","Scale"),defaultValue:g.KQ.color.scale,category:t,settings:{options:[{label:(0,s.t)("heatmap.scale-options.label-exponential","Exponential"),value:g.uM.Exponential},{label:(0,s.t)("heatmap.scale-options.label-linear","Linear"),value:g.uM.Linear}]},showIf:i=>i.color.mode===g.P7.Opacity}),e.addSliderInput({path:"color.exponent",name:(0,s.t)("heatmap.name-exponent","Exponent"),defaultValue:g.KQ.color.exponent,category:t,settings:{min:.1,max:2,step:.1},showIf:i=>i.color.mode===g.P7.Opacity&&i.color.scale===g.uM.Exponential}),e.addSelect({path:"color.scheme",name:(0,s.t)("heatmap.name-scheme","Scheme"),description:"",defaultValue:g.KQ.color.scheme,category:t,settings:{options:ke.map(i=>({value:i.name,label:i.name}))},showIf:i=>i.color.mode!==g.P7.Opacity}),e.addSliderInput({path:"color.steps",name:(0,s.t)("heatmap.name-steps","Steps"),defaultValue:g.KQ.color.steps,category:t,settings:{min:2,max:128,step:1}}).addBooleanSwitch({path:"color.reverse",name:(0,s.t)("heatmap.name-reverse","Reverse"),defaultValue:g.KQ.color.reverse,category:t}).addCustomEditor({id:"__scale__",path:"__scale__",name:"",category:t,editor:()=>{const i=Ke(a.color,se.$.theme2);return(0,u.jsx)("div",{children:(0,u.jsx)($.w,{colorPalette:i,min:1,max:100})})}}),e.addNumberInput({path:"color.min",name:(0,s.t)("heatmap.name-start-color-from-value","Start color scale from value"),defaultValue:g.KQ.color.min,settings:{placeholder:(0,s.t)("heatmap.placeholder-start-color-from-value","Auto (min)")},category:t}).addNumberInput({path:"color.max",name:(0,s.t)("heatmap.name-end-color-at-value","End color scale at value"),defaultValue:g.KQ.color.max,settings:{placeholder:(0,s.t)("heatmap.placeholder-end-color-at-value","Auto (max)")},category:t}),t=[(0,s.t)("heatmap.category-cell-display","Cell display")],a.calculate||e.addTextInput({path:"rowsFrame.value",name:(0,s.t)("heatmap.name-value-name","Value name"),defaultValue:g.KQ.rowsFrame?.value,settings:{placeholder:(0,s.t)("heatmap.placeholder-value-name","Value")},category:t}),e.addUnitPicker({category:t,path:"cellValues.unit",name:(0,s.t)("heatmap.name-unit","Unit"),defaultValue:void 0,settings:{isClearable:!0}}).addNumberInput({category:t,path:"cellValues.decimals",name:(0,s.t)("heatmap.name-decimals","Decimals"),settings:{placeholder:(0,s.t)("heatmap.placeholder-decimals","Auto")}}),e.addSliderInput({name:(0,s.t)("heatmap.name-cell-gap","Cell gap"),path:"cellGap",defaultValue:g.KQ.cellGap,category:t,settings:{min:0,max:25}}).addNumberInput({path:"filterValues.le",name:(0,s.t)("heatmap.name-hide-cells-lt","Hide cells with values <="),defaultValue:g.KQ.filterValues?.le,settings:{placeholder:(0,s.t)("heatmap.placeholder-hide-cells-lt","None")},category:t}).addNumberInput({path:"filterValues.ge",name:(0,s.t)("heatmap.name-hide-cells-gt","Hide cells with values >="),defaultValue:g.KQ.filterValues?.ge,settings:{placeholder:(0,s.t)("heatmap.placeholder-hide-cells-gt","None")},category:t}),t=[(0,s.t)("heatmap.category-tooltip","Tooltip")],e.addRadio({path:"tooltip.mode",name:(0,s.t)("heatmap.name-tooltip-mode","Tooltip mode"),category:t,defaultValue:r.$N.Single,settings:{options:[{value:r.$N.Single,label:(0,s.t)("heatmap.tooltip-mode-options.label-single","Single")},{value:r.$N.Multi,label:(0,s.t)("heatmap.tooltip-mode-options.label-all","All")},{value:r.$N.None,label:(0,s.t)("heatmap.tooltip-mode-options.label-hidden","Hidden")}]}}),e.addBooleanSwitch({path:"tooltip.yHistogram",name:(0,s.t)("heatmap.name-show-histogram","Show histogram (Y axis)"),defaultValue:g.KQ.tooltip.yHistogram,category:t,showIf:i=>i.tooltip.mode===r.$N.Single}),e.addBooleanSwitch({path:"tooltip.showColorScale",name:(0,s.t)("heatmap.name-show-color-scale","Show color scale"),defaultValue:g.KQ.tooltip.showColorScale,category:t,showIf:i=>i.tooltip.mode===r.$N.Single}),e.addNumberInput({path:"tooltip.maxWidth",name:(0,s.t)("heatmap.name-max-width","Max width"),category:t,settings:{integer:!0},showIf:i=>i.tooltip.mode!==r.$N.None}),e.addNumberInput({path:"tooltip.maxHeight",name:(0,s.t)("heatmap.name-max-height","Max height"),category:t,defaultValue:void 0,settings:{integer:!0},showIf:(i,h,m)=>i.tooltip?.mode===r.$N.Multi||m?.some(y=>y.meta?.custom?.resultType==="exemplar")}),t=[(0,s.t)("heatmap.category-legend","Legend")],e.addBooleanSwitch({path:"legend.show",name:(0,s.t)("heatmap.name-show-legend","Show legend"),defaultValue:g.KQ.legend.show,category:t}),t=[(0,s.t)("heatmap.category-exemplars","Exemplars")],e.addColorPicker({path:"exemplars.color",name:(0,s.t)("heatmap.name-color","Color"),defaultValue:g.KQ.exemplars.color,category:t,showIf:(i,h,m)=>m?.some(y=>y.meta?.custom?.resultType==="exemplar")})}).setSuggestionsSupplier(new Mt).setDataSupport({annotations:!0})}}]);

//# sourceMappingURL=heatmapPanel.47f16de6ebfe9a0b1d83.js.map