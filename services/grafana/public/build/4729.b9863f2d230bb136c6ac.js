"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[4729,9299],{64729:(q,b,t)=>{t.r(b),t.d(b,{LicensePage:()=>ge,default:()=>Ne});var e=t(74848),p=t(96540),T=t(43173),a=t(13791),C=t(15130),W=t(32882),N=t(69788),c=t(22803),A=t(80011),s=t(92745),E=t(36490),I=t(63142),K=t(34999),R=t(45861),U=t(30703),$=t(89640),Y=t(50564),O=t(87049),Q=t(14005),H=t(74995);const F=({orgSlug:n,licenseId:i})=>{let u="https://grafana.com/contact";return n&&i&&(u=`https://grafana.com/orgs/${n}/tickets?support=licensing&licenseId=${i}`),(0,e.jsx)(R.z9,{href:u,target:"_blank",rel:"noopener noreferrer",children:(0,e.jsx)(s.x6,{i18nKey:"licensing.customer-support-button.contact-customer-support",children:"Contact customer support"})})};var r=t(43856),v=t(65240),S=t(45967);const L=({title:n,children:i,footer:u,state:x,status:o,className:h})=>{const D=(0,I.$j)(),m=y(D,x);return(0,e.jsx)(r.Q,{className:(0,c.cx)(m.container,h),disableHover:!0,children:(0,e.jsxs)("div",{className:m.inner,children:[(n||o)&&(0,e.jsxs)("div",{className:m.row,children:[n&&(0,e.jsx)("h3",{className:m.title,children:n}),o&&(0,e.jsx)(G,{state:x,status:o})]}),(0,e.jsx)("div",{className:m.content,children:i}),u&&(0,e.jsx)("div",{className:m.footer,children:u})]})})},y=(0,v.N)((n,i)=>({container:(0,c.css)({padding:n.spacing(2),marginBottom:0},i&&{border:`1px solid ${n.colors[i].border}`}),inner:(0,c.css)({display:"flex",flexDirection:"column",width:"100%"}),title:(0,c.css)({fontSize:n.typography.h3.fontSize,color:n.colors.text.secondary,marginBottom:0}),row:(0,c.css)({display:"flex",justifyContent:"space-between",width:"100%",marginBottom:n.spacing(2),alignItems:"center"}),content:(0,c.css)({display:"flex",flexDirection:"column",flex:"1 0 auto",width:"100%"}),footer:(0,c.css)({display:"flex",flexDirection:"column",alignItems:"self-start",marginTop:n.spacing(2)})})),G=({state:n,status:i})=>{const u=new Map([["warning","bell"],["error","exclamation-triangle"]]),x=(0,I.$j)(),o=Z(x,n);return n&&u.has(n)?(0,e.jsxs)("div",{role:"alert",className:o.container,children:[(0,e.jsx)(U.I,{name:u.get(n)}),i]}):null},Z=(n,i)=>({container:(0,c.css)({backgroundColor:n.colors.background.primary,padding:n.spacing(.5,1),svg:{marginRight:n.spacing(1)}},i&&{color:n.colors[i].text})}),J=({state:n,title:i,orgSlug:u,licenseId:x})=>{const o=(0,I.of)(_);return n?(0,e.jsx)(K.F,{title:i,severity:n,className:o.container,children:(0,e.jsx)(F,{orgSlug:u,licenseId:x})}):null},_=n=>({container:(0,c.css)({background:n.colors.secondary.main,marginBottom:n.spacing(3)})}),P=({content:n,state:i})=>{const u=(0,I.$j)(),x=l(u,i);return(0,e.jsx)(e.Fragment,{children:n.map(o=>{if(!o)return null;const h={marginLeft:`${o.indentLevel||0}em`};return(0,e.jsxs)("div",{className:x.row,children:[(0,e.jsxs)("span",{style:h,children:[o.name,o.tooltip&&(0,e.jsx)(S.m,{placement:"top",content:o.tooltip,theme:"info",children:(0,e.jsx)(U.I,{name:"info-circle",size:"sm"})})]}),(0,e.jsx)("span",{className:o.highlight?x.highlight:"",children:o.value})]},o.name)})})},l=(n,i)=>({row:(0,c.css)({display:"flex",justifyContent:"space-between",width:"100%",marginBottom:n.spacing(2),alignItems:"center",svg:{marginLeft:n.spacing(.5),cursor:"pointer"}}),highlight:(0,c.css)({backgroundColor:n.colors.background.primary,padding:n.spacing(.5,1),marginRight:n.spacing(-1),svg:{marginRight:n.spacing(1)}},i&&{color:n.colors[i].text})});var ee=t(57688);const k=({isUploading:n,title:i,onFileUpload:u,isDisabled:x,licensedUrl:o})=>{const h=g();return(0,e.jsxs)(e.Fragment,{children:[i&&(0,e.jsx)("h2",{className:h.title,children:i}),n?(0,e.jsx)(R.$n,{disabled:!0,children:(0,e.jsx)(s.x6,{i18nKey:"licensing.license-token-upload.uploading",children:"Uploading\u2026"})}):x?(0,e.jsx)(R.$n,{disabled:!0,children:(0,e.jsx)(s.x6,{i18nKey:"licensing.license-token-upload.upload-a-new-token",children:"Upload a new token"})}):(0,e.jsx)(ee.e,{onFileUpload:u,accept:".jwt",children:(0,e.jsx)(s.x6,{i18nKey:"licensing.license-token-upload.upload-a-new-token",children:"Upload a new token"})}),o&&(0,e.jsx)("p",{className:h.instanceUrl,children:(0,e.jsxs)(s.x6,{i18nKey:"licensing.license-token-upload.instance-url",values:{licensedUrl:o},children:["Instance URL: ",(0,e.jsx)("code",{children:"{{licensedUrl}}"})]})})]})},g=(0,v.N)(()=>({title:(0,c.css)({marginTop:"30px",marginBottom:"20px"}),instanceUrl:(0,c.css)({marginTop:"10px"})}));var d=t(61741),f=t(33970),j=t(25229);const w=(n,i)=>(i?`${i} of `:"")+(n>0?n:"unlimited"),ne=n=>(0,j.KQ)(n.exp*1e3)<(0,j.KQ)(),ve=n=>(0,j.KQ)(n.exp*1e3)<(0,j.KQ)().add(T.$.licensing.tokenExpiryWarnDays,"d"),le=n=>Math.ceil((n.exp-(0,j.KQ)().unix())/3600/24),V=n=>n?ne(n)?{state:"error",status:"Expired",title:(0,s.t)("licensing.get-token-status.title.token-expired","Token expired"),message:"Contact support to renew your token, or visit the Cloud portal to learn more."}:ve(n)?{state:"warning",status:` Expiring in ${le(n)} day(s)`,title:(0,s.t)("licensing.get-token-status.title.token-expires-soon","Token expires soon"),message:`Your token expires in ${le(n)} day(s). Contact support to renew your token.`}:{state:"",status:"",title:"",message:""}:{state:"",status:"",title:"",message:""},je=n=>n.trial_exp&&(0,j.KQ)(n.trial_exp*1e3)<(0,j.KQ)(),oe=n=>n.trial_exp?Math.ceil((n.trial_exp-(0,j.KQ)().unix())/3600/24):0,ce=(n,i)=>{const{active_users:u=0,active_anonymous_devices:x=0}=n||{};return u+Math.floor(x/(i?.anonymousRatio||1))},ye=n=>!n||!n.trial||!n.trial_exp?{state:"",status:"",title:"",message:""}:je(n)?{state:"error",status:"Expired",title:(0,s.t)("licensing.get-trial-status.title.trial-expired","Trial expired"),message:"Your trial period has expired, please contact sales to purchase a license."}:{state:"info",status:` Trial expiring in ${oe(n)} day(s)`,title:(0,s.t)("licensing.get-trial-status.title.trial-active","Trial active"),message:`Your trial expires in ${oe(n)} day(s), please contact sales to purchase a license.`},de=(n,i=0)=>100*i/n,te=(n,i)=>{let u="",x="",o="",h="";if(!n)return{state:u,status:x,title:o,message:h};if(n.limit_by===d.Bb){const D=ce(i,n),m=n.included_users;let z=0;typeof D=="number"&&(z=de(m,D)),z>d.Qf?(u="error",x="Quota exceeded: active users",o="User limit exceeded",h=`There are more than ${m} active users using Grafana.`,h+=" Contact support to increase the quotas."):z>=d._7&&(u="warning",z>=d.Qf?(x="Limit reached",o="User utilization limit reached",h=`You are at your limit of ${m} active users.`):(x="Reaching limit",o="User utilization reaching limit",h=`There are ${D} active users.`,h+=` You are approaching your limit of ${m} active users.`),x+=": active users",h+=" Contact support to increase the quotas.")}return{state:u,status:x,title:o,message:h}},Se=({token:n,stats:i,tokenRenewed:u,tokenUpdated:x,isLoading:o,licensedUrl:h})=>{const[D,m]=(0,p.useState)(!1),[z,ie]=(0,p.useState)(!1),X=V(n).state,ae=te(n,i).state,re=C.TP.hasPermission(N.AccessControlAction.LicensingWrite),B=(0,I.of)(Le),ue=ce(i,n),xe=n?.anonymousRatio||1,pe=M=>{const fe=M.currentTarget?.files?.[0];if(fe){E.Ny.partial({tokenUpdated:null,tokenRenewed:null});const me=new FileReader,Ue=()=>async De=>{m(!0);try{await(0,f.$6)(De.target.result),E.Ny.partial({tokenUpdated:!0}),setTimeout(()=>{window.location.reload()},1e3)}catch(be){throw m(!1),be}};me.onload=Ue(),me.readAsText(fe)}},Ae=async()=>{E.Ny.partial({tokenUpdated:null,tokenRenewed:null}),ie(!0);try{await(0,f.Sj)(),E.Ny.partial({tokenRenewed:!0}),setTimeout(()=>{window.location.reload()},1e3)}catch(M){throw ie(!1),M}};if(!C.TP.hasPermission(N.AccessControlAction.LicensingRead))return null;if(o)return(0,e.jsx)(O.a,{text:(0,s.t)("licensing.license-info.text-loading-licensing-info","Loading licensing info...")});let he=(0,s.t)("licensing.license-info.edition-notice-licensing-info","You are running Grafana Enterprise without a license. The Enterprise features are disabled.");return n&&![d.dO,d.eZ].includes(n.status)&&(he=(0,s.t)("licensing.license-info.edition-notice-problem-licensing-info","There is a problem with your Enterprise license token. The Enterprise features are disabled.")),!n||![d.dO,d.eZ].includes(n.status)?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Y.UpgradeInfo,{editionNotice:he}),(0,e.jsx)("div",{className:B.uploadWrapper,children:(0,e.jsx)(k,{title:(0,s.t)("licensing.license-info.title-have-a-license","Have a license?"),onFileUpload:pe,isUploading:D,isDisabled:!re,licensedUrl:h})})]}):(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:B.title,children:(0,e.jsx)(s.x6,{i18nKey:"licensing.license-info.license-details",children:"License details"})}),(0,e.jsx)(se,{...te(n,i),orgSlug:n.slug,licenseId:n.lid}),(0,e.jsx)(se,{...V(n),orgSlug:n.slug,licenseId:n.lid}),(0,e.jsx)(se,{...ye(n),orgSlug:n.slug,licenseId:n.lid}),x&&(0,e.jsx)(K.F,{title:(0,s.t)("licensing.license-info.license-alert","License token uploaded. Restart Grafana for the changes to take effect."),severity:"success",onRemove:()=>E.Ny.partial({tokenUpdated:null})}),u&&(0,e.jsx)(K.F,{title:(0,s.t)("licensing.license-info.title-license-token-renewed","License token renewed."),severity:"success",onRemove:()=>E.Ny.partial({tokenRenewed:null})}),(0,e.jsxs)("div",{className:B.row,children:[(0,e.jsx)(L,{title:(0,s.t)("licensing.license-info.title-license","License"),className:B.licenseCard,footer:(0,e.jsx)(R.z9,{variant:"secondary",href:n.details_url||`${n.iss}/licenses/${n.lid}`,"aria-label":(0,s.t)("licensing.license-info.aria-label-details-about-license-grafana-cloud","View details about your license in Grafana Cloud"),target:"_blank",rel:"noopener noreferrer",children:(0,e.jsx)(s.x6,{i18nKey:"licensing.license-info.license-details",children:"License details"})}),children:(0,e.jsx)(P,{content:[{name:n.prod?.length<=1?(0,s.t)("licensing.license-info.card-content-product","Product"):(0,s.t)("licensing.license-info.card-content-products","Products"),value:n.prod?.length<=1?n.prod[0]||(0,s.t)("licensing.license-info.card-content-none","None"):(0,e.jsx)("ul",{children:n.prod?.map(M=>(0,e.jsx)("li",{children:M},M))})},n.iss===d.WN&&n.account?{name:(0,s.t)("licensing.license-info.card-content-account","AWS Account"),value:n.account}:{name:(0,s.t)("licensing.license-info.card-content-company","Company"),value:n.company},{name:(0,s.t)("licensing.license-info.card-content-lid","License ID"),value:n.lid},n.iss===d.WN?null:{name:(0,s.t)("licensing.license-info.card-content-url-name","URL"),value:n.sub,tooltip:(0,s.t)("licensing.license-info.card-content-url-tooltip","License URL is the root URL of your Grafana instance. The license will not work on an instance of Grafana with a different root URL.")},{name:(0,s.t)("licensing.license-info.card-content-purchase-date","Purchase date"),value:(0,A.LE)(n.nbf*1e3)},n.iss===d.WN?null:{name:(0,s.t)("licensing.license-info.card-content-license-expires","License expires"),value:(0,A.LE)(n.lexp*1e3),highlight:!!V(n)?.state,tooltip:(0,s.t)("licensing.license-info.card-content-license-expires-tooltip","The license expiration date is the date when the current license is no longer active. As the license expiration date approaches, Grafana Enterprise displays a banner.")},n.iss===d.WN?null:{name:(0,s.t)("licensing.license-info.card-content-usage-billing","Usage billing"),value:n.usage_billing?(0,s.t)("licensing.license-info.card-content-usage-billing-on","On"):(0,s.t)("licensing.license-info.card-content-token-usage-billing-off","Off"),tooltip:(0,s.t)("licensing.license-info.card-content-usage-billing-tooltip","You can request Grafana Labs to turn on usage billing to allow an unlimited number of active users. When usage billing is enabled, Grafana does not enforce active user limits or display warning banners. Instead, you are charged for active users above the limit, according to your customer contract.")}]})}),(0,e.jsx)(L,{...V(n),title:(0,s.t)("licensing.license-info.title-token","Token"),footer:(0,e.jsxs)("div",{className:B.row,children:[n.iss!==d.WN&&(0,e.jsx)(k,{onFileUpload:pe,isUploading:D,isDisabled:!re}),z?(0,e.jsx)("span",{children:(0,e.jsx)(s.x6,{i18nKey:"licensing.license-info.renewing",children:" (Renewing...)"})}):(0,e.jsx)(R.$n,{variant:"secondary",onClick:Ae,disabled:!re,children:(0,e.jsx)(s.x6,{i18nKey:"licensing.license-info.renew-token",children:"Renew token"})})]}),children:(0,e.jsxs)(e.Fragment,{children:[X&&(0,e.jsx)(J,{title:(0,s.t)("licensing.license-info.title-contact-support-renew-token-visit-cloud","Contact support to renew your token, or visit the Cloud portal to learn more."),state:X,orgSlug:n.slug,licenseId:n.lid}),(0,e.jsxs)("div",{className:B.message,children:[(0,e.jsx)(U.I,{name:"document-info"}),(0,e.jsxs)(s.x6,{i18nKey:"licensing.license-info.license-token-info",children:["Read about"," ",(0,e.jsx)($.Y,{href:"https://grafana.com/docs/grafana/latest/enterprise/license/license-expiration/",external:!0,children:"license expiration"})," ","and"," ",(0,e.jsx)($.Y,{href:"https://grafana.com/docs/grafana/latest/enterprise/license/activate-license/",external:!0,children:"license activation"}),"."]})]}),(0,e.jsx)(P,{content:[{name:(0,s.t)("licensing.license-info.card-content-token-id","Token ID"),value:n.jti},{name:(0,s.t)("licensing.license-info.card-content-token-issued","Token issued"),value:(0,A.LE)(n.iat*1e3)},{name:(0,s.t)("licensing.license-info.card-content-token-expires","Token expires"),value:(0,A.LE)(n.exp*1e3),highlight:!!V(n)?.state,tooltip:(0,s.t)("licensing.license-info.card-content-token-auto-update","Grafana automatically updates the token before it expires. If your token is not updating, contact support.")}],state:X})]})}),(0,e.jsx)(L,{...te(n,i),title:(0,s.t)("licensing.license-info.title-utilization","Utilization"),footer:(0,e.jsx)("small",{className:B.footerText,children:(0,e.jsx)(s.x6,{i18nKey:"licensing.license-info.utilization-footer",children:"Utilization of licenced users is determined based on signed-in users' activity in the past 30 days."})}),children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:B.message,children:[(0,e.jsx)(U.I,{name:"document-info"}),(0,e.jsxs)(s.x6,{i18nKey:"licensing.license-info.utilization-info",children:["Read about"," ",(0,e.jsx)($.Y,{href:"https://grafana.com/docs/grafana/latest/enterprise/license/license-restrictions/#active-users-limit",external:!0,children:"active user limits"})," ","and"," ",(0,e.jsx)($.Y,{href:"https://grafana.com/docs/grafana/latest/enterprise/license/license-restrictions/#concurrent-sessions-limit",external:!0,children:"concurrent session limits"}),"."]})]}),n.limit_by===d.Bb&&(0,e.jsx)(P,{content:[{name:(0,s.t)("licensing.license-info.card-content-active-licensed-users","Active licensed users"),value:w(n.included_users,ue),highlight:de(n.included_users,ue)>=d._7},...T.$.bootData.settings.anonymousEnabled?[{name:(0,s.t)("licensing.license-info.card-content-authenticated-users","Authenticated users"),value:i?.active_users||0,indentLevel:1},{name:(0,s.t)("licensing.license-info.card-content-anonymous-users","Anonymous users"),value:Math.floor((i?.active_anonymous_devices||0)/xe),tooltip:(0,s.t)("licensing.license-info.card-content-anonymous-users-tooltip","For every {{count}} anonymous devices, Grafana counts 1 user.",{count:xe}),indentLevel:1}]:[]],state:ae})]})})]})]})},Le=n=>{const i=n.isLight?H:Q;return{title:(0,c.css)({margin:n.spacing(4,0)}),infoText:(0,c.css)({fontSize:n.typography.size.sm}),uploadWrapper:(0,c.css)({marginLeft:"79px"}),row:(0,c.css)({display:"flex",justifyContent:"space-between",width:"100%",flexWrap:"wrap",gap:n.spacing(2),"& > div":{flex:"1 1 340px"}}),footerText:(0,c.css)({marginBottom:n.spacing(2)}),licenseCard:(0,c.css)({background:`url('${i}') center no-repeat`,backgroundSize:"cover"}),message:(0,c.css)({height:"70px",a:{color:n.colors.text.link,"&:hover":{textDecoration:"underline"}},svg:{marginRight:n.spacing(.5)}})}},se=({state:n,message:i,title:u,orgSlug:x,licenseId:o})=>{const h=(0,I.of)(Te);return n?(0,e.jsx)(K.F,{title:u,severity:n||void 0,children:(0,e.jsxs)("div",{className:h.container,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{children:i}),(0,e.jsx)("a",{className:h.link,href:"https://grafana.com/docs/grafana/latest/enterprise/license/license-restrictions/",target:"_blank",rel:"noopener noreferrer",children:(0,e.jsx)(s.x6,{i18nKey:"licensing.page-alert.learn-about-enterprise-licenses",children:"Learn about Enterprise licenses"})})]}),(0,e.jsx)(F,{orgSlug:x,licenseId:o})]})}):null},Te=n=>({container:(0,c.css)({display:"flex",alignItems:"flex-start",justifyContent:"space-between",width:"100%"}),link:(0,c.css)({fontSize:n.typography.bodySmall.fontSize,textDecoration:"underline",color:n.colors.text.secondary,"&:hover":{color:n.colors.text.primary}})});var Ce=t(7913);const ge=({queryParams:n})=>{const[i,u]=(0,p.useState)(null),[x,o]=(0,p.useState)(null),[h,D]=(0,p.useState)(!1),{tokenUpdated:m,tokenRenewed:z}=n;return(0,p.useEffect)(()=>C.TP.hasPermission(N.AccessControlAction.LicensingRead)?(D(!0),(async()=>{const X=await(0,f.Pe)().catch(()=>null),ae=await(0,f.o0)().catch(()=>null);u(X),o(ae),D(!1)})(),Ce.x9):void 0,[]),(0,e.jsx)(a.Y,{navId:"licensing",children:(0,e.jsxs)(a.Y.Contents,{children:[(0,e.jsx)(W.ServerStats,{}),(0,e.jsx)(Se,{token:i,stats:x,tokenUpdated:m,tokenRenewed:z,isLoading:h,licensedUrl:T.$.licenseInfo?.appUrl})]})})},Ne=ge},32882:(q,b,t)=>{t.r(b),t.d(b,{ServerStats:()=>Q});var e=t(74848),p=t(22803),T=t(96540),a=t(92745),C=t(43173),W=t(63142),N=t(41654),c=t(45861),A=t(11257),s=t(15130),E=t(70255),I=t(8073),K=t(45967),R=t(30703);const U=({content:r,footer:v,isLoading:S})=>{const L=(0,W.of)($);return(0,e.jsxs)(I.Z,{className:L.container,children:[r.map((y,G)=>(0,e.jsxs)(N.B,{justifyContent:"space-between",alignItems:"center",children:[(0,e.jsxs)(N.B,{alignItems:"center",children:[(0,e.jsx)("span",{className:(0,p.cx)({[L.indent]:!!y.indent}),children:y.name}),y.tooltip&&(0,e.jsx)(K.m,{content:String(y.tooltip),placement:"auto-start",children:(0,e.jsx)(R.I,{name:"info-circle",className:L.tooltip})})]}),S?(0,e.jsx)(E.A,{width:60}):(0,e.jsx)("span",{className:y.highlight?L.highlight:"",children:y.value})]},G)),v&&(0,e.jsx)("div",{children:v})]})},$=r=>({container:(0,p.css)({display:"flex",flexDirection:"column",gap:r.spacing(2),margin:0,padding:r.spacing(2)}),indent:(0,p.css)({marginLeft:r.spacing(2)}),tooltip:(0,p.css)({color:r.colors.secondary.text}),highlight:(0,p.css)({color:r.colors.warning.text,padding:`${r.spacing(.5)} ${r.spacing(1)}`,marginRight:`-${r.spacing(1)}`})});var Y=t(68143);const O=async()=>(0,Y.AI)().get("api/admin/stats").catch(r=>(console.error(r),null)),Q=()=>{const[r,v]=(0,T.useState)(null),[S,L]=(0,T.useState)(!0),y=(0,W.of)(F),G=s.TP.hasPermission(A.w.DataSourcesRead),Z=s.TP.hasPermission(A.w.UsersRead);return(0,T.useEffect)(()=>{s.TP.hasPermission(A.w.ActionServerStatsRead)&&O().then(J=>{v(J),L(!1)})},[]),s.TP.hasPermission(A.w.ActionServerStatsRead)?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("h2",{className:y.title,children:(0,e.jsx)(a.x6,{i18nKey:"admin.server-settings.title",children:"Instance statistics"})}),!S&&!r?(0,e.jsx)("p",{className:y.notFound,children:(0,e.jsx)(a.x6,{i18nKey:"admin.server-settings.not-found",children:"No stats found."})}):(0,e.jsxs)(N.B,{gap:2,direction:{xs:"column",md:"row"},children:[(0,e.jsx)(U,{isLoading:S,content:[{name:"Dashboards (starred)",value:`${r?.dashboards} (${r?.stars})`},{name:"Tags",value:r?.tags},{name:"Playlists",value:r?.playlists},{name:"Snapshots",value:r?.snapshots}],footer:(0,e.jsx)(c.z9,{href:"/dashboards",variant:"secondary",children:(0,e.jsx)(a.x6,{i18nKey:"admin.server-settings.dashboards-button",children:"Manage dashboards"})})}),(0,e.jsxs)(N.B,{direction:"column",gap:2,children:[(0,e.jsx)(U,{isLoading:S,content:[{name:"Data sources",value:r?.datasources}],footer:G&&(0,e.jsx)(c.z9,{href:"/datasources",variant:"secondary",children:(0,e.jsx)(a.x6,{i18nKey:"admin.server-settings.data-sources-button",children:"Manage data sources"})})}),(0,e.jsx)(U,{isLoading:S,content:[{name:"Alerts",value:r?.alerts}],footer:(0,e.jsx)(c.z9,{href:"/alerting/list",variant:"secondary",children:(0,e.jsx)(a.x6,{i18nKey:"admin.server-settings.alerts-button",children:"Manage alerts"})})})]}),(0,e.jsx)(U,{isLoading:S,content:[{name:"Organisations",value:r?.orgs},{name:"Users total",value:r?.users},{name:"Active sessions",value:r?.activeSessions},{name:"Active users in last 30 days",value:r?.activeUsers},...H(r,C.$)],footer:Z&&(0,e.jsx)(c.z9,{href:"/admin/users",variant:"secondary",children:(0,e.jsx)(a.x6,{i18nKey:"admin.server-settings.users-button",children:"Manage users"})})})]})]}):null},H=(r,v)=>!v.anonymousEnabled||!r?.activeDevices?[]:v.anonymousDeviceLimit?[{name:"Active anonymous devices",value:`${r.activeDevices} / ${v.anonymousDeviceLimit}`,tooltip:"Detected devices that are not logged in, in last 30 days.",highlight:r.activeDevices>v.anonymousDeviceLimit}]:[{name:"Active anonymous devices",value:`${r.activeDevices}`,tooltip:"Detected devices that are not logged in, in last 30 days."}],F=r=>({title:(0,p.css)({marginBottom:r.spacing(4)}),notFound:(0,p.css)({fontSize:r.typography.h6.fontSize,textAlign:"center",height:"290px"})})},50564:(q,b,t)=>{t.r(b),t.d(b,{UpgradeInfo:()=>S,UpgradePage:()=>r,default:()=>k});var e=t(74848),p=t(22803),T=t(71468),a=t(92745),C=t(63142),W=t(45861),N=t(13791),c=t(83137),A=t(81334),s=t(535),E=t(3247),I=t(37612),K=t(84057),R=t(42581),U=t(28280),$=t(8408);const Y={fontWeight:500,fontSize:"26px",lineHeight:"123%"},O=g=>{const d=g.isDark?U:$,f=g.isDark?g.v1.palette.dark9:g.v1.palette.gray6;return{container:(0,p.css)({padding:g.spacing(4),background:g.components.panel.background}),footer:(0,p.css)({textAlign:"center",padding:g.spacing(2),background:f}),header:(0,p.css)({height:"137px",padding:g.spacing(4,0,0,4),position:"relative",background:`url('${d}') right`})}};function Q({header:g,editionNotice:d,subheader:f,children:j}){const w=(0,C.of)(O);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:w.header,children:[(0,e.jsx)("h2",{style:Y,children:g}),f&&(0,e.jsx)("h3",{children:f}),(0,e.jsx)(H,{size:"128px",style:{boxShadow:"0px 0px 24px rgba(24, 58, 110, 0.45)",background:"#0A1C36",position:"absolute",top:"19px",right:"5%"},children:(0,e.jsx)("img",{src:R,alt:"Grafana",width:"80px",style:{position:"absolute",left:"23px",top:"20px"}})})]}),(0,e.jsx)("div",{className:w.container,children:j}),d&&(0,e.jsx)("div",{className:w.footer,children:d})]})}const H=({size:g,style:d,children:f})=>{const j=(0,C.$j)();return(0,e.jsx)("div",{style:{width:g,height:g,position:"absolute",bottom:0,right:0,borderRadius:j.shape.radius.circle,...d},children:f})};var F=t(32882);function r({navModel:g}){return(0,e.jsx)(N.Y,{navModel:g,children:(0,e.jsxs)(N.Y.Contents,{children:[(0,e.jsx)(F.ServerStats,{}),(0,e.jsx)(S,{editionNotice:`You are running the open-source version of Grafana.
        You have to install the Enterprise edition in order enable Enterprise features.`})]})})}const v={fontWeight:500,fontSize:"26px",lineHeight:"123%"},S=({editionNotice:g})=>{const d=(0,C.of)(L);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("h2",{className:d.title,children:(0,e.jsx)(a.x6,{i18nKey:"admin.upgrade-info.title",children:"Enterprise license"})}),(0,e.jsx)(Q,{header:"Grafana Enterprise",subheader:"Get your free trial",editionNotice:g,children:(0,e.jsxs)("div",{className:d.column,children:[(0,e.jsx)(J,{}),(0,e.jsx)(Z,{})]})})]})},L=g=>({column:(0,p.css)({display:"grid",gridTemplateColumns:"100%",columnGap:"20px",rowGap:"40px","@media (min-width: 1050px)":{gridTemplateColumns:"50% 50%"}}),title:(0,p.css)({margin:g.spacing(4,0)})}),y=()=>(0,e.jsxs)("div",{style:{marginTop:"40px",marginBottom:"30px"},children:[(0,e.jsx)("h2",{style:v,children:(0,e.jsx)(a.x6,{i18nKey:"admin.get-enterprise.title",children:"Get Grafana Enterprise"})}),(0,e.jsx)(G,{}),(0,e.jsx)("p",{style:{paddingTop:"12px"},children:(0,e.jsx)(a.x6,{i18nKey:"admin.get-enterprise.description",children:"You can use the trial version for free for 30 days. We will remind you about it five days before the trial period ends."})})]}),G=()=>(0,e.jsx)(W.z9,{variant:"primary",size:"lg",href:"https://grafana.com/contact?about=grafana-enterprise&utm_source=grafana-upgrade-page",children:(0,e.jsx)(a.x6,{i18nKey:"admin.get-enterprise.contact-us",children:"Contact us and get a free trial"})}),Z=()=>(0,e.jsxs)("div",{children:[(0,e.jsx)("h4",{children:(0,e.jsx)(a.x6,{i18nKey:"admin.get-enterprise.service-title",children:"At your service"})}),(0,e.jsxs)(P,{children:[(0,e.jsx)(l,{title:(0,a.t)("admin.service-info.title-enterprise-plugins","Enterprise Plugins"),image:E}),(0,e.jsx)(l,{title:(0,a.t)("admin.service-info.title-critical-sla-hours","Critical SLA: 2 hours"),image:I}),(0,e.jsxs)(l,{title:(0,a.t)("admin.service-info.title-unlimited-expert-support","Unlimited Expert Support"),image:A,children:[(0,e.jsx)(a.x6,{i18nKey:"admin.service-info.year-round-support",children:"24 \xD7 7 \xD7 365 support via"}),(0,e.jsxs)(P,{nested:!0,children:[(0,e.jsx)(l,{title:(0,a.t)("admin.service-info.title-email","Email")}),(0,e.jsx)(l,{title:(0,a.t)("admin.service-info.title-private-slack-channel","Private Slack channel")}),(0,e.jsx)(l,{title:(0,a.t)("admin.service-info.title-phone","Phone")})]})]}),(0,e.jsx)(l,{title:(0,a.t)("admin.service-info.title-handinhand-support-in-the-upgrade-process","Hand-in-hand support in the upgrade process"),image:s})]}),(0,e.jsxs)("div",{style:{marginTop:"20px"},children:[(0,e.jsx)("strong",{children:(0,e.jsx)(a.x6,{i18nKey:"admin.get-enterprise.included-heading",children:"Also included:"})}),(0,e.jsx)("br",{}),(0,e.jsx)(a.x6,{i18nKey:"admin.get-enterprise.included-description",children:"Indemnification, working with Grafana Labs on future prioritization, and training from the core Grafana team."})]}),(0,e.jsx)(y,{})]}),J=()=>(0,e.jsxs)("div",{style:{paddingRight:"11px"},children:[(0,e.jsx)("h4",{children:(0,e.jsx)(a.x6,{i18nKey:"admin.get-enterprise.features-heading",children:"Enhanced functionality"})}),(0,e.jsx)(_,{})]}),_=()=>(0,e.jsxs)(P,{children:[(0,e.jsx)(l,{title:(0,a.t)("admin.feature-listing.title-data-source-permissions","Data source permissions")}),(0,e.jsx)(l,{title:(0,a.t)("admin.feature-listing.title-reporting","Reporting")}),(0,e.jsx)(l,{title:(0,a.t)("admin.feature-listing.title-saml-authentication","SAML authentication")}),(0,e.jsx)(l,{title:(0,a.t)("admin.feature-listing.title-enhanced-ldap-integration","Enhanced LDAP integration")}),(0,e.jsx)(l,{title:(0,a.t)("admin.feature-listing.title-team-sync","Team Sync"),children:(0,e.jsx)(a.x6,{i18nKey:"admin.get-enterprise.team-sync-details",children:"LDAP, GitHub OAuth, Auth Proxy, Okta"})}),(0,e.jsx)(l,{title:(0,a.t)("admin.feature-listing.title-custom-branding","Custom branding")}),(0,e.jsx)(l,{title:(0,a.t)("admin.feature-listing.title-auditing","Auditing")}),(0,e.jsx)(l,{title:(0,a.t)("admin.feature-listing.title-settings-updates-at-runtime","Settings updates at runtime")}),(0,e.jsx)(l,{title:(0,a.t)("admin.feature-listing.title-grafana-usage-insights","Grafana usage insights"),children:(0,e.jsxs)(P,{nested:!0,children:[(0,e.jsx)(l,{title:(0,a.t)("admin.feature-listing.title-sort-dashboards-by-popularity-in-search","Sort dashboards by popularity in search")}),(0,e.jsx)(l,{title:(0,a.t)("admin.feature-listing.title-find-unused-dashboards","Find unused dashboards")}),(0,e.jsx)(l,{title:(0,a.t)("admin.feature-listing.title-dashboard-usage-stats-drawer","Dashboard usage stats drawer")}),(0,e.jsx)(l,{title:(0,a.t)("admin.feature-listing.title-dashboard-presence-indicators","Dashboard presence indicators")})]})}),(0,e.jsx)(l,{title:(0,a.t)("admin.feature-listing.title-enterprise-plugins","Enterprise plugins"),children:(0,e.jsxs)(P,{nested:!0,children:[(0,e.jsx)(l,{title:"Oracle"}),(0,e.jsx)(l,{title:"Splunk"}),(0,e.jsx)(l,{title:"Service Now"}),(0,e.jsx)(l,{title:"Dynatrace"}),(0,e.jsx)(l,{title:"New Relic"}),(0,e.jsx)(l,{title:"DataDog"}),(0,e.jsx)(l,{title:"AppDynamics"}),(0,e.jsx)(l,{title:"SAP HANA\xAE"}),(0,e.jsx)(l,{title:"Gitlab"}),(0,e.jsx)(l,{title:"Honeycomb"}),(0,e.jsx)(l,{title:"Jira"}),(0,e.jsx)(l,{title:"MongoDB"}),(0,e.jsx)(l,{title:"Salesforce"}),(0,e.jsx)(l,{title:"Snowflake"}),(0,e.jsx)(l,{title:"Wavefront"})]})})]}),P=({children:g,nested:d})=>{const f=(0,p.css)({display:"flex",flexDirection:"column",paddingTop:"8px","> div":{marginBottom:`${d?0:8}px`}});return(0,e.jsx)("div",{className:f,children:g})},l=({children:g,title:d,image:f})=>{const j=f||c,w=(0,p.css)({display:"flex","> img":{display:"block",height:"22px",flexGrow:0,paddingRight:"12px"}}),ne=(0,p.css)({fontWeight:500,lineHeight:1.7});return(0,e.jsxs)("div",{className:w,children:[(0,e.jsx)("img",{src:j,alt:""}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:ne,children:d}),g]})]})},ee=g=>({navModel:(0,K.tc)(g.navIndex,"upgrading")}),k=(0,T.connect)(ee)(r)},87049:(q,b,t)=>{t.d(b,{a:()=>a});var e=t(74848),p=t(31286),T=t(6975);const a=({text:C="Loading..."})=>(0,e.jsx)(p.a,{display:"flex",alignItems:"center",direction:"column",justifyContent:"center",paddingTop:10,children:(0,e.jsx)(T._,{text:C})})}}]);

//# sourceMappingURL=4729.b9863f2d230bb136c6ac.js.map