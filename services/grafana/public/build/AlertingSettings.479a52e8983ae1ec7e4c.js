"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[9438],{95627:(un,G,r)=>{r.r(G),r.d(G,{default:()=>le});var n=r(74848),o=r(92745),j=r(45861),E=r(41654),I=r(66404),fn=r(36826),X=r(2401),S=r(96540),mn=r(8207),hn=r(54314),k=r(60208),A=r(52161),P=r(22803),vn=r(49785),xn=r(70713),q=r(63142),T=r(34999),An=r(50992),_=r(71599),Sn=r(74268),pn=r(47215),nn=r(98127),en=r(49779);function jn({alertmanagerName:e,onDismiss:t,onSave:a,onReset:i}){const{loading:s,error:c}=(0,nn.$)(N=>N.deleteAMConfig),{loading:f,error:l}=(0,nn.$)(N=>N.saveAMConfig),[d,u]=(0,S.useState)(!1),v=e===A.hY,x=(e?(0,A.AL)(e):!1)||v,C=(0,q.of)(yn),{currentData:p,error:O,isSuccess:M,isLoading:m}=(0,pn.f)(e),g={configJSON:p?JSON.stringify(p,null,2):""},{register:h,setValue:D,setError:R,handleSubmit:H,formState:{errors:K}}=(0,vn.mN)({defaultValues:g});(0,S.useEffect)(()=>{p&&D("configJSON",JSON.stringify(p,null,2))},[p,D]),(0,S.useEffect)(()=>{l&&R("configJSON",{type:"deps",message:l.message})},[l,R]),(0,S.useEffect)(()=>{c&&R("configJSON",{type:"deps",message:c.message})},[c,R]),h("configJSON",{required:{value:!0,message:(0,o.t)("alerting.alertmanager-config.message.configuration-cannot-be-empty","Configuration cannot be empty")},validate:N=>{try{return JSON.parse(N),!0}catch(Y){return Y instanceof Error?Y.message:"JSON is invalid"}}});const Z=H(N=>{a(e,g.configJSON,N.configJSON)},Sn.KF),U=m||s||f;if(O)return(0,n.jsx)(T.F,{severity:"error",title:(0,o.t)("alerting.alertmanager-config.title-failed-to-load-alertmanager-configuration","Failed to load Alertmanager configuration"),children:O.message??"An unknown error occurred."});if(s)return(0,n.jsx)(T.F,{severity:"info",title:(0,o.t)("alerting.alertmanager-config.title-resetting-alertmanager-configuration","Resetting Alertmanager configuration"),children:(0,n.jsx)(o.x6,{i18nKey:"alerting.alertmanager-config.resetting-configuration-might-while",children:"Resetting configuration, this might take a while."})});const ce=(0,o.t)("alerting.alertmanager-config.reset-confirmation",'Are you sure you want to reset configuration for "{{alertmanagerName}}"? Contact points and notification policies will be reset to their defaults.',{alertmanagerName:e});return(0,n.jsxs)("div",{className:C.container,children:[v&&(0,n.jsx)(T.F,{severity:"info",title:(0,o.t)("alerting.alertmanager-config.gma-manual-configuration-is-not-supported","Manual configuration changes not supported"),children:(0,n.jsx)(o.x6,{i18nKey:"alerting.alertmanager-config.gma-manual-configuration-description",children:"The internal Grafana Alertmanager configuration cannot be manually changed. To change this configuration, edit the individual resources through the UI."})}),K.configJSON&&(0,n.jsx)(T.F,{severity:"error",title:(0,o.t)("alerting.alertmanager-config.title-oops-something-went-wrong","Oops, something went wrong"),children:K.configJSON.message||"An unknown error occurred."}),M&&(0,n.jsx)("div",{className:C.content,children:(0,n.jsx)(xn.Ay,{children:({height:N,width:Y})=>(0,n.jsx)(An.B,{language:"json",width:Y,height:N,showLineNumbers:!0,monacoOptions:{scrollBeyondLastLine:!1},value:g.configJSON,showMiniMap:!1,onSave:Q=>D("configJSON",Q),onBlur:Q=>D("configJSON",Q),readOnly:U})})}),(0,n.jsxs)(E.B,{justifyContent:"flex-end",children:[!x&&(0,n.jsx)(j.$n,{variant:"destructive",onClick:()=>u(!0),disabled:U,children:(0,n.jsx)(o.x6,{i18nKey:"alerting.alertmanager-config.reset",children:"Reset"})}),(0,n.jsx)(en.h,{}),(0,n.jsx)(j.$n,{variant:"secondary",onClick:()=>t(),disabled:U,children:(0,n.jsx)(o.x6,{i18nKey:"alerting.common.cancel",children:"Cancel"})}),!x&&(0,n.jsx)(j.$n,{variant:"primary",onClick:Z,disabled:U,children:(0,n.jsx)(o.x6,{i18nKey:"common.save",children:"Save"})})]}),(0,n.jsx)(_.u,{isOpen:d,title:(0,o.t)("alerting.alertmanager-config.title-reset-alertmanager-configuration","Reset Alertmanager configuration"),body:ce,confirmText:(0,o.t)("alerting.alertmanager-config.confirmText-yes-reset-configuration","Yes, reset configuration"),onConfirm:()=>{i(e),u(!1)},onDismiss:()=>{u(!1)}})]})}const yn=e=>({container:(0,P.css)({display:"flex",flexDirection:"column",height:"100%",gap:e.spacing(2)}),content:(0,P.css)({flex:"1 1 100%"})});var w=r(2543),Cn=r(32899),En=r(75234),Dn=r(43173),L=r(84266),W=r(8535),J=r(91984),In=r(5709);const $=In.H.injectEndpoints({endpoints:e=>({getAllDataSourceSettings:e.query({query:()=>({url:"api/datasources"}),providesTags:t=>t?t.map(({uid:a})=>({type:"DataSourceSettings",id:a})):["DataSourceSettings"]}),getDataSourceSettingsForUID:e.query({query:t=>({url:`api/datasources/uid/${t}`}),providesTags:(t,a,i)=>[{type:"DataSourceSettings",id:i}]}),updateDataSourceSettingsForUID:e.mutation({query:({uid:t,settings:a})=>({url:`api/datasources/uid/${t}`,method:"PUT",data:a,showSuccessAlert:!1}),invalidatesTags:(t,a,i)=>[{type:"DataSourceSettings",id:i.uid}]})})});function On({refetchOnMountOrArgChange:e=!1}={}){const{alertmanagerDataSources:t}=$.endpoints.getAllDataSourceSettings.useQuery(void 0,{refetchOnReconnect:!0,refetchOnMountOrArgChange:e,selectFromResult:i=>{const s=i.currentData?.filter(A.bD)??[];return{...i,alertmanagerDataSources:s}}}),{currentData:a}=J.m.endpoints.getExternalAlertmanagers.useQuery(void 0,{refetchOnReconnect:!0,refetchOnMountOrArgChange:e});return t?t.map(i=>{const s=a?Mn(a,i):"unknown";return{dataSourceSettings:i,status:s}}):[]}function Mn(e,t){if(!t.jsonData.handleGrafanaManagedAlerts)return"uninterested";const i=e?.activeAlertManagers.some(l=>tn(t.url,l.url))??[],s=e?.droppedAlertManagers.some(l=>tn(t.url,l.url))??[];return!i&&!s?"pending":i&&s?"inconclusive":i?"active":s?"dropped":"unknown"}const Nn="/alertmanager/api/v2/alerts",Ln="/api/v2/alerts";function tn(e,t){const a=Rn(e),i=t===`${a}${Ln}`,s=t===`${a}${Nn}`;return i||s}function Rn(e){return(new RegExp("^[^:]*://").test(e)?e:`http://${e}`).replace(/\/+$/,"")}var an=r(11018);const rn=e=>{if(!e)return!0;switch(e.alertmanagersChoice){case L.nA.Internal:case L.nA.All:return!0;case L.nA.External:default:return!1}};var Tn=r(1932);const bn=()=>{const[e,t]=$.endpoints.getDataSourceSettingsForUID.useLazyQuery(),[a,i]=$.endpoints.updateDataSourceSettingsForUID.useMutation(),s=async(d,u)=>{const v=await e(d).unwrap();if(!(0,A.bD)(v))throw new Error(`Data source with UID ${d} is not an Alertmanager data source`);const y=(0,Tn.jM)(v,x=>{x.jsonData.handleGrafanaManagedAlerts=u});a({uid:d,settings:y})},c=d=>s(d,!0),f=d=>s(d,!1),l={isLoading:t.isLoading||i.isLoading,isError:t.isError||i.isError,error:t.error||i.error,data:i.data};return[c,f,l]},wn=(0,En.J7)(),on=(0,S.createContext)(void 0),sn=e=>e===A.hY,Jn=e=>{const t=[],a=Dn.$.featureToggles.alertingDisableSendAlertsExternal===!0,{currentData:i,isLoading:s}=J.m.endpoints.getGrafanaAlertingConfiguration.useQuery(),[c,f]=J.m.endpoints.updateGrafanaAlertingConfiguration.useMutation(),[l,d,u]=bn(),v=On({refetchOnMountOrArgChange:!0});rn(i)&&t.push(A.hY),v.filter(m=>(0,A.iV)(m.dataSourceSettings)).forEach(m=>{t.push(m.dataSourceSettings.uid)});const x=m=>{const g=(0,w.union)([m],t),h=ln(g);h!==null&&(h!==i?.alertmanagersChoice&&c({alertmanagersChoice:h}),sn(m)||l(m))},C=m=>{const g=(0,w.without)(t,m),h=ln(g);h!==null&&(h!==i?.alertmanagersChoice&&c({alertmanagersChoice:h}),sn(m)||d(m))},p=(m,g,h)=>{(0,W.JD)((0,an.RW)({newConfig:JSON.parse(h),oldConfig:JSON.parse(g),alertManagerSourceName:m,successMessage:"Alertmanager configuration updated."}))},O=m=>{(0,W.JD)((0,an.nO)(m))},M={configuration:i,forwardingDisabled:a,externalAlertmanagerDataSourcesWithStatus:v,enableAlertmanager:x,disableAlertmanager:C,isLoading:s,isUpdating:f.isLoading||u.isLoading,updateAlertmanagerSettings:p,resetAlertmanagerSettings:O};return(0,n.jsx)(on.Provider,{value:M,children:e.children})};function ln(e){const t=e.some(i=>i===A.hY),a=e.some(i=>i!==A.hY);return t&&a?L.nA.All:!t&&a?L.nA.External:t&&!a?L.nA.Internal:(wn.publish({type:Cn.r1.alertError.name,payload:["You need to have at least one Alertmanager to receive alerts."]}),null)}function V(){const e=(0,S.useContext)(on);if(e===void 0)throw new Error("useSettings must be used within a SettingsContext");const t=(0,w.debounce)(()=>{(0,W.JD)($.util.invalidateTags(["AlertmanagerConnectionStatus"]))},3e3),a=(0,S.useRef)(t);return e.externalAlertmanagerDataSourcesWithStatus.some(({status:s})=>s==="pending")&&a.current(),(0,S.useEffect)(()=>{t.cancel()},[t]),e}var Bn=r(95093),Gn=r.n(Bn),B=r(99887),Pn=r(27594),$n=r(1199),Vn=r(85835),Fn=r(77256);const Kn=30,Un=({alertmanagerName:e})=>{const[t,a]=(0,S.useState)(void 0),[i,s]=(0,S.useState)(!1),[c,f]=(0,S.useState)(void 0),{currentData:l=[],isLoading:d,error:u}=J.m.endpoints.getAlertmanagerConfigurationHistory.useQuery(void 0),[v,y]=J.m.endpoints.resetAlertmanagerConfigurationToOldVersion.useMutation(),x=()=>{s(!0)},C=()=>{s(!1)},p=g=>{f(void 0),a(void 0),v({id:g})};if(u)return(0,n.jsx)(T.F,{title:(0,o.t)("alerting.alertmanager-configuration-version-manager.title-failed-to-load-configuration-history","Failed to load configuration history"),children:(0,Fn.JZ)(u)});if(d)return(0,n.jsx)(o.x6,{i18nKey:"alerting.alertmanager-configuration-version-manager.loading",children:"Loading..."});if(!l.length)return(0,n.jsx)(o.x6,{i18nKey:"alerting.alertmanager-configuration-version-manager.no-previous-configurations",children:"No previous configurations"});const M=l.map((g,h)=>{const D=l[0],R=l[h];return{...g,diff:R?(0,Vn.h)(g,D,z):{added:0,removed:0}}}).map(g=>({id:String(g.id??0),lastAppliedAt:g.last_applied??"unknown",diff:g.diff})),m=[{id:"lastAppliedAt",header:"Last applied",cell:Wn},{id:"diff",disableGrow:!0,cell:({row:g,value:h})=>g.index===0?null:(0,n.jsxs)(E.B,{alignItems:"baseline",gap:.5,children:[(0,n.jsxs)(I.E,{color:"success",variant:"bodySmall",children:["+",h.added]}),(0,n.jsxs)(I.E,{color:"error",variant:"bodySmall",children:["-",h.removed]})]})},{id:"actions",disableGrow:!0,cell:({row:g})=>{const h=g.index===0,D=Number(g.id);return(0,n.jsx)(E.B,{direction:"row",alignItems:"center",justifyContent:"flex-end",children:h?(0,n.jsx)(B.E,{text:(0,o.t)("alerting.alertmanager-configuration-version-manager.columns.text-latest","Latest"),color:"blue"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.$n,{variant:"secondary",size:"sm",icon:"code-branch",fill:"outline",onClick:()=>{const R=l[0],H=l[g.index],K=z(R),Z=z(H);a(D),f([JSON.stringify(K,null,2),JSON.stringify(Z,null,2)])},children:(0,n.jsx)(o.x6,{i18nKey:"alerting.alertmanager-configuration-version-manager.columns.compare",children:"Compare"})}),(0,n.jsx)(j.$n,{variant:"secondary",size:"sm",icon:"history",onClick:()=>{a(D),x()},disabled:y.isLoading,children:(0,n.jsx)(o.x6,{i18nKey:"alerting.alertmanager-configuration-version-manager.columns.restore",children:"Restore"})})]})})}}];return y.isLoading?(0,n.jsx)(T.F,{severity:"info",title:(0,o.t)("alerting.alertmanager-configuration-version-manager.title-restoring-alertmanager-configuration","Restoring Alertmanager configuration"),children:(0,n.jsx)(o.x6,{i18nKey:"alerting.alertmanager-configuration-version-manager.this-might-take-a-while",children:"This might take a while..."})}):(0,n.jsxs)(n.Fragment,{children:[c?(0,n.jsx)(Yn,{left:c[0],right:c[1],disabled:y.isLoading,onCancel:()=>{a(void 0),f(void 0),C()},onConfirm:()=>{x()}}):(0,n.jsx)(Pn.j,{pageSize:Kn,columns:m,data:M,getRowId:g=>g.id}),(0,n.jsx)(_.u,{isOpen:i,title:(0,o.t)("alerting.alertmanager-configuration-version-manager.title-restore-version","Restore version"),body:(0,o.t)("alerting.alertmanager-configuration-version-manager.body-restore-configuration-version-unsaved-changes","Are you sure you want to restore the configuration to this version? All unsaved changes will be lost."),confirmText:(0,o.t)("alerting.alertmanager-configuration-version-manager.confirmText-yes-restore-configuration","Yes, restore configuration"),onConfirm:()=>{t&&p(t),C()},onDismiss:()=>C()})]})};function Yn({left:e,right:t,disabled:a=!1,onCancel:i,onConfirm:s}){const c=(0,q.of)(zn);return(0,n.jsxs)("div",{className:c.drawerWrapper,children:[(0,n.jsx)("div",{className:c.diffWrapper,children:(0,n.jsx)($n.M,{newValue:e,oldValue:t,hideLineNumbers:!0})}),(0,n.jsxs)(E.B,{direction:"row",alignItems:"center",children:[(0,n.jsx)(en.h,{}),(0,n.jsx)(j.$n,{variant:"secondary",onClick:i,disabled:a,children:(0,n.jsx)(o.x6,{i18nKey:"alerting.compare-versions.return",children:"Return"})}),(0,n.jsx)(j.$n,{icon:"history",variant:"primary",onClick:s,disabled:a,children:(0,n.jsx)(o.x6,{i18nKey:"alerting.compare-versions.restore",children:"Restore"})})]})]})}const Wn=({value:e})=>{const t=Gn()(e);return(0,n.jsxs)(E.B,{direction:"row",alignItems:"center",children:[t.toLocaleString(),(0,n.jsx)(I.E,{variant:"bodySmall",color:"secondary",children:t.fromNow()})]})},zn=e=>({drawerWrapper:(0,P.css)({maxHeight:"100%",display:"flex",flexDirection:"column",gap:e.spacing(1)}),diffWrapper:(0,P.css)({overflowY:"auto"})});function z(e){return(0,w.omit)(e,["id","last_applied"])}function Hn(){const[e,t]=(0,S.useState)("configuration"),[a,i]=(0,S.useState)(),[s,c]=(0,S.useState)(!1),{updateAlertmanagerSettings:f,resetAlertmanagerSettings:l}=V(),d=a===A.hY,v=(a?(0,A.AL)(a):!1)||d,y=p=>{i(p),c(!0)},x=(0,S.useCallback)(()=>{t("configuration"),c(!1)},[]);return[(0,S.useMemo)(()=>{if(!s)return null;const p=a===A.hY,O=p?(0,o.t)("alerting.use-edit-configuration-drawer.drawer.internal-grafana-alertmanager-title","Grafana built-in Alertmanager"):a,M=v?(0,o.t)("alerting.use-edit-configuration-drawer.drawer.title-view-the-alertmanager-configuration","View Alertmanager configuration"):(0,o.t)("alerting.use-edit-configuration-drawer.drawer.title-edit-the-alertmanager-configuration","Edit Alertmanager configuration");return(0,n.jsxs)(mn._,{onClose:x,title:O,subtitle:M,tabs:(0,n.jsxs)(hn.U,{children:[(0,n.jsx)(k.o,{label:(0,o.t)("alerting.use-edit-configuration-drawer.drawer.label-json-model","JSON Model"),icon:"arrow",active:e==="configuration",onChangeTab:()=>t("configuration")},"configuration"),(0,n.jsx)(k.o,{label:(0,o.t)("alerting.use-edit-configuration-drawer.drawer.label-versions","Versions"),icon:"history",active:e==="versions",onChangeTab:()=>t("versions"),hidden:!p},"versions")]}),children:[e==="configuration"&&a&&(0,n.jsx)(jn,{alertmanagerName:a,onDismiss:x,onSave:f,onReset:l}),e==="versions"&&a&&(0,n.jsx)(Un,{alertmanagerName:a})]})},[s,a,v,x,e,f,l]),y,x]}var Zn=r(37946),Qn=r(92367),b=r(8073),Xn=r(89640);const kn=r.p+"static/img/logo.05dd2009.svg";var qn=r(1972);function cn({name:e,href:t,url:a,logo:i=kn,provisioned:s=!1,readOnly:c=s,showStatus:f=!0,implementation:l,receiving:d=!1,status:u="unknown",onEditConfiguration:v,onEnable:y,onDisable:x}){const C=!s&&!!y&&!!x;return(0,n.jsxs)(b.Z,{"data-testid":`alertmanager-card-${e}`,children:[(0,n.jsx)(b.Z.Heading,{children:(0,n.jsxs)(E.B,{alignItems:"center",gap:1,children:[t?(0,n.jsx)(X.d,{title:(0,o.t)("alerting.alertmanager-card.title-alerting-settings","Alerting settings"),component:(0,n.jsx)(Xn.Y,{href:t,inline:!1,children:e})}):e,s&&(0,n.jsx)(qn.rS,{})]})}),(0,n.jsx)(b.Z.Figure,{children:(0,n.jsx)("img",{alt:`logo for ${e}`,src:i})}),(0,n.jsx)(b.Z.Meta,{children:(0,n.jsxs)(E.B,{direction:"column",gap:1,alignItems:"flex-start",children:[(0,n.jsxs)(b.Z.Meta,{children:[l&&(0,w.capitalize)(l),a&&a]}),f?(0,n.jsx)(n.Fragment,{children:d?(0,n.jsxs)(n.Fragment,{children:[u==="pending"&&(0,n.jsx)(B.E,{text:(0,o.t)("alerting.alertmanager-card.text-activation-in-progress","Activation in progress"),color:"orange"}),u==="active"&&(0,n.jsx)(B.E,{text:(0,o.t)("alerting.alertmanager-card.text-receiving-grafanamanaged-alerts","Receiving Grafana-managed alerts"),color:"green"}),u==="dropped"&&(0,n.jsx)(B.E,{text:(0,o.t)("alerting.alertmanager-card.text-failed-to-adopt-alertmanager","Failed to adopt Alertmanager"),color:"red"}),u==="inconclusive"&&(0,n.jsx)(B.E,{text:(0,o.t)("alerting.alertmanager-card.text-inconclusive","Inconclusive"),color:"orange"})]}):(0,n.jsx)(I.E,{variant:"bodySmall",children:(0,n.jsx)(o.x6,{i18nKey:"alerting.alertmanager-card.not-receiving-grafana-managed-alerts",children:"Not receiving Grafana managed alerts"})})}):null]})}),(0,n.jsx)(b.Z.Tags,{children:(0,n.jsxs)(E.B,{direction:"row",gap:1,children:[(0,n.jsx)(j.$n,{onClick:v,icon:c?"eye":"edit",variant:"secondary",fill:"outline",children:c?(0,n.jsx)(o.x6,{i18nKey:"alerting.alertmanager-card.view-configuration",children:"View configuration"}):(0,n.jsx)(o.x6,{i18nKey:"alerting.alertmanager-card.edit-configuration",children:"Edit configuration"})}),C?(0,n.jsx)(n.Fragment,{children:d?(0,n.jsx)(j.$n,{icon:"times",variant:"destructive",fill:"outline",onClick:x,children:(0,n.jsx)(o.x6,{i18nKey:"alerting.alertmanager-card.disable",children:"Disable"})}):(0,n.jsx)(j.$n,{icon:"check",variant:"secondary",fill:"outline",onClick:y,children:(0,n.jsx)(o.x6,{i18nKey:"alerting.alertmanager-card.enable",children:"Enable"})})}):null]})})]})}const _n=({onEditConfiguration:e})=>{const{externalAlertmanagerDataSourcesWithStatus:t,configuration:a,enableAlertmanager:i,disableAlertmanager:s,forwardingDisabled:c}=V(),f=l=>{const d=[L.nA.All,L.nA.External].some(v=>a?.alertmanagersChoice===v),u=(0,A.iV)(l.dataSourceSettings);return d&&u};return(0,n.jsx)(E.B,{direction:"column",gap:0,children:t.map(l=>{const{uid:d,name:u,jsonData:v,url:y}=l.dataSourceSettings,{status:x}=l,C=f(l),p=(0,A.yc)(l.dataSourceSettings),O=(0,A.AL)(l.dataSourceSettings.name),M=(0,Qn.G)(Zn.I.Edit.replace(/:uid/gi,d)),m=()=>e(u),g=c?void 0:()=>i(d),h=c?void 0:()=>s(d);return(0,n.jsx)(cn,{name:u,href:M,url:y,provisioned:p,readOnly:O,showStatus:!c,implementation:v.implementation??"Prometheus",receiving:C,status:x,onEditConfiguration:m,onDisable:h,onEnable:g},d)})})};var ne=r(42581);const ee="Grafana built-in";function te({onEditConfiguration:e}){const{configuration:t,enableAlertmanager:a,disableAlertmanager:i,forwardingDisabled:s}=V(),c=rn(t),f=c?"active":"uninterested",l=()=>e(A.hY),d=s?void 0:()=>a(A.hY),u=s?void 0:()=>i(A.hY);return(0,n.jsx)(cn,{name:ee,logo:ne,status:f,receiving:c,onEditConfiguration:l,onEnable:d,onDisable:u,readOnly:!0})}var gn=r(54148),dn=r(52763);const F=new Map;function ge(e){if(F.has(e.url)){console.warn("Unable to add settings page, PageNav must have an unique url");return}F.set(e.url,{nav:e})}function ae(){const e=(0,gn.zy)(),a=(0,dn.d4)(s=>s.navIndex)["alerting-admin"];return Array.from(F.entries()).map(([s,{nav:c}])=>({...c,active:e.pathname===s,url:s,parentItem:a}))}function de(){F.clear()}function re(){const e=(0,gn.zy)(),a=(0,dn.d4)(f=>f.navIndex)["alerting-admin"],i=ae(),s=[{id:"alertmanager",text:(0,o.t)("alerting.settings.tabs.alert-managers","Alert managers"),url:"/alerting/admin/alertmanager",active:e.pathname==="/alerting/admin/alertmanager",icon:"cloud",parentItem:a},...i];return{navId:"alerting",pageNav:{...a,children:s}}}var ie=r(88547);function oe(){return(0,n.jsx)(Jn,{children:(0,n.jsx)(se,{})})}function se(){const[e,t]=Hn(),{isLoading:a}=V(),{navId:i,pageNav:s}=re();return(0,n.jsxs)(fn.d,{navId:i,isLoading:a,pageNav:s,actions:[(0,n.jsx)(X.d,{title:(0,o.t)("alerting.settings-content.title-alerting-settings","Alerting settings"),component:(0,n.jsx)(j.z9,{href:"/connections/datasources/alertmanager",icon:"plus",variant:"primary",children:(0,n.jsx)(o.x6,{i18nKey:"alerting.settings-content.add-new-alertmanager",children:"Add new Alertmanager"})})},"add-alertmanager")],children:[(0,n.jsxs)(E.B,{direction:"column",gap:2,children:[(0,n.jsx)(I.E,{variant:"h5",children:(0,n.jsx)(o.x6,{i18nKey:"alerting.settings-content.builtin-alertmanager",children:"Built-in Alertmanager"})}),(0,n.jsx)(te,{onEditConfiguration:t}),(0,n.jsx)(I.E,{variant:"h5",children:(0,n.jsx)(o.x6,{i18nKey:"alerting.settings-content.other-alertmanagers",children:"Other Alertmanagers"})}),(0,n.jsx)(_n,{onEditConfiguration:t})]}),e]})}const le=(0,ie.S)(oe)},47215:(un,G,r)=>{r.d(G,{f:()=>o});var n=r(91984);function o(j,E){const I=n.m.endpoints.getAlertmanagerConfiguration.useQuery(j??"",{refetchOnMountOrArgChange:!0,...E,skip:!j});return{...I,error:I.error}}}}]);

//# sourceMappingURL=AlertingSettings.479a52e8983ae1ec7e4c.js.map